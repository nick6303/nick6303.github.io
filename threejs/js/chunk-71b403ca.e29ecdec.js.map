{"version":3,"sources":["webpack:///./src/views/Point/Explose.vue?8d27","webpack:///./src/views/Point/Explose.vue?4394","webpack:///./src/views/Point/Explose.vue?e737","webpack:///./src/assets/img/smoke.png","webpack:///./src/views/Point/Explose.vue","webpack:///./src/views/Point/Explose.vue?5c0e"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","default","locals","add","class","ref","_createElementVNode","id","_createElementBlock","_hoisted_2","name","setup","camera","scene","renderer","cameraControl","gui","explosion","explose","pointCount","movementSpeed","size","smoke","require","smokeTexture","THREE","load","controls","this","explosionTrigger","destroy","Explosion","pointSize","cameraNear","x","y","geometry","material","color","Math","random","map","blending","depthTest","transparent","opacity","pCount","dirs","positions","r","randFloat","theta","PI","phi","sin","cos","z","setAttribute","points","object","p","d","attributes","position","array","needsUpdate","dispose","remove","length","init","window","innerWidth","innerHeight","set","lookAt","setSize","shadowMap","enabled","type","OrbitControls","domElement","enableDamping","dampingFactor","dat","onChange","e","near","value","appendChild","render","update","requestAnimationFrame","onMounted","addEventListener","aspect","updateProjectionMatrix","__exports__"],"mappings":"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","file":"js/chunk-71b403ca.e29ecdec.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#stats[data-v-162a1dd8]{position:absolute;left:0;top:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Explose.vue?vue&type=style&index=0&id=162a1dd8&lang=sass&scoped=true\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Explose.vue?vue&type=style&index=0&id=162a1dd8&lang=sass&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"29948bd9\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","module.exports = \"data:image/png;base64,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\"","<template lang=\"pug\">\r\n.Explose(ref=\"explose\")\r\n#stats\r\n</template>\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport * as THREE from 'three'\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\r\n\r\nimport * as dat from 'dat.gui'\r\n\r\nexport default {\r\n  name: 'Explose',\r\n  setup() {\r\n    const explose = ref(null)\r\n    let camera, scene, renderer, cameraControl, gui\r\n\r\n    // 變數宣告\r\n    const pointCount = 10000 // 粒子總數\r\n    const movementSpeed = 20 // 移速種子\r\n    let explosion // 爆炸物件\r\n    let size = 20 // 粒子尺寸\r\n    const smoke = require('@img/smoke.png')\r\n    const smokeTexture = new THREE.TextureLoader().load(smoke)\r\n\r\n    // dat.GUI\r\n    let controls = new (function () {\r\n      this.explosionTrigger = function () {\r\n        if (explosion) {\r\n          explosion.destroy()\r\n        }\r\n        explosion = new Explosion(0, 0)\r\n      }\r\n      this.pointSize = 20\r\n      this.cameraNear = 500\r\n      // this.pointCount = 1000\r\n    })()\r\n\r\n    // 爆炸類別\r\n    class Explosion {\r\n      constructor(x, y) {\r\n        // 幾何體\r\n        const geometry = new THREE.BufferGeometry()\r\n\r\n        // 材質\r\n        this.material = new THREE.PointsMaterial({\r\n          size: size,\r\n          color: new THREE.Color(Math.random() * 0xffffff), // 顏色隨機\r\n          map: smokeTexture,\r\n          blending: THREE.AdditiveBlending,\r\n          depthTest: false,\r\n          transparent: true,\r\n          opacity: 0.7,\r\n        })\r\n\r\n        this.pCount = pointCount\r\n        this.movementSpeed = movementSpeed\r\n        this.dirs = []\r\n        this.positions = []\r\n\r\n        // 建立粒子系統所需頂點\r\n        for (let i = 0; i < this.pCount; i++) {\r\n          // const vertex = new THREE.Vector3(x, y, 0) // 每個頂點起點都在爆炸起源點\r\n          // geometry.vertices.push(vertex)\r\n          this.positions.push(x, y, 0)\r\n          const r = this.movementSpeed * THREE.Math.randFloat(0, 1)\r\n          // 噴射方向隨機 -> 不規則球體\r\n          const theta = Math.random() * Math.PI * 2\r\n          const phi = Math.random() * Math.PI\r\n          this.dirs.push({\r\n            x: r * Math.sin(phi) * Math.cos(theta),\r\n            y: r * Math.sin(phi) * Math.sin(theta),\r\n            z: r * Math.cos(phi),\r\n          })\r\n        }\r\n\r\n        geometry.setAttribute(\r\n          'position',\r\n          new THREE.Float32BufferAttribute(this.positions, 3)\r\n        )\r\n\r\n        let points = new THREE.Points(geometry, this.material)\r\n\r\n        this.object = points\r\n\r\n        scene.add(this.object)\r\n      }\r\n      update() {\r\n        let p = this.pCount\r\n        const d = this.dirs\r\n        const positions = this.object.geometry.attributes.position.array\r\n        while (p--) {\r\n          positions[3 * p] += d[p].x\r\n          positions[3 * p + 1] += d[p].y\r\n          positions[3 * p + 2] += d[p].z\r\n        }\r\n        this.object.geometry.attributes.position.needsUpdate = true\r\n      }\r\n      destroy() {\r\n        this.object.geometry.dispose()\r\n        scene.remove(this.object)\r\n        // console.log(renderer.info) // 驗證\r\n        this.dirs.length = 0\r\n      }\r\n    }\r\n\r\n    const init = () => {\r\n      scene = new THREE.Scene()\r\n\r\n      // \b相機設定與 OrbitControls\r\n      camera = new THREE.PerspectiveCamera(\r\n        70,\r\n        window.innerWidth / window.innerHeight,\r\n        500,\r\n        5000\r\n      )\r\n      camera.position.set(0, 0, 1000)\r\n      camera.lookAt(scene.position)\r\n\r\n      // 渲染器設定\r\n      renderer = new THREE.WebGLRenderer()\r\n      renderer.setSize(window.innerWidth, window.innerHeight)\r\n      renderer.shadowMap.enabled = true // 設定需渲染陰影效果\r\n      renderer.shadowMap.type = 2 // THREE.PCFSoftShadowMap\r\n\r\n      // 建立 OrbitControls\r\n      cameraControl = new OrbitControls(camera, renderer.domElement)\r\n      cameraControl.enableDamping = true // 啟用阻尼效果\r\n      cameraControl.dampingFactor = 0.25 // 阻尼系數\r\n\r\n      gui = new dat.GUI()\r\n      gui.add(controls, 'explosionTrigger')\r\n      gui.add(controls, 'pointSize', 10, 200).onChange((e) => {\r\n        size = e\r\n      })\r\n      gui.add(controls, 'cameraNear', 1, 1000).onChange((near) => {\r\n        camera = new THREE.PerspectiveCamera(\r\n          70,\r\n          window.innerWidth / window.innerHeight,\r\n          near,\r\n          5000\r\n        )\r\n        camera.position.set(0, 0, 1000)\r\n        camera.lookAt(scene.position)\r\n      })\r\n\r\n      // 將渲染出來的畫面放到網頁上的 DOM\r\n      explose.value.appendChild(renderer.domElement)\r\n    }\r\n\r\n    function render() {\r\n      if (explosion) {\r\n        explosion.update()\r\n      }\r\n      cameraControl.update() // 需設定 update\r\n\r\n      requestAnimationFrame(render)\r\n      renderer.render(scene, camera)\r\n    }\r\n\r\n    onMounted(() => {\r\n      init()\r\n      render()\r\n      window.addEventListener('resize', function () {\r\n        camera.aspect = window.innerWidth / window.innerHeight\r\n        camera.updateProjectionMatrix()\r\n        renderer.setSize(window.innerWidth, window.innerHeight)\r\n      })\r\n    })\r\n\r\n    return {\r\n      explose,\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"sass\" scoped>\r\n#stats\r\n  position: absolute\r\n  left: 0\r\n  top: 0\r\n</style>\r\n","import { render } from \"./Explose.vue?vue&type=template&id=162a1dd8&scoped=true&lang=pug\"\nimport script from \"./Explose.vue?vue&type=script&lang=js\"\nexport * from \"./Explose.vue?vue&type=script&lang=js\"\n\nimport \"./Explose.vue?vue&type=style&index=0&id=162a1dd8&lang=sass&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\2100332\\\\Desktop\\\\project\\\\three-test\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-162a1dd8\"]])\n\nexport default __exports__"],"sourceRoot":""}