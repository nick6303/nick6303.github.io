{"version":3,"sources":["webpack:///./src/views/Creeper/Light.vue?a824","webpack:///./src/views/Creeper/Light.vue","webpack:///./src/views/Creeper/Light.vue?d218","webpack:///./src/views/Creeper/Light.vue?0126","webpack:///./src/views/Creeper/Light.vue?00d6"],"names":["content","__esModule","default","module","i","locals","exports","add","class","ref","_createElementVNode","id","_createElementBlock","_hoisted_2","Creeper","headGeo","THREE","bodyGeo","footGeo","headMap","load","skinMap","skinMat","roughness","metalness","transparent","opacity","side","map","headMaterials","push","this","head","position","set","body","foot1","foot2","clone","foot3","foot4","feet","creeper","traverse","object","castShadow","receiveShadow","name","setup","camera","scene","renderer","cameraControl","pointLight","sphereLightMesh","rotateAngle","init","window","innerWidth","innerHeight","lookAt","axes","setSize","shadowMap","enabled","type","OrbitControls","domElement","enableDamping","dampingFactor","planeGeometry","planeMaterial","color","plane","rotation","x","Math","PI","ambientLight","spotLight","y","sphereLightGeo","sphereLightMat","createCreeper","value","appendChild","pointLightAnimation","cos","z","sin","copy","render","update","requestAnimationFrame","creeperObj","onMounted","addEventListener","aspect","updateProjectionMatrix","__exports__","___CSS_LOADER_API_IMPORT___"],"mappings":"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","file":"js/chunk-246682d5.aaba4520.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Light.vue?vue&type=style&index=0&id=ef1957ba&lang=sass&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0ae825e6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","<template lang=\"pug\">\r\n.Creeper(ref=\"creeper\")\r\n#stats\r\n</template>\r\n<script>\r\nimport { onMounted, ref } from 'vue'\r\nimport * as THREE from 'three'\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls'\r\n\r\nclass Creeper {\r\n  constructor() {\r\n    // 宣告頭、身體、腳幾何體大小\r\n    const headGeo = new THREE.BoxGeometry(4, 4, 4)\r\n    const bodyGeo = new THREE.BoxGeometry(4, 8, 2)\r\n    const footGeo = new THREE.BoxGeometry(2, 3, 2)\r\n\r\n    // 苦力怕臉部貼圖\r\n    const headMap = new THREE.TextureLoader().load(\r\n      'https://dl.dropboxusercontent.com/s/bkqu0tty04epc46/creeper_face.png'\r\n    )\r\n    // 苦力怕皮膚貼圖\r\n    const skinMap = new THREE.TextureLoader().load(\r\n      'https://dl.dropboxusercontent.com/s/eev6wxdxfmukkt8/creeper_skin.png'\r\n    )\r\n\r\n    // 身體與腳的材質設定\r\n    const skinMat = new THREE.MeshStandardMaterial({\r\n      roughness: 0.3, // 粗糙度\r\n      metalness: 0.8, // 金屬感\r\n      transparent: true, // 透明與否\r\n      opacity: 0.9, // 透明度\r\n      side: THREE.DoubleSide, // 雙面材質\r\n      map: skinMap, // 皮膚貼圖\r\n    })\r\n\r\n    // 準備頭部與臉的材質\r\n    const headMaterials = []\r\n    for (let i = 0; i < 6; i++) {\r\n      let map\r\n\r\n      if (i === 1) map = headMap\r\n      else map = skinMap\r\n\r\n      headMaterials.push(new THREE.MeshStandardMaterial({ map: map }))\r\n    }\r\n\r\n    // 頭\r\n    this.head = new THREE.Mesh(headGeo, headMaterials)\r\n\r\n    this.head.position.set(0, 6, 0)\r\n\r\n    // 身體\r\n    this.body = new THREE.Mesh(bodyGeo, skinMat)\r\n    this.body.position.set(0, 0, 0)\r\n\r\n    // 四隻腳\r\n    this.foot1 = new THREE.Mesh(footGeo, skinMat)\r\n    this.foot1.position.set(-1, -5.5, 2)\r\n    this.foot2 = this.foot1.clone() // 剩下三隻腳都複製第一隻的 Mesh\r\n    this.foot2.position.set(-1, -5.5, -2)\r\n    this.foot3 = this.foot1.clone()\r\n    this.foot3.position.set(1, -5.5, 2)\r\n    this.foot4 = this.foot1.clone()\r\n    this.foot4.position.set(1, -5.5, -2)\r\n\r\n    // 將四隻腳組合為一個 group\r\n    this.feet = new THREE.Group()\r\n    this.feet.add(this.foot1)\r\n    this.feet.add(this.foot2)\r\n    this.feet.add(this.foot3)\r\n    this.feet.add(this.foot4)\r\n\r\n    // 將頭、身體、腳組合為一個 group\r\n    this.creeper = new THREE.Group()\r\n    this.creeper.add(this.head)\r\n    this.creeper.add(this.body)\r\n    this.creeper.add(this.feet)\r\n    // 苦力怕投影設定，利用 traverse 遍歷各個子元件設定陰影\r\n    this.creeper.traverse(function (object) {\r\n      if (object instanceof THREE.Mesh) {\r\n        object.castShadow = true\r\n        object.receiveShadow = true\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'Light',\r\n  setup() {\r\n    const creeper = ref(null)\r\n    let camera, scene, renderer, cameraControl, pointLight, sphereLightMesh\r\n    let rotateAngle = 0\r\n\r\n    const init = () => {\r\n      scene = new THREE.Scene()\r\n\r\n      // \b相機設定與 OrbitControls\r\n      camera = new THREE.PerspectiveCamera(\r\n        60,\r\n        window.innerWidth / window.innerHeight,\r\n        0.1,\r\n        1000\r\n      )\r\n      camera.position.set(30, 30, 30)\r\n      camera.lookAt(scene.position)\r\n\r\n      // 三軸座標輔助\r\n      let axes = new THREE.AxesHelper(10)\r\n      scene.add(axes)\r\n\r\n      // 渲染器設定\r\n      renderer = new THREE.WebGLRenderer()\r\n      renderer.setSize(window.innerWidth, window.innerHeight)\r\n      renderer.shadowMap.enabled = true // 設定需渲染陰影效果\r\n      renderer.shadowMap.type = 2 // THREE.PCFSoftShadowMap\r\n\r\n      // 建立 OrbitControls\r\n      cameraControl = new OrbitControls(camera, renderer.domElement)\r\n      cameraControl.enableDamping = true // 啟用阻尼效果\r\n      cameraControl.dampingFactor = 0.25 // 阻尼系數\r\n      // cameraControl.autoRotate = true // 啟用自動旋轉\r\n\r\n      // \b簡單的地板\r\n      const planeGeometry = new THREE.PlaneGeometry(60, 60)\r\n      const planeMaterial = new THREE.MeshLambertMaterial({ color: 0xffffff })\r\n      let plane = new THREE.Mesh(planeGeometry, planeMaterial)\r\n      plane.rotation.x = -0.5 * Math.PI\r\n      plane.position.set(0, -7, 0)\r\n      plane.receiveShadow = true\r\n      scene.add(plane)\r\n\r\n      // 設置環境光提供輔助柔和白光\r\n      let ambientLight = new THREE.AmbientLight(0x404040)\r\n      scene.add(ambientLight)\r\n\r\n      // 設置聚光燈幫忙照亮物體\r\n      let spotLight = new THREE.SpotLight(0xf0f0f0)\r\n      spotLight.position.set(-10, 30, 20)\r\n      scene.add(spotLight)\r\n\r\n      // 移動點光源\r\n      pointLight = new THREE.PointLight(0xccffcc, 0.5, 100) // 顏色, 強度, 距離\r\n      pointLight.castShadow = true // 投影\r\n      pointLight.position.y = 16\r\n      scene.add(pointLight)\r\n\r\n      // // 小球體模擬點光源實體\r\n      const sphereLightGeo = new THREE.SphereGeometry(0.3)\r\n      const sphereLightMat = new THREE.MeshBasicMaterial({ color: 0xccffcc })\r\n      sphereLightMesh = new THREE.Mesh(sphereLightGeo, sphereLightMat)\r\n      sphereLightMesh.castShadow = true\r\n      sphereLightMesh.position.y = 16\r\n      scene.add(sphereLightMesh)\r\n\r\n      // 產生苦力怕物件並加到場景\r\n      createCreeper()\r\n\r\n      // 將渲染出來的畫面放到網頁上的 DOM\r\n      creeper.value.appendChild(renderer.domElement)\r\n    }\r\n\r\n    // 點光源繞 Y 軸旋轉動畫\r\n    function pointLightAnimation() {\r\n      if (rotateAngle > 2 * Math.PI) {\r\n        rotateAngle = 0 // 超過 360 度後歸零\r\n      } else {\r\n        rotateAngle += 0.03 // 遞增角度\r\n      }\r\n      // 光源延橢圓軌道繞 Y 軸旋轉\r\n      sphereLightMesh.position.x = 8 * Math.cos(rotateAngle)\r\n      sphereLightMesh.position.z = 4 * Math.sin(rotateAngle)\r\n      // 點光源位置與球體同步\r\n      pointLight.position.copy(sphereLightMesh.position)\r\n    }\r\n\r\n    function render() {\r\n      cameraControl.update() // 需設定 update\r\n      pointLightAnimation() // update\r\n      requestAnimationFrame(render)\r\n      renderer.render(scene, camera)\r\n    }\r\n\r\n    // 生成苦力怕並加到場景\r\n    function createCreeper() {\r\n      const creeperObj = new Creeper()\r\n      scene.add(creeperObj.creeper)\r\n    }\r\n\r\n    onMounted(() => {\r\n      init()\r\n      render()\r\n      window.addEventListener('resize', function () {\r\n        camera.aspect = window.innerWidth / window.innerHeight\r\n        camera.updateProjectionMatrix()\r\n        renderer.setSize(window.innerWidth, window.innerHeight)\r\n      })\r\n    })\r\n\r\n    return { creeper }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n#stats\r\n  position: absolute\r\n  left: 0\r\n  top: 0\r\n</style>\r\n","import { render } from \"./Light.vue?vue&type=template&id=ef1957ba&scoped=true&lang=pug\"\nimport script from \"./Light.vue?vue&type=script&lang=js\"\nexport * from \"./Light.vue?vue&type=script&lang=js\"\n\nimport \"./Light.vue?vue&type=style&index=0&id=ef1957ba&lang=sass&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\2100332\\\\Desktop\\\\project\\\\three-test\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ef1957ba\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Light.vue?vue&type=style&index=0&id=ef1957ba&lang=sass&scoped=true\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#stats[data-v-ef1957ba]{position:absolute;left:0;top:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}