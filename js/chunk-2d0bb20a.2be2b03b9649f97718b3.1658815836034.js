(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bb20a"],{"39c1":function(e,t,n){"use strict";n.r(t);var c=n("7a23"),o={id:"MainLayout"},r={class:"main"};function a(e,t,n,a,l,i){var u=Object(c["resolveComponent"])("SideBar"),s=Object(c["resolveComponent"])("Header"),b=Object(c["resolveComponent"])("router-view"),d=Object(c["resolveComponent"])("el-scrollbar");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",o,[Object(c["createVNode"])(u),Object(c["createElementVNode"])("div",r,[Object(c["createVNode"])(s),Object(c["createVNode"])(d,{class:"mainContent"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(b)]})),_:1})])])}var l={id:"Header"},i={class:"topNav"},u={class:"left"},s=Object(c["createElementVNode"])("i",{class:"el-icon-s-fold"},null,-1),b=[s],d={class:"right"},p=["src"],O={key:1,class:"el-icon-user-solid"},j={class:"name"},m=Object(c["createTextVNode"])("Profile "),f=Object(c["createTextVNode"])("登入(出)記錄"),k=Object(c["createTextVNode"])("Logout ");function h(e,t,n,o,r,a){var s=Object(c["resolveComponent"])("BreadCrumbs"),h=Object(c["resolveComponent"])("el-button"),v=Object(c["resolveComponent"])("el-divider"),C=Object(c["resolveComponent"])("el-popover"),B=Object(c["resolveComponent"])("Tabs");return Object(c["openBlock"])(),Object(c["createElementBlock"])("header",l,[Object(c["createElementVNode"])("article",i,[Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("button",{class:"closeSideBar",onClick:t[0]||(t[0]=function(){return o.closeSideBar&&o.closeSideBar.apply(o,arguments)})},b),Object(c["createVNode"])(s)]),Object(c["createElementVNode"])("div",d,[Object(c["createVNode"])(C,{placement:"bottom-end",trigger:"click","popper-class":"userInfo"},{reference:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(h,{class:"avatar"},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("figure",null,[o.user.icon?(Object(c["openBlock"])(),Object(c["createElementBlock"])("img",{key:0,src:o.user.icon,alt:""},null,8,p)):(Object(c["openBlock"])(),Object(c["createElementBlock"])("i",O))])]})),_:1})]})),default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("p",j,[Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(o.user.display_name),1),Object(c["createElementVNode"])("span",null,"【"+Object(c["toDisplayString"])(o.user.username)+"】",1)]),Object(c["createVNode"])(v),Object(c["createVNode"])(h,{type:"text",icon:"el-icon-user",onClick:o.openProfile},{default:Object(c["withCtx"])((function(){return[m]})),_:1},8,["onClick"]),Object(c["createVNode"])(v),Object(c["createVNode"])(h,{type:"text",icon:"el-icon-tickets",onClick:o.openLoglist},{default:Object(c["withCtx"])((function(){return[f]})),_:1},8,["onClick"]),Object(c["createVNode"])(v),Object(c["createVNode"])(h,{type:"text",icon:"el-icon-lock",onClick:o.logout},{default:Object(c["withCtx"])((function(){return[k]})),_:1},8,["onClick"])]})),_:1})])]),Object(c["createVNode"])(B)])}var v=n("1da1"),C=(n("96cf"),n("5502")),B=n("7864"),g=n("a18c"),V=n("3786"),N=(n("b0c0"),{class:"breadCrumbs"});function y(e,t,n,o,r,a){var l=Object(c["resolveComponent"])("el-breadcrumb-item"),i=Object(c["resolveComponent"])("el-breadcrumb");return Object(c["openBlock"])(),Object(c["createElementBlock"])("article",N,[Object(c["createVNode"])(i,{separator:"/"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.breadcrumbList,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:e.name,to:{path:e.path}},{default:Object(c["withCtx"])((function(){return[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.name),1)]})),_:2},1032,["to"])})),128))]})),_:1})])}n("d81d"),n("7db0"),n("d3b7");var x={name:"BreadCrumbs",setup:function(){var e=Object(C["b"])(),t=Object(c["computed"])((function(){return e.state.menu.backMenuList})),n=Object(c["computed"])((function(){var e=g["a"].currentRoute.value.matched;return e.map((function(e){var n=t.value.find((function(t){return t.path===e.path}));return{path:e.path,name:n?n.title:"主頁"}}))}));return{breadcrumbList:n}}},w=n("6b0d"),E=n.n(w);const S=E()(x,[["render",y]]);var D=S;function L(e,t,n,o,r,a){var l=Object(c["resolveComponent"])("router-link"),i=Object(c["resolveComponent"])("HorizontalScrollbar");return o.hasTabsList?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,id:"tabs"},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.tabsList,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:e.path,to:e.path,class:Object(c["normalizeClass"])({tabActive:o.currenPath===e.path})},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("p",null,Object(c["toDisplayString"])(e.title),1)]})),_:2},1032,["to","class"])})),128))]})),_:1})):Object(c["createCommentVNode"])("",!0)}var _=n("5c40");function T(e,t,n,o,r,a){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",{class:"horizontalScrollbar",ref:"scrollbar",onMousewheel:t[0]||(t[0]=function(){return o.mousewheel&&o.mousewheel.apply(o,arguments)})},[Object(c["renderSlot"])(e.$slots,"default")],544)}var z={name:"HorizontalScrollbar",setup:function(){var e=Object(c["ref"])(null),t=function(t){t.preventDefault(),e.value.scrollLeft+=t.deltaY};return{mousewheel:t,scrollbar:e}}};const P=E()(z,[["render",T]]);var M=P,F=M,H={name:"Tabs",components:{HorizontalScrollbar:F},setup:function(){var e=Object(_["q"])((function(){return g["a"].currentRoute.value.meta.tabs})),t=Object(_["q"])((function(){return e.value&&e.value.length>1})),n=Object(_["q"])((function(){return g["a"].currentRoute.value.path}));return{tabsList:e,hasTabsList:t,currenPath:n}}};const R=E()(H,[["render",L]]);var I=R,q={name:"Header",components:{BreadCrumbs:D,Tabs:I},setup:function(){var e=Object(C["b"])(),t=Object(c["computed"])((function(){return e.state.app.sideBarClose})),n=Object(c["computed"])((function(){return e.state.user.user})),o=function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B["c"].confirm("確認登出系統？","提醒",{confirmButtonText:"確認",cancelButtonText:"取消",closeOnClickModal:!1,cancelButtonClass:"cancelButton",confirmButtonClass:"confirmButton",type:"warning"});case 3:return t.next=5,V["a"].logout();case 5:Object(B["c"])({message:"已登出成功",type:"success"}),localStorage.clear(),e.dispatch("panels/clearAllPanels"),g["a"].push({path:"/login"}),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}(),r=function(){e.dispatch("app/setSidebarClose",!t.value)},a=function(){var t=window.innerHeight,n={id:"only",component:"Profile",headerTitle:"編輯個人資訊",contentSize:{width:"960px",height:t>800?"800px":"90%"}};e.dispatch("panels/addPanel",{settings:n})},l=function(){var t={id:"only",component:"Loglist",headerTitle:"登出登入紀錄",contentSize:{width:"960px",height:"90%"}};e.dispatch("panels/addPanel",{settings:t})};return{closeSideBar:r,logout:o,user:n,openProfile:a,openLoglist:l}}};const A=E()(q,[["render",h]]);var J=A,W=J,Y={class:"logo"},$=["src"],G={key:0},K=Object(c["createElementVNode"])("p",null,"版本號：1.0.0",-1),Q=Object(c["createElementVNode"])("i",{class:"el-icon-arrow-left"},null,-1),U=[K,Q];function X(e,t,n,o,r,a){var l=Object(c["resolveComponent"])("MenuNode"),i=Object(c["resolveComponent"])("el-menu-item-group"),u=Object(c["resolveComponent"])("el-menu"),s=Object(c["resolveComponent"])("el-scrollbar"),b=Object(c["resolveComponent"])("el-aside");return Object(c["openBlock"])(),Object(c["createBlock"])(b,{id:"sideBar",collapse:o.isCollapse,style:Object(c["normalizeStyle"])(o.collapseWidth()),class:Object(c["normalizeClass"])({collapse:o.isCollapse})},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("a",Y,[o.isCollapse?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("img",{key:0,src:o.themeColor.backStage_sideBarLogo_image,alt:"alt"},null,8,$))]),Object(c["createVNode"])(s,{class:"menuList"},{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])(u,{collapse:o.isCollapse,"default-active":o.defaultOpen},{default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(o.menuList,(function(e){return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:e.id},[e.isVisible&&o.is3Level(e)?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0},{title:Object(c["withCtx"])((function(){return[e.title?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",G,Object(c["toDisplayString"])(e.title),1)):Object(c["createCommentVNode"])("",!0)]})),default:Object(c["withCtx"])((function(){return[e.isVisible?(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(e.children,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:e.id},[e.isVisible?(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:0,nodeData:e},null,8,["nodeData"])):Object(c["createCommentVNode"])("",!0)],64)})),128)):Object(c["createCommentVNode"])("",!0)]})),_:2},1024)):e.isVisible?(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:1,nodeData:e},null,8,["nodeData"])):Object(c["createCommentVNode"])("",!0)],64)})),128))]})),_:1},8,["collapse","default-active"])]})),_:1}),Object(c["createElementVNode"])("button",{class:"toggleSideBar",onClick:t[0]||(t[0]=function(){return o.toggleSideBar&&o.toggleSideBar.apply(o,arguments)})},U)]})),_:1},8,["collapse","style","class"])}var Z=["href"],ee=["href"];function te(e,t,n,o,r,a){var l=Object(c["resolveComponent"])("router-link"),i=Object(c["resolveComponent"])("el-menu-item"),u=Object(c["resolveComponent"])("el-submenu");return 1===n.nodeData.menuType?(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:0,index:String(n.nodeData.id)},{title:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("i",{class:Object(c["normalizeClass"])(o.iconClass(n.nodeData.icon))},null,2),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(n.nodeData.title),1)]})),default:Object(c["withCtx"])((function(){return[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(n.nodeData.children,(function(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],{key:e.id},[e.isVisible?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:0,class:Object(c["normalizeClass"])(o.checkCurrentPath(e.path)),index:String(n.nodeData.id)},{default:Object(c["withCtx"])((function(){return[2===e.openType?(Object(c["openBlock"])(),Object(c["createElementBlock"])("a",{key:0,href:e.path,target:"_blank"},[Object(c["createElementVNode"])("i",{class:Object(c["normalizeClass"])(o.iconClass(e.icon))},null,2),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.title),1)],8,Z)):(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:1,to:e.path},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("i",{class:Object(c["normalizeClass"])(o.iconClass(e.icon))},null,2),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(e.title),1)]})),_:2},1032,["to"]))]})),_:2},1032,["class","index"])):Object(c["createCommentVNode"])("",!0)],64)})),128))]})),_:1},8,["index"])):(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:1,class:Object(c["normalizeClass"])(["solo",o.checkCurrentPath(n.nodeData.path)]),index:String(n.nodeData.id)},{default:Object(c["withCtx"])((function(){return[2===n.nodeData.openType?(Object(c["openBlock"])(),Object(c["createElementBlock"])("a",{key:0,href:n.nodeData.path,target:"_blank"},[Object(c["createElementVNode"])("i",{class:Object(c["normalizeClass"])(o.iconClass(n.nodeData.icon))},null,2),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(n.nodeData.title),1)],8,ee)):(Object(c["openBlock"])(),Object(c["createBlock"])(l,{key:1,to:n.nodeData.path},{default:Object(c["withCtx"])((function(){return[Object(c["createElementVNode"])("i",{class:Object(c["normalizeClass"])(o.iconClass(n.nodeData.icon))},null,2),Object(c["createElementVNode"])("span",null,Object(c["toDisplayString"])(n.nodeData.title),1)]})),_:1},8,["to"]))]})),_:1},8,["index","class"]))}var ne={name:"MenuNode",props:{nodeData:{type:Object,default:null}},setup:function(){var e=Object(c["computed"])((function(){return g["a"].currentRoute.value.matched})),t=function(t){return e.value.find((function(e){return e.path===t}))?"active":""},n=function(e){return e.indexOf("icon")>-1?e:"el-icon-".concat(e)};return{checkCurrentPath:t,iconClass:n}}};const ce=E()(ne,[["render",te]]);var oe=ce,re={name:"SideBar",components:{MenuNode:oe},setup:function(){var e=Object(C["b"])(),t=Object(c["ref"])(!1),n=Object(c["computed"])((function(){return e.state.user.back_permissions})),o=Object(c["computed"])((function(){return e.state.app.themeColor})),r=Object(c["computed"])((function(){return e.state.app.sideBarClose})),a=Object(c["computed"])((function(){return e.state.menu.backMenuList})),l=Object(c["computed"])((function(){return b(a.value)})),i=Object(c["computed"])((function(){var e=g["a"].currentRoute.value.path,t=a.value.find((function(t){return t.path===e}));return a.value?String(t.parentId):""})),u=function(){var e=r.value?"0px":t.value?"64px":"256px";return{width:e}},s=function(){t.value=!t.value},b=function(e){var t,c,o={},r=[];for(c=0;c<e.length;c++){o[e[c].id]=c,e[c].children=[];var a=n.value.find((function(t){return t.menuId===e[c].id}));e[c].isVisible=!!a&&a.isVisible,e[c].acions=a?a.actions:null}for(c=0;c<e.length;c++)t=e[c],0!==t.parentId&&e[o[t.parentId]]?e[o[t.parentId]].children.push(t):r.push(t);return r},d=function(e){return 1===e.menuType&&(0!==e.children.length&&e.children.find((function(e){return 1===e.menuType})))};return{isCollapse:t,menuList:l,collapseWidth:u,toggleSideBar:s,is3Level:d,themeColor:o,defaultOpen:i}}};const ae=E()(re,[["render",X]]);var le=ae,ie=le,ue={name:"MainLayout",components:{Header:W,SideBar:ie},setup:function(){}};const se=E()(ue,[["render",a]]);var be=se;t["default"]=be}}]);