function appleDebug(){window.onpageshow=function(t){t.persisted&&window.location.reload()}}function wordlatest(e,t){$(t).each(function(){if($(this).text().length>e){var t=$(this).text().substring(0,e-1)+"...";$(this).text(t)}})}function mobile(){var t=navigator.userAgent,e=-1<t.indexOf("Android")||-1<t.indexOf("Adr"),i=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return e||i}function goTop(){$(".goTop").click(function(){$("html,body").animate({scrollTop:0},1500,"easeOutCubic")})}function dropDown(){$(document).click(function(t){if(0===$(".dropDown").has(t.target).length)$(".dropDown").find("ul").slideUp(500);else{var e=$(t.target).closest(".dropDown").attr("class");$(".dropDown").each(function(){$(this).attr("class")!=e&&$(this).find("ul").slideUp(500)})}}),$(".dropDown").each(function(){$this=$(this),$(this).find(".selectMenu").off().click(function(){"none"==$(this).closest(".dropDown").find("ul").css("display")?$(this).closest(".dropDown").find("ul").slideDown(500):$(this).closest(".dropDown").find("ul").slideUp(500)}),$(this).find("li").click(function(){$(this).closest("ul").slideUp(500),$(this).closest(".dropDown").find(".selectMenu").addClass("checked").find("p").text($(this).text()),$(this).closest(".dropDown").find("input").val($(this).text())}),$(this).find("ul").mCustomScrollbar({mouseWheel:{preventDefault:!0}})})}function vcode(t){var e=navigator.userAgent,i=-1<e.indexOf("Android")||-1<e.indexOf("Adr"),r=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),o=(i||r)&&$(window).width()<850,s=$(t).find("input");s.on("keyup",function(t){var e=this.value;isNaN(e)&&(e="");$(this).val(""),$(this).val(e);var i,r,n=t.charCode||t.keyCode;if(8!=n&&46!=n||0!=this.value.length||0!=s.index(this)&&s.eq(s.index(this)-1).focus(),37==(r=(i=t).charCode||i.keyCode)||38==r||39==r||40==r)return!1;this.value.length==this.maxLength?($(this).closest("li").addClass("checked"),o||$(this).closest("li").next("li").find("input").focus()):this.value.length<this.maxLength&&$(this).closest("li").removeClass("checked")})}function countDown(t){var e=$(t).find("p"),i=$(t).find("p").eq(0).attr("data-m")/1,r=$(t).find("p").eq(1).attr("data-s")/1;r<10&&(r="0"+r),i<10&&(i="0"+i),e.eq(0).text(i),e.eq(1).text(r)}function strat_countdown(o,s){return setTimeout(function(){return noStop=!0},1e3),setTimeout(function(){var i=$(o).find("p"),r=$(o).find("p").eq(0).attr("data-m")/1,e=$(o).find("p").eq(1).attr("data-s")/1;0!==r&&(r-=1),r<10&&(r="0"+r),i.eq(0).text(r);var n=e;if(0==e)n=60;(n-=1)<10&&(n="0"+n),i.eq(1).text(n),function e(){0<r&&0<n&&noStop?t=setTimeout(function(){(n-=1)<10&&(n="0"+n),i.eq(1).text(n),e()},1e3):0<r&&0==n&&noStop?((r-=1)<10&&(r="0"+r),i.eq(0).text(r),n=60,n-=1,i.eq(1).text(n),e()):0==r&&0<n&&noStop?t=setTimeout(function(){(n-=1)<10&&(n="0"+n),i.eq(1).text(n),e()},1e3):0==r&&0==n&&noStop&&null!=s&&s()}()},1001),noStop=!1}function nocopy(){function e(t){t.preventDefault(),alert("想copy我的寫法? 這樣母湯喔!!")}document.addEventListener("contextmenu",function(t){e(t)},!1),document.addEventListener("keydown",function(t){123==event.keyCode&&e(t)})}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(p,t){function a(t){var e="length"in t&&t.length,i=Z.type(t);return"function"!==i&&!Z.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t))}function e(t,i,r){if(Z.isFunction(i))return Z.grep(t,function(t,e){return!!i.call(t,e,t)!==r});if(i.nodeType)return Z.grep(t,function(t){return t===i!==r});if("string"==typeof i){if(st.test(i))return Z.filter(i,t,r);i=Z.filter(i,t)}return Z.grep(t,function(t){return 0<=Z.inArray(t,i)!==r})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(){lt.addEventListener?(lt.removeEventListener("DOMContentLoaded",n,!1),p.removeEventListener("load",n,!1)):(lt.detachEvent("onreadystatechange",n),p.detachEvent("onload",n))}function n(){(lt.addEventListener||"load"===event.type||"complete"===lt.readyState)&&(r(),Z.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var r="data-"+e.replace(yt,"-$1").toLowerCase();if("string"==typeof(i=t.getAttribute(r))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:gt.test(i)?Z.parseJSON(i):i)}catch(t){}Z.data(t,e,i)}else i=void 0}return i}function u(t){var e;for(e in t)if(("data"!==e||!Z.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function o(t,e,i,r){if(Z.acceptData(t)){var n,o,s=Z.expando,a=t.nodeType,l=a?Z.cache:t,u=a?t[s]:t[s]&&s;if(u&&l[u]&&(r||l[u].data)||void 0!==i||"string"!=typeof e)return u||(u=a?t[s]=z.pop()||Z.guid++:s),l[u]||(l[u]=a?{}:{toJSON:Z.noop}),("object"==typeof e||"function"==typeof e)&&(r?l[u]=Z.extend(l[u],e):l[u].data=Z.extend(l[u].data,e)),o=l[u],r||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[Z.camelCase(e)]=i),"string"==typeof e?null==(n=o[e])&&(n=o[Z.camelCase(e)]):n=o,n}}function s(t,e,i){if(Z.acceptData(t)){var r,n,o=t.nodeType,s=o?Z.cache:t,a=o?t[Z.expando]:Z.expando;if(s[a]){if(e&&(r=i?s[a]:s[a].data)){Z.isArray(e)?e=e.concat(Z.map(e,Z.camelCase)):e in r?e=[e]:e=(e=Z.camelCase(e))in r?[e]:e.split(" "),n=e.length;for(;n--;)delete r[e[n]];if(i?!u(r):!Z.isEmptyObject(r))return}(i||(delete s[a].data,u(s[a])))&&(o?Z.cleanData([t],!0):K.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function c(){return!0}function h(){return!1}function d(){try{return lt.activeElement}catch(t){}}function m(t){var e=At.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function v(t,e){var i,r,n=0,o=typeof t.getElementsByTagName!==vt?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==vt?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],i=t.childNodes||t;null!=(r=i[n]);n++)!e||Z.nodeName(r,e)?o.push(r):Z.merge(o,v(r,e));return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],o):o}function g(t){Tt.test(t.type)&&(t.defaultChecked=t.checked)}function f(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==Z.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=$t.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function x(t,e){for(var i,r=0;null!=(i=t[r]);r++)Z._data(i,"globalEval",!e||Z._data(e[r],"globalEval"))}function _(t,e){if(1===e.nodeType&&Z.hasData(t)){var i,r,n,o=Z._data(t),s=Z._data(e,o),a=o.events;if(a)for(i in delete s.handle,s.events={},a)for(r=0,n=a[i].length;r<n;r++)Z.event.add(e,i,a[i][r]);s.data&&(s.data=Z.extend({},s.data))}}function w(t,e){var i,r,n;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!K.noCloneEvent&&e[Z.expando]){for(r in(n=Z._data(e)).events)Z.removeEvent(e,r,n.handle);e.removeAttribute(Z.expando)}"script"===i&&e.text!==t.text?(y(e).text=t.text,b(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),K.html5Clone&&t.innerHTML&&!Z.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Tt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function T(t,e){var i,r=Z(e.createElement(t)).appendTo(e.body),n=p.getDefaultComputedStyle&&(i=p.getDefaultComputedStyle(r[0]))?i.display:Z.css(r[0],"display");return r.detach(),n}function S(t){var e=lt,i=Gt[t];return i||("none"!==(i=T(t,e))&&i||((e=((Ht=(Ht||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||Ht[0].contentDocument).document).write(),e.close(),i=T(t,e),Ht.detach()),Gt[t]=i),i}function E(e,i){return{get:function(){var t=e();if(null!=t)return t?void delete this.get:(this.get=i).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),r=e,n=oe.length;n--;)if((e=oe[n]+i)in t)return e;return r}function O(t,e){for(var i,r,n,o=[],s=0,a=t.length;s<a;s++)(r=t[s]).style&&(o[s]=Z._data(r,"olddisplay"),i=r.style.display,e?(o[s]||"none"!==i||(r.style.display=""),""===r.style.display&&_t(r)&&(o[s]=Z._data(r,"olddisplay",S(r.nodeName)))):(n=_t(r),(i&&"none"!==i||!n)&&Z._data(r,"olddisplay",n?i:Z.css(r,"display"))));for(s=0;s<a;s++)(r=t[s]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function M(t,e,i){var r=ee.exec(e);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):e}function A(t,e,i,r,n){for(var o=i===(r?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===i&&(s+=Z.css(t,i+xt[o],!0,n)),r?("content"===i&&(s-=Z.css(t,"padding"+xt[o],!0,n)),"margin"!==i&&(s-=Z.css(t,"border"+xt[o]+"Width",!0,n))):(s+=Z.css(t,"padding"+xt[o],!0,n),"padding"!==i&&(s+=Z.css(t,"border"+xt[o]+"Width",!0,n)));return s}function P(t,e,i){var r=!0,n="width"===e?t.offsetWidth:t.offsetHeight,o=Yt(t),s=K.boxSizing&&"border-box"===Z.css(t,"boxSizing",!1,o);if(n<=0||null==n){if(((n=qt(t,e,o))<0||null==n)&&(n=t.style[e]),Kt.test(n))return n;r=s&&(K.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+A(t,e,i||(s?"border":"content"),r,o)+"px"}function k(t,e,i,r,n){return new k.prototype.init(t,e,i,r,n)}function D(){return setTimeout(function(){se=void 0}),se=Z.now()}function R(t,e){var i,r={height:t},n=0;for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=xt[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function I(t,e,i){for(var r,n=(ge[e]||[]).concat(ge["*"]),o=0,s=n.length;o<s;o++)if(r=n[o].call(i,e,t))return r}function L(o,t,e){var i,s,r=0,n=ve.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=se||D(),e=Math.max(0,u.startTime+u.duration-t),i=1-(e/u.duration||0),r=0,n=u.tweens.length;r<n;r++)u.tweens[r].run(i);return a.notifyWith(o,[u,i,e]),i<1&&n?e:(a.resolveWith(o,[u]),!1)},u=a.promise({elem:o,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},e),originalProperties:t,originalOptions:e,startTime:se||D(),duration:e.duration,tweens:[],createTween:function(t,e){var i=Z.Tween(o,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var e=0,i=t?u.tweens.length:0;if(s)return this;for(s=!0;e<i;e++)u.tweens[e].run(1);return t?a.resolveWith(o,[u,t]):a.rejectWith(o,[u,t]),this}}),c=u.props;for(function(t,e){var i,r,n,o,s;for(i in t)if(n=e[r=Z.camelCase(i)],o=t[i],Z.isArray(o)&&(n=o[1],o=t[i]=o[0]),i!==r&&(t[r]=o,delete t[i]),(s=Z.cssHooks[r])&&"expand"in s)for(i in o=s.expand(o),delete t[r],o)i in t||(t[i]=o[i],e[i]=n);else e[r]=n}(c,u.opts.specialEasing);r<n;r++)if(i=ve[r].call(u,o,c,u.opts))return i;return Z.map(c,I,u),Z.isFunction(u.opts.start)&&u.opts.start.call(o,u),Z.fx.timer(Z.extend(l,{elem:o,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function N(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,r=0,n=t.toLowerCase().match(ft)||[];if(Z.isFunction(e))for(;i=n[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(o[i]=o[i]||[]).unshift(e)):(o[i]=o[i]||[]).push(e)}}function B(e,n,o,s){function a(t){var r;return l[t]=!0,Z.each(e[t]||[],function(t,e){var i=e(n,o,s);return"string"!=typeof i||u||l[i]?u?!(r=i):void 0:(n.dataTypes.unshift(i),a(i),!1)}),r}var l={},u=e===$e;return a(n.dataTypes[0])||!l["*"]&&a("*")}function j(t,e){var i,r,n=Z.ajaxSettings.flatOptions||{};for(r in e)void 0!==e[r]&&((n[r]?t:i||(i={}))[r]=e[r]);return i&&Z.extend(!0,t,i),t}function F(i,t,r,n){var e;if(Z.isArray(t))Z.each(t,function(t,e){r||We.test(i)?n(i,e):F(i+"["+("object"==typeof e?t:"")+"]",e,r,n)});else if(r||"object"!==Z.type(t))n(i,t);else for(e in t)F(i+"["+e+"]",t[e],r,n)}function $(){try{return new p.XMLHttpRequest}catch(t){}}function U(t){return Z.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var z=[],W=z.slice,H=z.concat,X=z.push,G=z.indexOf,Y={},q=Y.toString,V=Y.hasOwnProperty,K={},Q="1.11.3",Z=function(t,e){return new Z.fn.init(t,e)},J=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,tt=/^-ms-/,et=/-([\da-z])/gi,it=function(t,e){return e.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return W.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:W.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(i){return this.pushStack(Z.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:z.sort,splice:z.splice},Z.extend=Z.fn.extend=function(){var t,e,i,r,n,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(n=arguments[a]))for(r in n)t=s[r],s!==(i=n[r])&&(u&&i&&(Z.isPlainObject(i)||(e=Z.isArray(i)))?(e?(e=!1,o=t&&Z.isArray(t)?t:[]):o=t&&Z.isPlainObject(t)?t:{},s[r]=Z.extend(u,o,i)):void 0!==i&&(s[r]=i));return s},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray||function(t){return"array"===Z.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!Z.isArray(t)&&0<=t-parseFloat(t)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==Z.type(t)||t.nodeType||Z.isWindow(t))return!1;try{if(t.constructor&&!V.call(t,"constructor")&&!V.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(K.ownLast)for(e in t)return V.call(t,e);for(e in t);return void 0===e||V.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Y[q.call(t)]||"object":typeof t},globalEval:function(t){t&&Z.trim(t)&&(p.execScript||function(t){p.eval.call(p,t)})(t)},camelCase:function(t){return t.replace(tt,"ms-").replace(et,it)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r=0,n=t.length,o=a(t);if(i){if(o)for(;r<n&&!1!==e.apply(t[r],i);r++);else for(r in t)if(!1===e.apply(t[r],i))break}else if(o)for(;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(J,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(a(Object(t))?Z.merge(i,"string"==typeof t?[t]:t):X.call(i,t)),i},inArray:function(t,e,i){var r;if(e){if(G)return G.call(e,t,i);for(r=e.length,i=i?i<0?Math.max(0,r+i):i:0;i<r;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,r=0,n=t.length;r<i;)t[n++]=e[r++];if(i!=i)for(;void 0!==e[r];)t[n++]=e[r++];return t.length=n,t},grep:function(t,e,i){for(var r=[],n=0,o=t.length,s=!i;n<o;n++)!e(t[n],n)!==s&&r.push(t[n]);return r},map:function(t,e,i){var r,n=0,o=t.length,s=[];if(a(t))for(;n<o;n++)null!=(r=e(t[n],n,i))&&s.push(r);else for(n in t)null!=(r=e(t[n],n,i))&&s.push(r);return H.apply([],s)},guid:1,proxy:function(t,e){var i,r,n;return"string"==typeof e&&(n=t[e],e=t,t=n),Z.isFunction(t)?(i=W.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(W.call(arguments)))}).guid=t.guid=t.guid||Z.guid++,r):void 0},now:function(){return+new Date},support:K}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()});var rt=function(i){function x(t,e,i,r){var n,o,s,a,l,u,c,h,d,f;if((e?e.ownerDocument||e:j)!==P&&A(e),i=i||[],a=(e=e||P).nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return i;if(!r&&D){if(11!==a&&(n=vt.exec(t)))if(s=n[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return i;if(o.id===s)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&N(e,o)&&o.id===s)return i.push(o),i}else{if(n[2])return K.apply(i,e.getElementsByTagName(t)),i;if((s=n[3])&&v.getElementsByClassName)return K.apply(i,e.getElementsByClassName(s)),i}if(v.qsa&&(!R||!R.test(t))){if(h=c=B,d=e,f=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=T(t),(c=e.getAttribute("id"))?h=c.replace(yt,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+m(u[l]);d=gt.test(t)&&p(e.parentNode)||e,f=u.join(",")}if(f)try{return K.apply(i,d.querySelectorAll(f)),i}catch(t){}finally{c||e.removeAttribute("id")}}}return E(t.replace(st,"$1"),e,i,r)}function t(){var r=[];return function t(e,i){return r.push(e+" ")>w.cacheLength&&delete t[r.shift()],t[e+" "]=i}}function l(t){return t[B]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var i=t.split("|"),r=t.length;r--;)w.attrHandle[i[r]]=e}function u(t,e){var i=e&&t,r=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(r)return r;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function n(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function o(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}function s(s){return l(function(o){return o=+o,l(function(t,e){for(var i,r=s([],t.length,o),n=r.length;n--;)t[i=r[n]]&&(t[i]=!(e[i]=t[i]))})})}function p(t){return t&&void 0!==t.getElementsByTagName&&t}function a(){}function m(t){for(var e=0,i=t.length,r="";e<i;e++)r+=t[e].value;return r}function h(s,t,e){var a=t.dir,l=e&&"parentNode"===a,u=$++;return t.first?function(t,e,i){for(;t=t[a];)if(1===t.nodeType||l)return s(t,e,i)}:function(t,e,i){var r,n,o=[F,u];if(i){for(;t=t[a];)if((1===t.nodeType||l)&&s(t,e,i))return!0}else for(;t=t[a];)if(1===t.nodeType||l){if((r=(n=t[B]||(t[B]={}))[a])&&r[0]===F&&r[1]===u)return o[2]=r[2];if((n[a]=o)[2]=s(t,e,i))return!0}}}function d(n){return 1<n.length?function(t,e,i){for(var r=n.length;r--;)if(!n[r](t,e,i))return!1;return!0}:n[0]}function _(t,e,i,r,n){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(!i||i(o,r,n))&&(s.push(o),u&&e.push(a));return s}function y(f,p,m,v,g,t){return v&&!v[B]&&(v=y(v)),g&&!g[B]&&(g=y(g,t)),l(function(t,e,i,r){var n,o,s,a=[],l=[],u=e.length,c=t||function(t,e,i){for(var r=0,n=e.length;r<n;r++)x(t,e[r],i);return i}(p||"*",i.nodeType?[i]:i,[]),h=!f||!t&&p?c:_(c,a,f,i,r),d=m?g||(t?f:u||v)?[]:e:h;if(m&&m(h,d,i,r),v)for(n=_(d,l),v(n,[],i,r),o=n.length;o--;)(s=n[o])&&(d[l[o]]=!(h[l[o]]=s));if(t){if(g||f){if(g){for(n=[],o=d.length;o--;)(s=d[o])&&n.push(h[o]=s);g(null,d=[],n,r)}for(o=d.length;o--;)(s=d[o])&&-1<(n=g?Z(t,s):a[o])&&(t[n]=!(e[n]=s))}}else d=_(d===e?d.splice(u,d.length):d),g?g(null,e,d,r):K.apply(e,d)})}function f(t){for(var n,e,i,r=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,l=h(function(t){return t===n},s,!0),u=h(function(t){return-1<Z(n,t)},s,!0),c=[function(t,e,i){var r=!o&&(i||e!==C)||((n=e).nodeType?l(t,e,i):u(t,e,i));return n=null,r}];a<r;a++)if(e=w.relative[t[a].type])c=[h(d(c),e)];else{if((e=w.filter[t[a].type].apply(null,t[a].matches))[B]){for(i=++a;i<r&&!w.relative[t[i].type];i++);return y(1<a&&d(c),1<a&&m(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),e,a<i&&f(t.slice(a,i)),i<r&&f(t=t.slice(i)),i<r&&m(t))}c.push(e)}return d(c)}var c,v,w,g,b,T,S,E,C,O,M,A,P,k,D,R,I,L,N,B="sizzle"+1*new Date,j=i.document,F=0,$=0,U=t(),z=t(),W=t(),H=function(t,e){return t===e&&(M=!0),0},X=1<<31,G={}.hasOwnProperty,Y=[],q=Y.pop,V=Y.push,K=Y.push,Q=Y.slice,Z=function(t,e){for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=et.replace("w","w#"),rt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",ot=new RegExp(tt+"+","g"),st=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),lt=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ut=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ct=new RegExp(nt),ht=new RegExp("^"+it+"$"),dt={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/[+~]/,yt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),xt=function(t,e,i){var r="0x"+e-65536;return r!=r||i?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_t=function(){A()};try{K.apply(Y=Q.call(j.childNodes),j.childNodes),Y[j.childNodes.length].nodeType}catch(t){K={apply:Y.length?function(t,e){V.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,r=0;t[i++]=e[r++];);t.length=i-1}}}for(c in v=x.support={},b=x.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=x.setDocument=function(t){var e,i,l=t?t.ownerDocument||t:j;return l!==P&&9===l.nodeType&&l.documentElement?(k=(P=l).documentElement,(i=l.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",_t,!1):i.attachEvent&&i.attachEvent("onunload",_t)),D=!b(l),v.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),v.getElementsByTagName=r(function(t){return t.appendChild(l.createComment("")),!t.getElementsByTagName("*").length}),v.getElementsByClassName=mt.test(l.getElementsByClassName),v.getById=r(function(t){return k.appendChild(t).id=B,!l.getElementsByName||!l.getElementsByName(B).length}),v.getById?(w.find.ID=function(t,e){if(void 0!==e.getElementById&&D){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var i=t.replace(bt,xt);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===i}}),w.find.TAG=v.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):v.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,r=[],n=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[n++];)1===i.nodeType&&r.push(i);return r}return o},w.find.CLASS=v.getElementsByClassName&&function(t,e){return D?e.getElementsByClassName(t):void 0},I=[],R=[],(v.qsa=mt.test(l.querySelectorAll))&&(r(function(t){k.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+tt+"*(?:value|"+J+")"),t.querySelectorAll("[id~="+B+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||R.push(".#.+[+~]")}),r(function(t){var e=l.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(v.matchesSelector=mt.test(L=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&r(function(t){v.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),I.push("!=",nt)}),R=R.length&&new RegExp(R.join("|")),I=I.length&&new RegExp(I.join("|")),e=mt.test(k.compareDocumentPosition),N=e||mt.test(k.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(i.contains?i.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},H=e?function(t,e){if(t===e)return M=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!v.sortDetached&&e.compareDocumentPosition(t)===i?t===l||t.ownerDocument===j&&N(j,t)?-1:e===l||e.ownerDocument===j&&N(j,e)?1:O?Z(O,t)-Z(O,e):0:4&i?-1:1)}:function(t,e){if(t===e)return M=!0,0;var i,r=0,n=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!n||!o)return t===l?-1:e===l?1:n?-1:o?1:O?Z(O,t)-Z(O,e):0;if(n===o)return u(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;s[r]===a[r];)r++;return r?u(s[r],a[r]):s[r]===j?-1:a[r]===j?1:0},l):P},x.matches=function(t,e){return x(t,null,null,e)},x.matchesSelector=function(t,e){if((t.ownerDocument||t)!==P&&A(t),e=e.replace(ut,"='$1']"),!(!v.matchesSelector||!D||I&&I.test(e)||R&&R.test(e)))try{var i=L.call(t,e);if(i||v.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return 0<x(e,P,null,[t]).length},x.contains=function(t,e){return(t.ownerDocument||t)!==P&&A(t),N(t,e)},x.attr=function(t,e){(t.ownerDocument||t)!==P&&A(t);var i=w.attrHandle[e.toLowerCase()],r=i&&G.call(w.attrHandle,e.toLowerCase())?i(t,e,!D):void 0;return void 0!==r?r:v.attributes||!D?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},x.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},x.uniqueSort=function(t){var e,i=[],r=0,n=0;if(M=!v.detectDuplicates,O=!v.sortStable&&t.slice(0),t.sort(H),M){for(;e=t[n++];)e===t[n]&&(r=i.push(n));for(;r--;)t.splice(i[r],1)}return O=null,t},g=x.getText=function(t){var e,i="",r=0,n=t.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=g(t)}else if(3===n||4===n)return t.nodeValue}else for(;e=t[r++];)i+=g(e);return i},(w=x.selectors={cacheLength:50,createPseudo:l,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||x.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&x.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ct.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(i,r,n){return function(t){var e=x.attr(t,i);return null==e?"!="===r:!r||(e+="","="===r?e===n:"!="===r?e!==n:"^="===r?n&&0===e.indexOf(n):"*="===r?n&&-1<e.indexOf(n):"$="===r?n&&e.slice(-n.length)===n:"~="===r?-1<(" "+e.replace(ot," ")+" ").indexOf(n):"|="===r&&(e===n||e.slice(0,n.length+1)===n+"-"))}},CHILD:function(f,t,e,p,m){var v="nth"!==f.slice(0,3),g="last"!==f.slice(-4),y="of-type"===t;return 1===p&&0===m?function(t){return!!t.parentNode}:function(t,e,i){var r,n,o,s,a,l,u=v!==g?"nextSibling":"previousSibling",c=t.parentNode,h=y&&t.nodeName.toLowerCase(),d=!i&&!y;if(c){if(v){for(;u;){for(o=t;o=o[u];)if(y?o.nodeName.toLowerCase()===h:1===o.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[g?c.firstChild:c.lastChild],g&&d){for(a=(r=(n=c[B]||(c[B]={}))[f]||[])[0]===F&&r[1],s=r[0]===F&&r[2],o=a&&c.childNodes[a];o=++a&&o&&o[u]||(s=a=0)||l.pop();)if(1===o.nodeType&&++s&&o===t){n[f]=[F,a,s];break}}else if(d&&(r=(t[B]||(t[B]={}))[f])&&r[0]===F)s=r[1];else for(;(o=++a&&o&&o[u]||(s=a=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==h:1!==o.nodeType)||!++s||(d&&((o[B]||(o[B]={}))[f]=[F,s]),o!==t)););return(s-=m)===p||s%p==0&&0<=s/p}}},PSEUDO:function(t,o){var e,s=w.pseudos[t]||w.setFilters[t.toLowerCase()]||x.error("unsupported pseudo: "+t);return s[B]?s(o):1<s.length?(e=[t,t,"",o],w.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var i,r=s(t,o),n=r.length;n--;)t[i=Z(t,r[n])]=!(e[i]=r[n])}):function(t){return s(t,0,e)}):s}},pseudos:{not:l(function(t){var r=[],n=[],a=S(t.replace(st,"$1"));return a[B]?l(function(t,e,i,r){for(var n,o=a(t,null,r,[]),s=t.length;s--;)(n=o[s])&&(t[s]=!(e[s]=n))}):function(t,e,i){return r[0]=t,a(r,null,i,n),r[0]=null,!n.pop()}}),has:l(function(e){return function(t){return 0<x(e,t).length}}),contains:l(function(e){return e=e.replace(bt,xt),function(t){return-1<(t.textContent||t.innerText||g(t)).indexOf(e)}}),lang:l(function(i){return ht.test(i||"")||x.error("unsupported lang: "+i),i=i.replace(bt,xt).toLowerCase(),function(t){var e;do{if(e=D?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===k},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,i){return[i<0?i+e:i]}),even:s(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:s(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:s(function(t,e,i){for(var r=i<0?i+e:i;0<=--r;)t.push(r);return t}),gt:s(function(t,e,i){for(var r=i<0?i+e:i;++r<e;)t.push(r);return t})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[c]=n(c);for(c in{submit:!0,reset:!0})w.pseudos[c]=o(c);return a.prototype=w.filters=w.pseudos,w.setFilters=new a,T=x.tokenize=function(t,e){var i,r,n,o,s,a,l,u=z[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=w.preFilter;s;){for(o in(!i||(r=at.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),a.push(n=[])),i=!1,(r=lt.exec(s))&&(i=r.shift(),n.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length)),w.filter)!(r=dt[o].exec(s))||l[o]&&!(r=l[o](r))||(i=r.shift(),n.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return e?s.length:s?x.error(t):z(t,a).slice(0)},S=x.compile=function(t,e){var i,v,g,y,b,r,n=[],o=[],s=W[t+" "];if(!s){for(e||(e=T(t)),i=e.length;i--;)(s=f(e[i]))[B]?n.push(s):o.push(s);(s=W(t,(v=o,y=0<(g=n).length,b=0<v.length,r=function(t,e,i,r,n){var o,s,a,l=0,u="0",c=t&&[],h=[],d=C,f=t||b&&w.find.TAG("*",n),p=F+=null==d?1:Math.random()||.1,m=f.length;for(n&&(C=e!==P&&e);u!==m&&null!=(o=f[u]);u++){if(b&&o){for(s=0;a=v[s++];)if(a(o,e,i)){r.push(o);break}n&&(F=p)}y&&((o=!a&&o)&&l--,t&&c.push(o))}if(l+=u,y&&u!==l){for(s=0;a=g[s++];)a(c,h,e,i);if(t){if(0<l)for(;u--;)c[u]||h[u]||(h[u]=q.call(r));h=_(h)}K.apply(r,h),n&&!t&&0<h.length&&1<l+g.length&&x.uniqueSort(r)}return n&&(F=p,C=d),c},y?l(r):r))).selector=t}return s},E=x.select=function(t,e,i,r){var n,o,s,a,l,u="function"==typeof t&&t,c=!r&&T(t=u.selector||t);if(i=i||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(s=o[0]).type&&v.getById&&9===e.nodeType&&D&&w.relative[o[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(bt,xt),e)||[])[0]))return i;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(n=dt.needsContext.test(t)?0:o.length;n--&&(s=o[n],!w.relative[a=s.type]);)if((l=w.find[a])&&(r=l(s.matches[0].replace(bt,xt),gt.test(o[0].type)&&p(e.parentNode)||e))){if(o.splice(n,1),!(t=r.length&&m(o)))return K.apply(i,r),i;break}}return(u||S(t,c))(r,e,!D,i,gt.test(t)&&p(e.parentNode)||e),i},v.sortStable=B.split("").sort(H).join("")===B,v.detectDuplicates=!!M,A(),v.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),v.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||e(J,function(t,e,i){var r;return i?void 0:!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),x}(p);Z.find=rt,Z.expr=rt.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=rt.uniqueSort,Z.text=rt.getText,Z.isXMLDoc=rt.isXML,Z.contains=rt.contains;var nt=Z.expr.match.needsContext,ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;Z.filter=function(t,e,i){var r=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Z.find.matchesSelector(r,t)?[r]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,i=[],r=this,n=r.length;if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){for(e=0;e<n;e++)if(Z.contains(r[e],this))return!0}));for(e=0;e<n;e++)Z.find(t,r[e],i);return(i=this.pushStack(1<n?Z.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&nt.test(t)?Z(t):t||[],!1).length}});var at,lt=p.document,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(Z.fn.init=function(t,e){var i,r;if(!t)return this;if("string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:ut.exec(t))||!i[1]&&e)return!e||e.jquery?(e||at).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:lt,!0)),ot.test(i[1])&&Z.isPlainObject(e))for(i in e)Z.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((r=lt.getElementById(i[2]))&&r.parentNode){if(r.id!==i[2])return at.find(t);this.length=1,this[0]=r}return this.context=lt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?void 0!==at.ready?at.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))}).prototype=Z.fn,at=Z(lt);var ct=/^(?:parents|prev(?:Until|All))/,ht={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(t,e,i){for(var r=[],n=t[e];n&&9!==n.nodeType&&(void 0===i||1!==n.nodeType||!Z(n).is(i));)1===n.nodeType&&r.push(n),n=n[e];return r},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),Z.fn.extend({has:function(t){var e,i=Z(t,this),r=i.length;return this.filter(function(){for(e=0;e<r;e++)if(Z.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,r=0,n=this.length,o=[],s=nt.test(t)||"string"!=typeof t?Z(t,e||this.context):0;r<n;r++)for(i=this[r];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&Z.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(1<o.length?Z.unique(o):o)},index:function(t){return t?"string"==typeof t?Z.inArray(this[0],Z(t)):Z.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Z.dir(t,"parentNode",i)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Z.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Z.dir(t,"previousSibling",i)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return Z.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:Z.merge([],t.childNodes)}},function(r,n){Z.fn[r]=function(t,e){var i=Z.map(this,n,t);return"Until"!==r.slice(-5)&&(e=t),e&&"string"==typeof e&&(i=Z.filter(e,i)),1<this.length&&(ht[r]||(i=Z.unique(i)),ct.test(r)&&(i=i.reverse())),this.pushStack(i)}});var dt,ft=/\S+/g,pt={};Z.Callbacks=function(n){var t,i;n="string"==typeof n?pt[n]||(i=pt[t=n]={},Z.each(t.match(ft)||[],function(t,e){i[e]=!0}),i):Z.extend({},n);var r,e,o,s,a,l,u=[],c=!n.once&&[],h=function(t){for(e=n.memory&&t,o=!0,a=l||0,l=0,s=u.length,r=!0;u&&a<s;a++)if(!1===u[a].apply(t[0],t[1])&&n.stopOnFalse){e=!1;break}r=!1,u&&(c?c.length&&h(c.shift()):e?u=[]:d.disable())},d={add:function(){if(u){var t=u.length;!function r(t){Z.each(t,function(t,e){var i=Z.type(e);"function"===i?n.unique&&d.has(e)||u.push(e):e&&e.length&&"string"!==i&&r(e)})}(arguments),r?s=u.length:e&&(l=t,h(e))}return this},remove:function(){return u&&Z.each(arguments,function(t,e){for(var i;-1<(i=Z.inArray(e,u,i));)u.splice(i,1),r&&(i<=s&&s--,i<=a&&a--)}),this},has:function(t){return t?-1<Z.inArray(t,u):!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=c=e=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,e||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||o&&!c||(e=[t,(e=e||[]).slice?e.slice():e],r?c.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},Z.extend({Deferred:function(t){var o=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",s={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var n=arguments;return Z.Deferred(function(r){Z.each(o,function(t,e){var i=Z.isFunction(n[t])&&n[t];a[e[1]](function(){var t=i&&i.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[e[0]+"With"](this===s?r.promise():this,i?[t]:arguments)})}),n=null}).promise()},promise:function(t){return null!=t?Z.extend(t,s):s}},a={};return s.pipe=s.then,Z.each(o,function(t,e){var i=e[2],r=e[3];s[e[1]]=i.add,r&&i.add(function(){n=r},o[1^t][2].disable,o[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?s:this,arguments),this},a[e[0]+"With"]=i.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){var n,e,i,r=0,o=W.call(arguments),s=o.length,a=1!==s||t&&Z.isFunction(t.promise)?s:0,l=1===a?t:Z.Deferred(),u=function(e,i,r){return function(t){i[e]=this,r[e]=1<arguments.length?W.call(arguments):t,r===n?l.notifyWith(i,r):--a||l.resolveWith(i,r)}};if(1<s)for(n=new Array(s),e=new Array(s),i=new Array(s);r<s;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,e,n)):--a;return a||l.resolveWith(i,o),l.promise()}}),Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){if(!0===t?!--Z.readyWait:!Z.isReady){if(!lt.body)return setTimeout(Z.ready);(Z.isReady=!0)!==t&&0<--Z.readyWait||(dt.resolveWith(lt,[Z]),Z.fn.triggerHandler&&(Z(lt).triggerHandler("ready"),Z(lt).off("ready")))}}}),Z.ready.promise=function(t){if(!dt)if(dt=Z.Deferred(),"complete"===lt.readyState)setTimeout(Z.ready);else if(lt.addEventListener)lt.addEventListener("DOMContentLoaded",n,!1),p.addEventListener("load",n,!1);else{lt.attachEvent("onreadystatechange",n),p.attachEvent("onload",n);var i=!1;try{i=null==p.frameElement&&lt.documentElement}catch(t){}i&&i.doScroll&&function e(){if(!Z.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}r(),Z.ready()}}()}return dt.promise(t)};var mt,vt="undefined";for(mt in Z(K))break;K.ownLast="0"!==mt,K.inlineBlockNeedsLayout=!1,Z(function(){var t,e,i,r;(i=lt.getElementsByTagName("body")[0])&&i.style&&(e=lt.createElement("div"),(r=lt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(r).appendChild(e),typeof e.style.zoom!==vt&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",K.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(r))}),function(){var t=lt.createElement("div");if(null==K.deleteExpando){K.deleteExpando=!0;try{delete t.test}catch(t){K.deleteExpando=!1}}t=null}(),Z.acceptData=function(t){var e=Z.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||!0!==e&&t.getAttribute("classid")===e)};var gt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,yt=/([A-Z])/g;Z.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?Z.cache[t[Z.expando]]:t[Z.expando])&&!u(t)},data:function(t,e,i){return o(t,e,i)},removeData:function(t,e){return s(t,e)},_data:function(t,e,i){return o(t,e,i,!0)},_removeData:function(t,e){return s(t,e,!0)}}),Z.fn.extend({data:function(t,e){var i,r,n,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(n=Z.data(o),1===o.nodeType&&!Z._data(o,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(0===(r=s[i].name).indexOf("data-")&&l(o,r=Z.camelCase(r.slice(5)),n[r]));Z._data(o,"parsedAttrs",!0)}return n}return"object"==typeof t?this.each(function(){Z.data(this,t)}):1<arguments.length?this.each(function(){Z.data(this,t,e)}):o?l(o,t,Z.data(o,t)):void 0},removeData:function(t){return this.each(function(){Z.removeData(this,t)})}}),Z.extend({queue:function(t,e,i){var r;return t?(e=(e||"fx")+"queue",r=Z._data(t,e),i&&(!r||Z.isArray(i)?r=Z._data(t,e,Z.makeArray(i)):r.push(i)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=Z.queue(t,e),r=i.length,n=i.shift(),o=Z._queueHooks(t,e);"inprogress"===n&&(n=i.shift(),r--),n&&("fx"===e&&i.unshift("inprogress"),delete o.stop,n.call(t,function(){Z.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Z._data(t,i)||Z._data(t,i,{empty:Z.Callbacks("once memory").add(function(){Z._removeData(t,e+"queue"),Z._removeData(t,i)})})}}),Z.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?Z.queue(this[0],e):void 0===i?this:this.each(function(){var t=Z.queue(this,e,i);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Z.dequeue(this,e)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,r=1,n=Z.Deferred(),o=this,s=this.length,a=function(){--r||n.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=Z._data(o[s],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(a));return a(),n.promise(e)}});var bt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,xt=["Top","Right","Bottom","Left"],_t=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},wt=Z.access=function(t,e,i,r,n,o,s){var a=0,l=t.length,u=null==i;if("object"===Z.type(i))for(a in n=!0,i)Z.access(t,e,a,i[a],!0,o,s);else if(void 0!==r&&(n=!0,Z.isFunction(r)||(s=!0),u&&(s?(e.call(t,r),e=null):(u=e,e=function(t,e,i){return u.call(Z(t),i)})),e))for(;a<l;a++)e(t[a],i,s?r:r.call(t[a],a,e(t[a],i)));return n?t:u?e.call(t):l?e(t[0],i):o},Tt=/^(?:checkbox|radio)$/i;!function(){var t=lt.createElement("input"),e=lt.createElement("div"),i=lt.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",K.leadingWhitespace=3===e.firstChild.nodeType,K.tbody=!e.getElementsByTagName("tbody").length,K.htmlSerialize=!!e.getElementsByTagName("link").length,K.html5Clone="<:nav></:nav>"!==lt.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,i.appendChild(t),K.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,i.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,K.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){K.noCloneEvent=!1}),e.cloneNode(!0).click()),null==K.deleteExpando){K.deleteExpando=!0;try{delete e.test}catch(t){K.deleteExpando=!1}}}(),function(){var t,e,i=lt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(K[t+"Bubbles"]=e in p)||(i.setAttribute(e,"t"),K[t+"Bubbles"]=!1===i.attributes[e].expando);i=null}();var St=/^(?:input|select|textarea)$/i,Et=/^key/,Ct=/^(?:mouse|pointer|contextmenu)|click/,Ot=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(t,e,i,r,n){var o,s,a,l,u,c,h,d,f,p,m,v=Z._data(t);if(v){for(i.handler&&(i=(l=i).handler,n=l.selector),i.guid||(i.guid=Z.guid++),(s=v.events)||(s=v.events={}),(c=v.handle)||((c=v.handle=function(t){return typeof Z===vt||t&&Z.event.triggered===t.type?void 0:Z.event.dispatch.apply(c.elem,arguments)}).elem=t),a=(e=(e||"").match(ft)||[""]).length;a--;)f=m=(o=Mt.exec(e[a])||[])[1],p=(o[2]||"").split(".").sort(),f&&(u=Z.event.special[f]||{},f=(n?u.delegateType:u.bindType)||f,u=Z.event.special[f]||{},h=Z.extend({type:f,origType:m,data:r,handler:i,guid:i.guid,selector:n,needsContext:n&&Z.expr.match.needsContext.test(n),namespace:p.join(".")},l),(d=s[f])||((d=s[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,r,p,c)||(t.addEventListener?t.addEventListener(f,c,!1):t.attachEvent&&t.attachEvent("on"+f,c))),u.add&&(u.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,h):d.push(h),Z.event.global[f]=!0);t=null}},remove:function(t,e,i,r,n){var o,s,a,l,u,c,h,d,f,p,m,v=Z.hasData(t)&&Z._data(t);if(v&&(c=v.events)){for(u=(e=(e||"").match(ft)||[""]).length;u--;)if(f=m=(a=Mt.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),f){for(h=Z.event.special[f]||{},d=c[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!n&&m!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||r&&r!==s.selector&&("**"!==r||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(t,s));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,v.handle)||Z.removeEvent(t,f,v.handle),delete c[f])}else for(f in c)Z.event.remove(t,f+e[u],i,r,!0);Z.isEmptyObject(c)&&(delete v.handle,Z._removeData(t,"events"))}},trigger:function(t,e,i,r){var n,o,s,a,l,u,c,h=[i||lt],d=V.call(t,"type")?t.type:t,f=V.call(t,"namespace")?t.namespace.split("."):[];if(s=u=i=i||lt,3!==i.nodeType&&8!==i.nodeType&&!Ot.test(d+Z.event.triggered)&&(0<=d.indexOf(".")&&(d=(f=d.split(".")).shift(),f.sort()),o=d.indexOf(":")<0&&"on"+d,(t=t[Z.expando]?t:new Z.Event(d,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=f.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:Z.makeArray(e,[t]),l=Z.event.special[d]||{},r||!l.trigger||!1!==l.trigger.apply(i,e))){if(!r&&!l.noBubble&&!Z.isWindow(i)){for(a=l.delegateType||d,Ot.test(a+d)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;u===(i.ownerDocument||lt)&&h.push(u.defaultView||u.parentWindow||p)}for(c=0;(s=h[c++])&&!t.isPropagationStopped();)t.type=1<c?a:l.bindType||d,(n=(Z._data(s,"events")||{})[t.type]&&Z._data(s,"handle"))&&n.apply(s,e),(n=o&&s[o])&&n.apply&&Z.acceptData(s)&&(t.result=n.apply(s,e),!1===t.result&&t.preventDefault());if(t.type=d,!r&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(h.pop(),e))&&Z.acceptData(i)&&o&&i[d]&&!Z.isWindow(i)){(u=i[o])&&(i[o]=null),Z.event.triggered=d;try{i[d]()}catch(t){}Z.event.triggered=void 0,u&&(i[o]=u)}return t.result}},dispatch:function(t){t=Z.event.fix(t);var e,i,r,n,o,s=[],a=W.call(arguments),l=(Z._data(this,"events")||{})[t.type]||[],u=Z.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(s=Z.event.handlers.call(this,t,l),e=0;(n=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=n.elem,o=0;(r=n.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,void 0!==(i=((Z.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,a))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,r,n,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],o=0;o<a;o++)void 0===n[i=(r=e[o]).selector+" "]&&(n[i]=r.needsContext?0<=Z(i,this).index(l):Z.find(i,this,null,[l]).length),n[i]&&n.push(r);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[Z.expando])return t;var e,i,r,n=t.type,o=t,s=this.fixHooks[n];for(s||(this.fixHooks[n]=s=Ct.test(n)?this.mouseHooks:Et.test(n)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new Z.Event(o),e=r.length;e--;)t[i=r[e]]=o[i];return t.target||(t.target=o.srcElement||lt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,r,n,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=(r=t.target.ownerDocument||lt).documentElement,i=r.body,t.pageX=e.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return Z.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,r){var n=Z.extend(new Z.Event,i,{type:t,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(n,null,e):Z.event.dispatch.call(e,n),n.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=lt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var r="on"+e;t.detachEvent&&(typeof t[r]===vt&&(t[r]=null),t.detachEvent(r,i))},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?c:h):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){Z.event.special[t]={delegateType:n,bindType:n,handle:function(t){var e,i=t.relatedTarget,r=t.handleObj;return(!i||i!==this&&!Z.contains(this,i))&&(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=n),e}}}),K.submitBubbles||(Z.event.special.submit={setup:function(){return!Z.nodeName(this,"form")&&void Z.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=Z.nodeName(e,"input")||Z.nodeName(e,"button")?e.form:void 0;i&&!Z._data(i,"submitBubbles")&&(Z.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),Z._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&Z.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!Z.nodeName(this,"form")&&void Z.event.remove(this,"._submit")}}),K.changeBubbles||(Z.event.special.change={setup:function(){return St.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,t,!0)})),!1):void Z.event.add(this,"beforeactivate._change",function(t){var e=t.target;St.test(e.nodeName)&&!Z._data(e,"changeBubbles")&&(Z.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||Z.event.simulate("change",this.parentNode,t,!0)}),Z._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!St.test(this.nodeName)}}),K.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(i,r){var n=function(t){Z.event.simulate(r,t.target,Z.event.fix(t),!0)};Z.event.special[r]={setup:function(){var t=this.ownerDocument||this,e=Z._data(t,r);e||t.addEventListener(i,n,!0),Z._data(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=Z._data(t,r)-1;e?Z._data(t,r,e):(t.removeEventListener(i,n,!0),Z._removeData(t,r))}}}),Z.fn.extend({on:function(t,e,i,r,n){var o,s;if("object"==typeof t){for(o in"string"!=typeof e&&(i=i||e,e=void 0),t)this.on(o,e,i,t[o],n);return this}if(null==i&&null==r?(r=e,i=e=void 0):null==r&&("string"==typeof e?(r=i,i=void 0):(r=i,i=e,e=void 0)),!1===r)r=h;else if(!r)return this;return 1===n&&(s=r,(r=function(t){return Z().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,r,i,e)})},one:function(t,e,i,r){return this.on(t,e,i,r,1)},off:function(t,e,i){var r,n;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Z(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return(!1===e||"function"==typeof e)&&(i=e,e=void 0),!1===i&&(i=h),this.each(function(){Z.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?Z.event.trigger(t,e,i,!0):void 0}});var At="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pt=/ jQuery\d+="(?:null|\d+)"/g,kt=new RegExp("<(?:"+At+")[\\s/>]","i"),Dt=/^\s+/,Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,It=/<([\w:]+)/,Lt=/<tbody/i,Nt=/<|&#?\w+;/,Bt=/<(?:script|style|link)/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ft=/^$|\/(?:java|ecma)script/i,$t=/^true\/(.*)/,Ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:K.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Wt=m(lt).appendChild(lt.createElement("div"));zt.optgroup=zt.option,zt.tbody=zt.tfoot=zt.colgroup=zt.caption=zt.thead,zt.th=zt.td,Z.extend({clone:function(t,e,i){var r,n,o,s,a,l=Z.contains(t.ownerDocument,t);if(K.html5Clone||Z.isXMLDoc(t)||!kt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Wt.innerHTML=t.outerHTML,Wt.removeChild(o=Wt.firstChild)),!(K.noCloneEvent&&K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(r=v(o),a=v(t),s=0;null!=(n=a[s]);++s)r[s]&&w(n,r[s]);if(e)if(i)for(a=a||v(t),r=r||v(o),s=0;null!=(n=a[s]);s++)_(n,r[s]);else _(t,o);return 0<(r=v(o,"script")).length&&x(r,!l&&v(t,"script")),r=a=n=null,o},buildFragment:function(t,e,i,r){for(var n,o,s,a,l,u,c,h=t.length,d=m(e),f=[],p=0;p<h;p++)if((o=t[p])||0===o)if("object"===Z.type(o))Z.merge(f,o.nodeType?[o]:o);else if(Nt.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(It.exec(o)||["",""])[1].toLowerCase(),c=zt[l]||zt._default,a.innerHTML=c[1]+o.replace(Rt,"<$1></$2>")+c[2],n=c[0];n--;)a=a.lastChild;if(!K.leadingWhitespace&&Dt.test(o)&&f.push(e.createTextNode(Dt.exec(o)[0])),!K.tbody)for(n=(o="table"!==l||Lt.test(o)?"<table>"!==c[1]||Lt.test(o)?0:a:a.firstChild)&&o.childNodes.length;n--;)Z.nodeName(u=o.childNodes[n],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(Z.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(e.createTextNode(o));for(a&&d.removeChild(a),K.appendChecked||Z.grep(v(f,"input"),g),p=0;o=f[p++];)if((!r||-1===Z.inArray(o,r))&&(s=Z.contains(o.ownerDocument,o),a=v(d.appendChild(o),"script"),s&&x(a),i))for(n=0;o=a[n++];)Ft.test(o.type||"")&&i.push(o);return a=null,d},cleanData:function(t,e){for(var i,r,n,o,s=0,a=Z.expando,l=Z.cache,u=K.deleteExpando,c=Z.event.special;null!=(i=t[s]);s++)if((e||Z.acceptData(i))&&(o=(n=i[a])&&l[n])){if(o.events)for(r in o.events)c[r]?Z.event.remove(i,r):Z.removeEvent(i,r,o.handle);l[n]&&(delete l[n],u?delete i[a]:typeof i.removeAttribute!==vt?i.removeAttribute(a):i[a]=null,z.push(n))}}}),Z.fn.extend({text:function(t){return wt(this,function(t){return void 0===t?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||lt).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||f(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,r=t?Z.filter(t,this):this,n=0;null!=(i=r[n]);n++)e||1!==i.nodeType||Z.cleanData(v(i)),i.parentNode&&(e&&Z.contains(i.ownerDocument,i)&&x(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&Z.cleanData(v(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&Z.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return wt(this,function(t){var e=this[0]||{},i=0,r=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Pt,""):void 0;if(!("string"!=typeof t||Bt.test(t)||!K.htmlSerialize&&kt.test(t)||!K.leadingWhitespace&&Dt.test(t)||zt[(It.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(Rt,"<$1></$2>");try{for(;i<r;i++)1===(e=this[i]||{}).nodeType&&(Z.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(i,r){i=H.apply([],i);var t,e,n,o,s,a,l=0,u=this.length,c=this,h=u-1,d=i[0],f=Z.isFunction(d);if(f||1<u&&"string"==typeof d&&!K.checkClone&&jt.test(d))return this.each(function(t){var e=c.eq(t);f&&(i[0]=d.call(this,t,e.html())),e.domManip(i,r)});if(u&&(t=(a=Z.buildFragment(i,this[0].ownerDocument,!1,this)).firstChild,1===a.childNodes.length&&(a=t),t)){for(n=(o=Z.map(v(a,"script"),y)).length;l<u;l++)e=a,l!==h&&(e=Z.clone(e,!0,!0),n&&Z.merge(o,v(e,"script"))),r.call(this[l],e,l);if(n)for(s=o[o.length-1].ownerDocument,Z.map(o,b),l=0;l<n;l++)e=o[l],Ft.test(e.type||"")&&!Z._data(e,"globalEval")&&Z.contains(s,e)&&(e.src?Z._evalUrl&&Z._evalUrl(e.src):Z.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Ut,"")));a=t=null}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){Z.fn[t]=function(t){for(var e,i=0,r=[],n=Z(t),o=n.length-1;i<=o;i++)e=i===o?this:this.clone(!0),Z(n[i])[s](e),X.apply(r,e.get());return this.pushStack(r)}});var Ht,Xt,Gt={};K.shrinkWrapBlocks=function(){return null!=Xt?Xt:(Xt=!1,(e=lt.getElementsByTagName("body")[0])&&e.style?(t=lt.createElement("div"),(i=lt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(i).appendChild(t),typeof t.style.zoom!==vt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(lt.createElement("div")).style.width="5px",Xt=3!==t.offsetWidth),e.removeChild(i),Xt):void 0);var t,e,i};var Yt,qt,Vt=/^margin/,Kt=new RegExp("^("+bt+")(?!px)[a-z%]+$","i"),Qt=/^(top|right|bottom|left)$/;p.getComputedStyle?(Yt=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):p.getComputedStyle(t,null)},qt=function(t,e,i){var r,n,o,s,a=t.style;return s=(i=i||Yt(t))?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==s||Z.contains(t.ownerDocument,t)||(s=Z.style(t,e)),Kt.test(s)&&Vt.test(e)&&(r=a.width,n=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=r,a.minWidth=n,a.maxWidth=o)),void 0===s?s:s+""}):lt.documentElement.currentStyle&&(Yt=function(t){return t.currentStyle},qt=function(t,e,i){var r,n,o,s,a=t.style;return null==(s=(i=i||Yt(t))?i[e]:void 0)&&a&&a[e]&&(s=a[e]),Kt.test(s)&&!Qt.test(e)&&(r=a.left,(o=(n=t.runtimeStyle)&&n.left)&&(n.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=r,o&&(n.left=o)),void 0===s?s:s+""||"auto"}),function(){function t(){var t,e,i,r;(e=lt.getElementsByTagName("body")[0])&&e.style&&(t=lt.createElement("div"),(i=lt.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",n=o=!1,a=!0,p.getComputedStyle&&(n="1%"!==(p.getComputedStyle(t,null)||{}).top,o="4px"===(p.getComputedStyle(t,null)||{width:"4px"}).width,(r=t.appendChild(lt.createElement("div"))).style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",a=!parseFloat((p.getComputedStyle(r,null)||{}).marginRight),t.removeChild(r)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(r=t.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(s=0===r[0].offsetHeight)&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),e.removeChild(i))}var e,i,r,n,o,s,a;(e=lt.createElement("div")).innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",(i=(r=e.getElementsByTagName("a")[0])&&r.style)&&(i.cssText="float:left;opacity:.5",K.opacity="0.5"===i.opacity,K.cssFloat=!!i.cssFloat,e.style.backgroundClip="content-box",e.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===e.style.backgroundClip,K.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,Z.extend(K,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==a&&t(),a}}))}(),Z.swap=function(t,e,i,r){var n,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in n=i.apply(t,r||[]),e)t.style[o]=s[o];return n};var Zt=/alpha\([^)]*\)/i,Jt=/opacity\s*=\s*([^)]*)/,te=/^(none|table(?!-c[ea]).+)/,ee=new RegExp("^("+bt+")(.*)$","i"),ie=new RegExp("^([+-])=("+bt+")","i"),re={position:"absolute",visibility:"hidden",display:"block"},ne={letterSpacing:"0",fontWeight:"400"},oe=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=qt(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:K.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,o,s,a=Z.camelCase(e),l=t.style;if(e=Z.cssProps[a]||(Z.cssProps[a]=C(l,a)),s=Z.cssHooks[e]||Z.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(n=s.get(t,!1,r))?n:l[e];if("string"===(o=typeof i)&&(n=ie.exec(i))&&(i=(n[1]+1)*n[2]+parseFloat(Z.css(t,e)),o="number"),null!=i&&i==i&&("number"!==o||Z.cssNumber[a]||(i+="px"),K.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(t,i,r)))))try{l[e]=i}catch(t){}}},css:function(t,e,i,r){var n,o,s,a=Z.camelCase(e);return e=Z.cssProps[a]||(Z.cssProps[a]=C(t.style,a)),(s=Z.cssHooks[e]||Z.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=qt(t,e,r)),"normal"===o&&e in ne&&(o=ne[e]),""===i||i?(n=parseFloat(o),!0===i||Z.isNumeric(n)?n||0:o):o}}),Z.each(["height","width"],function(t,n){Z.cssHooks[n]={get:function(t,e,i){return e?te.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,re,function(){return P(t,n,i)}):P(t,n,i):void 0},set:function(t,e,i){var r=i&&Yt(t);return M(0,e,i?A(t,n,i,K.boxSizing&&"border-box"===Z.css(t,"boxSizing",!1,r),r):0)}}}),K.opacity||(Z.cssHooks.opacity={get:function(t,e){return Jt.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,r=t.currentStyle,n=Z.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||i.filter||"";((i.zoom=1)<=e||""===e)&&""===Z.trim(o.replace(Zt,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||r&&!r.filter)||(i.filter=Zt.test(o)?o.replace(Zt,n):o+" "+n)}}),Z.cssHooks.marginRight=E(K.reliableMarginRight,function(t,e){return e?Z.swap(t,{display:"inline-block"},qt,[t,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(n,o){Z.cssHooks[n+o]={expand:function(t){for(var e=0,i={},r="string"==typeof t?t.split(" "):[t];e<4;e++)i[n+xt[e]+o]=r[e]||r[e-2]||r[0];return i}},Vt.test(n)||(Z.cssHooks[n+o].set=M)}),Z.fn.extend({css:function(t,e){return wt(this,function(t,e,i){var r,n,o={},s=0;if(Z.isArray(e)){for(r=Yt(t),n=e.length;s<n;s++)o[e[s]]=Z.css(t,e[s],!1,r);return o}return void 0!==i?Z.style(t,e,i):Z.css(t,e)},t,e,1<arguments.length)},show:function(){return O(this,!0)},hide:function(){return O(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){_t(this)?Z(this).show():Z(this).hide()})}}),(Z.Tween=k).prototype={constructor:k,init:function(t,e,i,r,n,o){this.elem=t,this.prop=i,this.easing=n||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[i]?"":"px")},cur:function(){var t=k.propHooks[this.prop];return t&&t.get?t.get(this):k.propHooks._default.get(this)},run:function(t){var e,i=k.propHooks[this.prop];return this.options.duration?this.pos=e=Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=k.prototype.init,Z.fx.step={};var se,ae,le,ue,ce,he,de,fe=/^(?:toggle|show|hide)$/,pe=new RegExp("^(?:([+-])=|)("+bt+")([a-z%]*)$","i"),me=/queueHooks$/,ve=[function(e,t,i){var r,n,o,s,a,l,u,c=this,h={},d=e.style,f=e.nodeType&&_t(e),p=Z._data(e,"fxshow");for(r in i.queue||(null==(a=Z._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(u=Z.css(e,"display"))?Z._data(e,"olddisplay")||S(e.nodeName):u)&&"none"===Z.css(e,"float")&&(K.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",K.shrinkWrapBlocks()||c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]})),t)if(n=t[r],fe.exec(n)){if(delete t[r],o=o||"toggle"===n,n===(f?"hide":"show")){if("show"!==n||!p||void 0===p[r])continue;f=!0}h[r]=p&&p[r]||Z.style(e,r)}else u=void 0;if(Z.isEmptyObject(h))"inline"===("none"===u?S(e.nodeName):u)&&(d.display=u);else for(r in p?"hidden"in p&&(f=p.hidden):p=Z._data(e,"fxshow",{}),o&&(p.hidden=!f),f?Z(e).show():c.done(function(){Z(e).hide()}),c.done(function(){var t;for(t in Z._removeData(e,"fxshow"),h)Z.style(e,t,h[t])}),h)s=I(f?p[r]:0,r,c),r in p||(p[r]=s.start,f&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}],ge={"*":[function(t,e){var i=this.createTween(t,e),r=i.cur(),n=pe.exec(e),o=n&&n[3]||(Z.cssNumber[t]?"":"px"),s=(Z.cssNumber[t]||"px"!==o&&+r)&&pe.exec(Z.css(i.elem,t)),a=1,l=20;if(s&&s[3]!==o)for(o=o||s[3],n=n||[],s=+r||1;s/=a=a||".5",Z.style(i.elem,t,s+o),a!==(a=i.cur()/r)&&1!==a&&--l;);return n&&(s=i.start=+s||+r||0,i.unit=o,i.end=n[1]?s+(n[1]+1)*n[2]:+n[2]),i}]};Z.Animation=Z.extend(L,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,r=0,n=t.length;r<n;r++)i=t[r],ge[i]=ge[i]||[],ge[i].unshift(e)},prefilter:function(t,e){e?ve.unshift(t):ve.push(t)}}),Z.speed=function(t,e,i){var r=t&&"object"==typeof t?Z.extend({},t):{complete:i||!i&&e||Z.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Z.isFunction(e)&&e};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(t,e,i,r){return this.filter(_t).css("opacity",0).show().end().animate({opacity:e},t,i,r)},animate:function(e,t,i,r){var n=Z.isEmptyObject(e),o=Z.speed(t,i,r),s=function(){var t=L(this,Z.extend({},e),o);(n||Z._data(this,"finish"))&&t.stop(!0)};return s.finish=s,n||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(n,t,o){var s=function(t){var e=t.stop;delete t.stop,e(o)};return"string"!=typeof n&&(o=t,t=n,n=void 0),t&&!1!==n&&this.queue(n||"fx",[]),this.each(function(){var t=!0,e=null!=n&&n+"queueHooks",i=Z.timers,r=Z._data(this);if(e)r[e]&&r[e].stop&&s(r[e]);else for(e in r)r[e]&&r[e].stop&&me.test(e)&&s(r[e]);for(e=i.length;e--;)i[e].elem!==this||null!=n&&i[e].queue!==n||(i[e].anim.stop(o),t=!1,i.splice(e,1));(t||!o)&&Z.dequeue(this,n)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=Z._data(this),i=e[s+"queue"],r=e[s+"queueHooks"],n=Z.timers,o=i?i.length:0;for(e.finish=!0,Z.queue(this,s,[]),r&&r.stop&&r.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===s&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),Z.each(["toggle","show","hide"],function(t,r){var n=Z.fn[r];Z.fn[r]=function(t,e,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(R(r,!0),t,e,i)}}),Z.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){Z.fn[t]=function(t,e,i){return this.animate(r,t,e,i)}}),Z.timers=[],Z.fx.tick=function(){var t,e=Z.timers,i=0;for(se=Z.now();i<e.length;i++)(t=e[i])()||e[i]!==t||e.splice(i--,1);e.length||Z.fx.stop(),se=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){ae||(ae=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(ae),ae=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(r,t){return r=Z.fx&&Z.fx.speeds[r]||r,t=t||"fx",this.queue(t,function(t,e){var i=setTimeout(t,r);e.stop=function(){clearTimeout(i)}})},(ue=lt.createElement("div")).setAttribute("className","t"),ue.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",he=ue.getElementsByTagName("a")[0],de=(ce=lt.createElement("select")).appendChild(lt.createElement("option")),le=ue.getElementsByTagName("input")[0],he.style.cssText="top:1px",K.getSetAttribute="t"!==ue.className,K.style=/top/.test(he.getAttribute("style")),K.hrefNormalized="/a"===he.getAttribute("href"),K.checkOn=!!le.value,K.optSelected=de.selected,K.enctype=!!lt.createElement("form").enctype,ce.disabled=!0,K.optDisabled=!de.disabled,(le=lt.createElement("input")).setAttribute("value",""),K.input=""===le.getAttribute("value"),le.value="t",le.setAttribute("type","radio"),K.radioValue="t"===le.value;var ye=/\r/g;Z.fn.extend({val:function(i){var r,t,n,e=this[0];return arguments.length?(n=Z.isFunction(i),this.each(function(t){var e;1===this.nodeType&&(null==(e=n?i.call(this,t,Z(this).val()):i)?e="":"number"==typeof e?e+="":Z.isArray(e)&&(e=Z.map(e,function(t){return null==t?"":t+""})),(r=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,e,"value")||(this.value=e))})):e?(r=Z.valHooks[e.type]||Z.valHooks[e.nodeName.toLowerCase()])&&"get"in r&&void 0!==(t=r.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(ye,""):null==t?"":t:void 0}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value");return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,i,r=t.options,n=t.selectedIndex,o="select-one"===t.type||n<0,s=o?null:[],a=o?n+1:r.length,l=n<0?a:o?n:0;l<a;l++)if(!(!(i=r[l]).selected&&l!==n||(K.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(e=Z(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,r,n=t.options,o=Z.makeArray(e),s=n.length;s--;)if(r=n[s],0<=Z.inArray(Z.valHooks.option.get(r),o))try{r.selected=i=!0}catch(t){r.scrollHeight}else r.selected=!1;return i||(t.selectedIndex=-1),n}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){return Z.isArray(e)?t.checked=0<=Z.inArray(Z(t).val(),e):void 0}},K.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var be,xe,_e=Z.expr.attrHandle,we=/^(?:checked|selected)$/i,Te=K.getSetAttribute,Se=K.input;Z.fn.extend({attr:function(t,e){return wt(this,Z.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,i){var r,n,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===vt?Z.prop(t,e,i):(1===o&&Z.isXMLDoc(t)||(e=e.toLowerCase(),r=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?xe:be)),void 0===i?r&&"get"in r&&null!==(n=r.get(t,e))?n:null==(n=Z.find.attr(t,e))?void 0:n:null!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):void Z.removeAttr(t,e))},removeAttr:function(t,e){var i,r,n=0,o=e&&e.match(ft);if(o&&1===t.nodeType)for(;i=o[n++];)r=Z.propFix[i]||i,Z.expr.match.bool.test(i)?Se&&Te||!we.test(i)?t[r]=!1:t[Z.camelCase("default-"+i)]=t[r]=!1:Z.attr(t,i,""),t.removeAttribute(Te?i:r)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),xe={set:function(t,e,i){return!1===e?Z.removeAttr(t,i):Se&&Te||!we.test(i)?t.setAttribute(!Te&&Z.propFix[i]||i,i):t[Z.camelCase("default-"+i)]=t[i]=!0,i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var o=_e[e]||Z.find.attr;_e[e]=Se&&Te||!we.test(e)?function(t,e,i){var r,n;return i||(n=_e[e],_e[e]=r,r=null!=o(t,e,i)?e.toLowerCase():null,_e[e]=n),r}:function(t,e,i){return i?void 0:t[Z.camelCase("default-"+e)]?e.toLowerCase():null}}),Se&&Te||(Z.attrHooks.value={set:function(t,e,i){return Z.nodeName(t,"input")?void(t.defaultValue=e):be&&be.set(t,e,i)}}),Te||(be={set:function(t,e,i){var r=t.getAttributeNode(i);return r||t.setAttributeNode(r=t.ownerDocument.createAttribute(i)),r.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},_e.id=_e.name=_e.coords=function(t,e,i){var r;return i?void 0:(r=t.getAttributeNode(e))&&""!==r.value?r.value:null},Z.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:be.set},Z.attrHooks.contenteditable={set:function(t,e,i){be.set(t,""!==e&&e,i)}},Z.each(["width","height"],function(t,i){Z.attrHooks[i]={set:function(t,e){return""===e?(t.setAttribute(i,"auto"),e):void 0}}})),K.style||(Z.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ee=/^(?:input|select|textarea|button|object)$/i,Ce=/^(?:a|area)$/i;Z.fn.extend({prop:function(t,e){return wt(this,Z.prop,t,e,1<arguments.length)},removeProp:function(t){return t=Z.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),Z.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,i){var r,n,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!Z.isXMLDoc(t))&&(e=Z.propFix[e]||e,n=Z.propHooks[e]),void 0!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:t[e]=i:n&&"get"in n&&null!==(r=n.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=Z.find.attr(t,"tabindex");return e?parseInt(e,10):Ee.test(t.nodeName)||Ce.test(t.nodeName)&&t.href?0:-1}}}}),K.hrefNormalized||Z.each(["href","src"],function(t,e){Z.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),K.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this}),K.enctype||(Z.propFix.enctype="encoding");var Oe=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,i,r,n,o,s,a=0,l=this.length,u="string"==typeof e&&e;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ft)||[];a<l;a++)if(r=1===(i=this[a]).nodeType&&(i.className?(" "+i.className+" ").replace(Oe," "):" ")){for(o=0;n=t[o++];)r.indexOf(" "+n+" ")<0&&(r+=n+" ");s=Z.trim(r),i.className!==s&&(i.className=s)}return this},removeClass:function(e){var t,i,r,n,o,s,a=0,l=this.length,u=0===arguments.length||"string"==typeof e&&e;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(ft)||[];a<l;a++)if(r=1===(i=this[a]).nodeType&&(i.className?(" "+i.className+" ").replace(Oe," "):"")){for(o=0;n=t[o++];)for(;0<=r.indexOf(" "+n+" ");)r=r.replace(" "+n+" "," ");s=e?Z.trim(r):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(n,e){var o=typeof n;return"boolean"==typeof e&&"string"===o?e?this.addClass(n):this.removeClass(n):this.each(Z.isFunction(n)?function(t){Z(this).toggleClass(n.call(this,t,this.className,e),e)}:function(){if("string"===o)for(var t,e=0,i=Z(this),r=n.match(ft)||[];t=r[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(o===vt||"boolean"===o)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||!1===n?"":Z._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,r=this.length;i<r;i++)if(1===this[i].nodeType&&0<=(" "+this[i].className+" ").replace(Oe," ").indexOf(e))return!0;return!1}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,i){Z.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,r){return this.on(e,t,i,r)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Me=Z.now(),Ae=/\?/,Pe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;Z.parseJSON=function(t){if(p.JSON&&p.JSON.parse)return p.JSON.parse(t+"");var n,o=null,e=Z.trim(t+"");return e&&!Z.trim(e.replace(Pe,function(t,e,i,r){return n&&e&&(o=0),0===o?t:(n=i||e,o+=!r-!i,"")}))?Function("return "+e)():Z.error("Invalid JSON: "+t)},Z.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{p.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(t){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+t),e};var ke,De,Re=/#.*$/,Ie=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ne=/^(?:GET|HEAD)$/,Be=/^\/\//,je=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Fe={},$e={},Ue="*/".concat("*");try{De=location.href}catch(t){(De=lt.createElement("a")).href="",De=De.href}ke=je.exec(De.toLowerCase())||[],Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:De,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ke[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ue,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,Z.ajaxSettings),e):j(Z.ajaxSettings,t)},ajaxPrefilter:N(Fe),ajaxTransport:N($e),ajax:function(t,e){function i(t,e,i,r){var n,o,s,a,l,u=e;2!==_&&(_=2,d&&clearTimeout(d),p=void 0,h=r||"",w.readyState=0<t?4:0,n=200<=t&&t<300||304===t,i&&(a=function(t,e,i){for(var r,n,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(s in a)if(a[s]&&a[s].test(n)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}r||(r=s)}o=o||r}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}(m,w,i)),a=function(t,e,i,r){var n,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(n in u)if((a=n.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[n]:!0!==u[n]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(m,a,w,n),n?(m.ifModified&&((l=w.getResponseHeader("Last-Modified"))&&(Z.lastModified[c]=l),(l=w.getResponseHeader("etag"))&&(Z.etag[c]=l)),204===t||"HEAD"===m.type?u="nocontent":304===t?u="notmodified":(u=a.state,o=a.data,n=!(s=a.error))):(s=u,(t||!u)&&(u="error",t<0&&(t=0))),w.status=t,w.statusText=(e||u)+"",n?y.resolveWith(v,[o,u,w]):y.rejectWith(v,[w,u,s]),w.statusCode(x),x=void 0,f&&g.trigger(n?"ajaxSuccess":"ajaxError",[w,m,n?o:s]),b.fireWith(v,[w,u]),f&&(g.trigger("ajaxComplete",[w,m]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,n,c,h,d,f,p,o,m=Z.ajaxSetup({},e),v=m.context||m,g=m.context&&(v.nodeType||v.jquery)?Z(v):Z.event,y=Z.Deferred(),b=Z.Callbacks("once memory"),x=m.statusCode||{},s={},a={},_=0,l="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!o)for(o={};e=Le.exec(h);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?h:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return _||(t=a[i]=a[i]||t,s[t]=e),this},overrideMimeType:function(t){return _||(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(_<2)for(e in t)x[e]=[x[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||l;return p&&p.abort(e),i(0,e),this}};if(y.promise(w).complete=b.add,w.success=w.done,w.error=w.fail,m.url=((t||m.url||De)+"").replace(Re,"").replace(Be,ke[1]+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=Z.trim(m.dataType||"*").toLowerCase().match(ft)||[""],null==m.crossDomain&&(r=je.exec(m.url.toLowerCase()),m.crossDomain=!(!r||r[1]===ke[1]&&r[2]===ke[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(ke[3]||("http:"===ke[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=Z.param(m.data,m.traditional)),B(Fe,m,e,w),2===_)return w;for(n in(f=Z.event&&m.global)&&0==Z.active++&&Z.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ne.test(m.type),c=m.url,m.hasContent||(m.data&&(c=m.url+=(Ae.test(c)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Ie.test(c)?c.replace(Ie,"$1_="+Me++):c+(Ae.test(c)?"&":"?")+"_="+Me++)),m.ifModified&&(Z.lastModified[c]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[c]),Z.etag[c]&&w.setRequestHeader("If-None-Match",Z.etag[c])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ue+"; q=0.01":""):m.accepts["*"]),m.headers)w.setRequestHeader(n,m.headers[n]);if(m.beforeSend&&(!1===m.beforeSend.call(v,w,m)||2===_))return w.abort();for(n in l="abort",{success:1,error:1,complete:1})w[n](m[n]);if(p=B($e,m,e,w)){w.readyState=1,f&&g.trigger("ajaxSend",[w,m]),m.async&&0<m.timeout&&(d=setTimeout(function(){w.abort("timeout")},m.timeout));try{_=1,p.send(s,i)}catch(t){if(!(_<2))throw t;i(-1,t)}}else i(-1,"No Transport");return w},getJSON:function(t,e,i){return Z.get(t,e,i,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,n){Z[n]=function(t,e,i,r){return Z.isFunction(e)&&(r=r||i,i=e,e=void 0),Z.ajax({url:t,type:n,dataType:r,data:e,success:i})}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Z.fn.extend({wrapAll:function(e){if(Z.isFunction(e))return this.each(function(t){Z(this).wrapAll(e.call(this,t))});if(this[0]){var t=Z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(i){return this.each(Z.isFunction(i)?function(t){Z(this).wrapInner(i.call(this,t))}:function(){var t=Z(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=Z.isFunction(e);return this.each(function(t){Z(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!K.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||Z.css(t,"display"))},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)};var ze=/%20/g,We=/\[\]$/,He=/\r?\n/g,Xe=/^(?:submit|button|image|reset|file)$/i,Ge=/^(?:input|select|textarea|keygen)/i;Z.param=function(t,e){var i,r=[],n=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){n(this.name,this.value)});else for(i in t)F(i,t[i],e,n);return r.join("&").replace(ze,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements");return t?Z.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Z(this).is(":disabled")&&Ge.test(this.nodeName)&&!Xe.test(t)&&(this.checked||!Tt.test(t))}).map(function(t,e){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(t){return{name:e.name,value:t.replace(He,"\r\n")}}):{name:e.name,value:i.replace(He,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=void 0!==p.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$()||function(){try{return new p.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:$;var Ye=0,qe={},Ve=Z.ajaxSettings.xhr();p.attachEvent&&p.attachEvent("onunload",function(){for(var t in qe)qe[t](void 0,!0)}),K.cors=!!Ve&&"withCredentials"in Ve,(Ve=K.ajax=!!Ve)&&Z.ajaxTransport(function(l){var u;if(!l.crossDomain||K.cors)return{send:function(t,o){var e,s=l.xhr(),a=++Ye;if(s.open(l.type,l.url,l.async,l.username,l.password),l.xhrFields)for(e in l.xhrFields)s[e]=l.xhrFields[e];for(e in l.mimeType&&s.overrideMimeType&&s.overrideMimeType(l.mimeType),l.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)void 0!==t[e]&&s.setRequestHeader(e,t[e]+"");s.send(l.hasContent&&l.data||null),u=function(t,e){var i,r,n;if(u&&(e||4===s.readyState))if(delete qe[a],u=void 0,s.onreadystatechange=Z.noop,e)4!==s.readyState&&s.abort();else{n={},i=s.status,"string"==typeof s.responseText&&(n.text=s.responseText);try{r=s.statusText}catch(t){r=""}i||!l.isLocal||l.crossDomain?1223===i&&(i=204):i=n.text?200:404}n&&o(i,r,n,s.getAllResponseHeaders())},l.async?4===s.readyState?setTimeout(u):s.onreadystatechange=qe[a]=u:u()},abort:function(){u&&u(void 0,!0)}}}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var r,n=lt.head||Z("head")[0]||lt.documentElement;return{send:function(t,i){(r=lt.createElement("script")).async=!0,e.scriptCharset&&(r.charset=e.scriptCharset),r.src=e.url,r.onload=r.onreadystatechange=function(t,e){(e||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),r=null,e||i(200,"success"))},n.insertBefore(r,n.firstChild)},abort:function(){r&&r.onload(void 0,!0)}}}});var Ke=[],Qe=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||Z.expando+"_"+Me++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(t,e,i){var r,n,o,s=!1!==t.jsonp&&(Qe.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qe.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qe,"$1"+r):!1!==t.jsonp&&(t.url+=(Ae.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||Z.error(r+" was not called"),o[0]},t.dataTypes[0]="json",n=p[r],p[r]=function(){o=arguments},i.always(function(){p[r]=n,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ke.push(r)),o&&Z.isFunction(n)&&n(o[0]),o=n=void 0}),"script"):void 0}),Z.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||lt;var r=ot.exec(t),n=!i&&[];return r?[e.createElement(r[1])]:(r=Z.buildFragment([t],e,n),n&&n.length&&Z(n).remove(),Z.merge([],r.childNodes))};var Ze=Z.fn.load;Z.fn.load=function(t,e,i){if("string"!=typeof t&&Ze)return Ze.apply(this,arguments);var r,n,o,s=this,a=t.indexOf(" ");return 0<=a&&(r=Z.trim(t.slice(a,t.length)),t=t.slice(0,a)),Z.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),0<s.length&&Z.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){n=arguments,s.html(r?Z("<div>").append(Z.parseHTML(t)).find(r):t)}).complete(i&&function(t,e){s.each(i,n||[t.responseText,e,t])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Je=p.document.documentElement;Z.offset={setOffset:function(t,e,i){var r,n,o,s,a,l,u=Z.css(t,"position"),c=Z(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=Z.css(t,"top"),l=Z.css(t,"left"),("absolute"===u||"fixed"===u)&&-1<Z.inArray("auto",[o,l])?(s=(r=c.position()).top,n=r.left):(s=parseFloat(o)||0,n=parseFloat(l)||0),Z.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+n),"using"in e?e.using.call(t,h):c.css(h)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,i,r={top:0,left:0},n=this[0],o=n&&n.ownerDocument;return o?(t=o.documentElement,Z.contains(t,n)?(typeof n.getBoundingClientRect!==vt&&(r=n.getBoundingClientRect()),i=U(o),{top:r.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var t,e,i={top:0,left:0},r=this[0];return"fixed"===Z.css(r,"position")?e=r.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(i=t.offset()),i.top+=Z.css(t[0],"borderTopWidth",!0),i.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-Z.css(r,"marginTop",!0),left:e.left-i.left-Z.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Je;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||Je})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var o=/Y/.test(n);Z.fn[e]=function(t){return wt(this,function(t,e,i){var r=U(t);return void 0===i?r?n in r?r[n]:r.document.documentElement[e]:t[e]:void(r?r.scrollTo(o?Z(r).scrollLeft():i,o?i:Z(r).scrollTop()):t[e]=i)},e,t,arguments.length,null)}}),Z.each(["top","left"],function(t,i){Z.cssHooks[i]=E(K.pixelPosition,function(t,e){return e?(e=qt(t,i),Kt.test(e)?Z(t).position()[i]+"px":e):void 0})}),Z.each({Height:"height",Width:"width"},function(o,s){Z.each({padding:"inner"+o,content:s,"":"outer"+o},function(r,t){Z.fn[t]=function(t,e){var i=arguments.length&&(r||"boolean"!=typeof t),n=r||(!0===t||!0===e?"margin":"border");return wt(this,function(t,e,i){var r;return Z.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+o],r["scroll"+o],t.body["offset"+o],r["offset"+o],r["client"+o])):void 0===i?Z.css(t,e,n):Z.style(t,e,i,n)},s,i?t:void 0,i,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var ti=p.jQuery,ei=p.$;return Z.noConflict=function(t){return p.$===Z&&(p.$=ei),t&&p.jQuery===Z&&(p.jQuery=ti),Z},typeof t===vt&&(p.jQuery=p.$=Z),Z}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(u){"use strict";var n,s=window.Slick||{};n=0,(s=function(t,e){var i,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:u(t),appendDots:u(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,e){return u('<button type="button" data-role="none" role="button" tabindex="0" />').text(e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},u.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.focussed=!1,r.interrupted=!1,r.hidden="hidden",r.paused=!0,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=u(t),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,i=u(t).data("slick")||{},r.options=u.extend({},r.defaults,e,i),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,void 0!==document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=u.proxy(r.autoPlay,r),r.autoPlayClear=u.proxy(r.autoPlayClear,r),r.autoPlayIterator=u.proxy(r.autoPlayIterator,r),r.changeSlide=u.proxy(r.changeSlide,r),r.clickHandler=u.proxy(r.clickHandler,r),r.selectHandler=u.proxy(r.selectHandler,r),r.setPosition=u.proxy(r.setPosition,r),r.swipeHandler=u.proxy(r.swipeHandler,r),r.dragHandler=u.proxy(r.dragHandler,r),r.keyHandler=u.proxy(r.keyHandler,r),r.instanceUid=n++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},s.prototype.addSlide=s.prototype.slickAdd=function(t,e,i){var r=this;if("boolean"==typeof e)i=e,e=null;else if(e<0||e>=r.slideCount)return!1;r.unload(),"number"==typeof e?0===e&&0===r.$slides.length?u(t).appendTo(r.$slideTrack):i?u(t).insertBefore(r.$slides.eq(e)):u(t).insertAfter(r.$slides.eq(e)):!0===i?u(t).prependTo(r.$slideTrack):u(t).appendTo(r.$slideTrack),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slides.each(function(t,e){u(e).attr("data-slick-index",t)}),r.$slidesCache=r.$slides,r.reinit()},s.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},s.prototype.animateSlide=function(t,e){var i={},r=this;r.animateHeight(),!0===r.options.rtl&&!1===r.options.vertical&&(t=-t),!1===r.transformsEnabled?!1===r.options.vertical?r.$slideTrack.animate({left:t},r.options.speed,r.options.easing,e):r.$slideTrack.animate({top:t},r.options.speed,r.options.easing,e):!1===r.cssTransitions?(!0===r.options.rtl&&(r.currentLeft=-r.currentLeft),u({animStart:r.currentLeft}).animate({animStart:t},{duration:r.options.speed,easing:r.options.easing,step:function(t){t=Math.ceil(t),!1===r.options.vertical?i[r.animType]="translate("+t+"px, 0px)":i[r.animType]="translate(0px,"+t+"px)",r.$slideTrack.css(i)},complete:function(){e&&e.call()}})):(r.applyTransition(),t=Math.ceil(t),!1===r.options.vertical?i[r.animType]="translate3d("+t+"px, 0px, 0px)":i[r.animType]="translate3d(0px,"+t+"px, 0px)",r.$slideTrack.css(i),e&&setTimeout(function(){r.disableTransition(),e.call()},r.options.speed))},s.prototype.getNavTarget=function(){var t=this.options.asNavFor;return t&&null!==t&&(t=u(t).not(this.$slider)),t},s.prototype.asNavFor=function(e){var t=this.getNavTarget();null!==t&&"object"==typeof t&&t.each(function(){var t=u(this).slick("getSlick");t.unslicked||t.slideHandler(e,!0)})},s.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},s.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},s.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},s.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},s.prototype.buildArrows=function(){var t=this;!0===t.options.arrows&&(t.$prevArrow=u(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=u(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),!0!==t.options.infinite&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},s.prototype.buildDots=function(){var t,e,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),e=u("<ul />").addClass(i.options.dotsClass),t=0;t<=i.getDotCount();t+=1)e.append(u("<li />").append(i.options.customPaging.call(this,i,t)));i.$dots=e.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},s.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,e){u(e).attr("data-slick-index",t).data("originalStyling",u(e).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?u('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),!0!==t.options.centerMode&&!0!==t.options.swipeToSlide||(t.options.slidesToScroll=1),u("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),!0===t.options.draggable&&t.$list.addClass("draggable")},s.prototype.buildRows=function(){var t,e,i,r,n,o,s,a=this;if(r=document.createDocumentFragment(),o=a.$slider.children(),1<a.options.rows){for(s=a.options.slidesPerRow*a.options.rows,n=Math.ceil(o.length/s),t=0;t<n;t++){var l=document.createElement("div");for(e=0;e<a.options.rows;e++){var u=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var c=t*s+(e*a.options.slidesPerRow+i);o.get(c)&&u.appendChild(o.get(c))}l.appendChild(u)}r.appendChild(l)}a.$slider.empty().append(r),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},s.prototype.checkResponsive=function(t,e){var i,r,n,o=this,s=!1,a=o.$slider.width(),l=window.innerWidth||u(window).width();if("window"===o.respondTo?n=l:"slider"===o.respondTo?n=a:"min"===o.respondTo&&(n=Math.min(l,a)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(i in r=null,o.breakpoints)o.breakpoints.hasOwnProperty(i)&&(!1===o.originalSettings.mobileFirst?n<o.breakpoints[i]&&(r=o.breakpoints[i]):n>o.breakpoints[i]&&(r=o.breakpoints[i]));null!==r?null!==o.activeBreakpoint?(r!==o.activeBreakpoint||e)&&(o.activeBreakpoint=r,"unslick"===o.breakpointSettings[r]?o.unslick(r):(o.options=u.extend({},o.originalSettings,o.breakpointSettings[r]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),s=r):(o.activeBreakpoint=r,"unslick"===o.breakpointSettings[r]?o.unslick(r):(o.options=u.extend({},o.originalSettings,o.breakpointSettings[r]),!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t)),s=r):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===t&&(o.currentSlide=o.options.initialSlide),o.refresh(t),s=r),t||!1===s||o.$slider.trigger("breakpoint",[o,s])}},s.prototype.changeSlide=function(t,e){var i,r,n=this,o=u(t.currentTarget);switch(o.is("a")&&t.preventDefault(),o.is("li")||(o=o.closest("li")),i=n.slideCount%n.options.slidesToScroll!=0?0:(n.slideCount-n.currentSlide)%n.options.slidesToScroll,t.data.message){case"previous":r=0===i?n.options.slidesToScroll:n.options.slidesToShow-i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide-r,!1,e);break;case"next":r=0===i?n.options.slidesToScroll:i,n.slideCount>n.options.slidesToShow&&n.slideHandler(n.currentSlide+r,!1,e);break;case"index":var s=0===t.data.index?0:t.data.index||o.index()*n.options.slidesToScroll;n.slideHandler(n.checkNavigable(s),!1,e),o.children().trigger("focus");break;default:return}},s.prototype.checkNavigable=function(t){var e,i;if(i=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var r in e){if(t<e[r]){t=i;break}i=e[r]}return t},s.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&u("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",u.proxy(t.interrupt,t,!0)).off("mouseleave.slick",u.proxy(t.interrupt,t,!1)),t.$slider.off("focus.slick blur.slick"),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),u(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),!0===t.options.accessibility&&t.$list.off("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&u(t.$slideTrack).children().off("click.slick",t.selectHandler),u(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),u(window).off("resize.slick.slick-"+t.instanceUid,t.resize),u("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),u(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),u(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},s.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",u.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",u.proxy(t.interrupt,t,!1))},s.prototype.cleanUpRows=function(){var t;1<this.options.rows&&((t=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(t))},s.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},s.prototype.destroy=function(t){var e=this;e.autoPlayClear(),e.touchObject={},e.cleanUpEvents(),u(".slick-cloned",e.$slider).detach(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.$prevArrow.length&&(e.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove()),e.$nextArrow&&e.$nextArrow.length&&(e.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove()),e.$slides&&(e.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){u(this).attr("style",u(this).data("originalStyling"))}),e.$slideTrack.children(this.options.slide).detach(),e.$slideTrack.detach(),e.$list.detach(),e.$slider.append(e.$slides)),e.cleanUpRows(),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$slider.removeClass("slick-dotted"),e.unslicked=!0,t||e.$slider.trigger("destroy",[e])},s.prototype.disableTransition=function(t){var e={};e[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(e):this.$slides.eq(t).css(e)},s.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},s.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},s.prototype.filterSlides=s.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},s.prototype.focusHandler=function(){var i=this;i.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(t){t.stopImmediatePropagation();var e=u(this);setTimeout(function(){i.options.pauseOnFocus&&(i.focussed=e.is(":focus"),i.autoPlay())},0)})},s.prototype.getCurrent=s.prototype.slickCurrentSlide=function(){return this.currentSlide},s.prototype.getDotCount=function(){var t=this,e=0,i=0,r=0;if(!0===t.options.infinite)for(;e<t.slideCount;)++r,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)r=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++r,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else r=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return r-1},s.prototype.getLeft=function(t){var e,i,r,n=this,o=0;return n.slideOffset=0,i=n.$slides.first().outerHeight(!0),!0===n.options.infinite?(n.slideCount>n.options.slidesToShow&&(n.slideOffset=n.slideWidth*n.options.slidesToShow*-1,o=i*n.options.slidesToShow*-1),n.slideCount%n.options.slidesToScroll!=0&&t+n.options.slidesToScroll>n.slideCount&&n.slideCount>n.options.slidesToShow&&(t>n.slideCount?(n.slideOffset=(n.options.slidesToShow-(t-n.slideCount))*n.slideWidth*-1,o=(n.options.slidesToShow-(t-n.slideCount))*i*-1):(n.slideOffset=n.slideCount%n.options.slidesToScroll*n.slideWidth*-1,o=n.slideCount%n.options.slidesToScroll*i*-1))):t+n.options.slidesToShow>n.slideCount&&(n.slideOffset=(t+n.options.slidesToShow-n.slideCount)*n.slideWidth,o=(t+n.options.slidesToShow-n.slideCount)*i),n.slideCount<=n.options.slidesToShow&&(o=n.slideOffset=0),!0===n.options.centerMode&&!0===n.options.infinite?n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)-n.slideWidth:!0===n.options.centerMode&&(n.slideOffset=0,n.slideOffset+=n.slideWidth*Math.floor(n.options.slidesToShow/2)),e=!1===n.options.vertical?t*n.slideWidth*-1+n.slideOffset:t*i*-1+o,!0===n.options.variableWidth&&(r=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow),e=!0===n.options.rtl?r[0]?-1*(n.$slideTrack.width()-r[0].offsetLeft-r.width()):0:r[0]?-1*r[0].offsetLeft:0,!0===n.options.centerMode&&(r=n.slideCount<=n.options.slidesToShow||!1===n.options.infinite?n.$slideTrack.children(".slick-slide").eq(t):n.$slideTrack.children(".slick-slide").eq(t+n.options.slidesToShow+1),e=!0===n.options.rtl?r[0]?-1*(n.$slideTrack.width()-r[0].offsetLeft-r.width()):0:r[0]?-1*r[0].offsetLeft:0,e+=(n.$list.width()-r.outerWidth())/2)),e},s.prototype.getOption=s.prototype.slickGetOption=function(t){return this.options[t]},s.prototype.getNavigableIndexes=function(){var t,e=this,i=0,r=0,n=[];for(!1===e.options.infinite?t=e.slideCount:(i=-1*e.options.slidesToScroll,r=-1*e.options.slidesToScroll,t=2*e.slideCount);i<t;)n.push(i),i=r+e.options.slidesToScroll,r+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n},s.prototype.getSlick=function(){return this},s.prototype.getSlideCount=function(){var i,r,n=this;return r=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(t,e){if(e.offsetLeft-r+u(e).outerWidth()/2>-1*n.swipeLeft)return i=e,!1}),Math.abs(u(i).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},s.prototype.goTo=s.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},s.prototype.init=function(t){var e=this;u(e.$slider).hasClass("slick-initialized")||(u(e.$slider).addClass("slick-initialized"),e.buildRows(),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots(),e.checkResponsive(!0),e.focusHandler()),t&&e.$slider.trigger("init",[e]),!0===e.options.accessibility&&e.initADA(),e.options.autoplay&&(e.paused=!1,e.autoPlay())},s.prototype.initADA=function(){var e=this;e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),e.$slideTrack.attr("role","listbox"),e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(t){u(this).attr({role:"option","aria-describedby":"slick-slide"+e.instanceUid+t})}),null!==e.$dots&&e.$dots.attr("role","tablist").find("li").each(function(t){u(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+e.instanceUid+t,id:"slick-slide"+e.instanceUid+t})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),e.activateADA()},s.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide))},s.prototype.initDotEvents=function(){var t=this;!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&u("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),!0===t.options.dots&&!0===t.options.pauseOnDotsHover&&u("li",t.$dots).on("mouseenter.slick",u.proxy(t.interrupt,t,!0)).on("mouseleave.slick",u.proxy(t.interrupt,t,!1))},s.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",u.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",u.proxy(t.interrupt,t,!1)))},s.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),u(document).on(t.visibilityChange,u.proxy(t.visibility,t)),!0===t.options.accessibility&&t.$list.on("keydown.slick",t.keyHandler),!0===t.options.focusOnSelect&&u(t.$slideTrack).children().on("click.slick",t.selectHandler),u(window).on("orientationchange.slick.slick-"+t.instanceUid,u.proxy(t.orientationChange,t)),u(window).on("resize.slick.slick-"+t.instanceUid,u.proxy(t.resize,t)),u("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),u(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),u(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},s.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},s.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},s.prototype.lazyLoad=function(){function t(t){u("img[data-lazy]",t).each(function(){var t=u(this),e=u(this).attr("data-lazy"),i=document.createElement("img");i.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",e).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,t,e])})},i.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,t,e])},i.src=e})}var e,i,r=this;!0===r.options.centerMode?!0===r.options.infinite?i=(e=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(e=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),i=r.options.slidesToShow/2+1+2+r.currentSlide):(e=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,i=Math.ceil(e+r.options.slidesToShow),!0===r.options.fade&&(0<e&&e--,i<=r.slideCount&&i++)),t(r.$slider.find(".slick-slide").slice(e,i)),r.slideCount<=r.options.slidesToShow?t(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?t(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&t(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},s.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},s.prototype.next=s.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},s.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},s.prototype.pause=s.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},s.prototype.play=s.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},s.prototype.postSlide=function(t){var e=this;e.unslicked||(e.$slider.trigger("afterChange",[e,t]),e.animating=!1,e.setPosition(),e.swipeLeft=null,e.options.autoplay&&e.autoPlay(),!0===e.options.accessibility&&e.initADA())},s.prototype.prev=s.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},s.prototype.preventDefault=function(t){t.preventDefault()},s.prototype.progressiveLazyLoad=function(t){t=t||1;var e,i,r,n=this,o=u("img[data-lazy]",n.$slider);o.length?(e=o.first(),i=e.attr("data-lazy"),(r=document.createElement("img")).onload=function(){e.attr("src",i).removeAttr("data-lazy").removeClass("slick-loading"),!0===n.options.adaptiveHeight&&n.setPosition(),n.$slider.trigger("lazyLoaded",[n,e,i]),n.progressiveLazyLoad()},r.onerror=function(){t<3?setTimeout(function(){n.progressiveLazyLoad(t+1)},500):(e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),n.$slider.trigger("lazyLoadError",[n,e,i]),n.progressiveLazyLoad())},r.src=i):n.$slider.trigger("allImagesLoaded",[n])},s.prototype.refresh=function(t){var e,i,r=this;i=r.slideCount-r.options.slidesToShow,!r.options.infinite&&r.currentSlide>i&&(r.currentSlide=i),r.slideCount<=r.options.slidesToShow&&(r.currentSlide=0),e=r.currentSlide,r.destroy(!0),u.extend(r,r.initials,{currentSlide:e}),r.init(),t||r.changeSlide({data:{message:"index",index:e}},!1)},s.prototype.registerBreakpoints=function(){var t,e,i,r=this,n=r.options.responsive||null;if("array"===u.type(n)&&n.length){for(t in r.respondTo=r.options.respondTo||"window",n)if(i=r.breakpoints.length-1,e=n[t].breakpoint,n.hasOwnProperty(t)){for(;0<=i;)r.breakpoints[i]&&r.breakpoints[i]===e&&r.breakpoints.splice(i,1),i--;r.breakpoints.push(e),r.breakpointSettings[e]=n[t].settings}r.breakpoints.sort(function(t,e){return r.options.mobileFirst?t-e:e-t})}},s.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),!0===t.options.focusOnSelect&&u(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},s.prototype.resize=function(){var t=this;u(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=u(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},s.prototype.removeSlide=s.prototype.slickRemove=function(t,e,i){var r=this;if(t="boolean"==typeof t?!0===(e=t)?0:r.slideCount-1:!0===e?--t:t,r.slideCount<1||t<0||t>r.slideCount-1)return!1;r.unload(),!0===i?r.$slideTrack.children().remove():r.$slideTrack.children(this.options.slide).eq(t).remove(),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slidesCache=r.$slides,r.reinit()},s.prototype.setCSS=function(t){var e,i,r=this,n={};!0===r.options.rtl&&(t=-t),e="left"==r.positionProp?Math.ceil(t)+"px":"0px",i="top"==r.positionProp?Math.ceil(t)+"px":"0px",n[r.positionProp]=t,!1===r.transformsEnabled||(!(n={})===r.cssTransitions?n[r.animType]="translate("+e+", "+i+")":n[r.animType]="translate3d("+e+", "+i+", 0px)"),r.$slideTrack.css(n)},s.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},s.prototype.setFade=function(){var i,r=this;r.$slides.each(function(t,e){i=r.slideWidth*t*-1,!0===r.options.rtl?u(e).css({position:"relative",right:i,top:0,zIndex:r.options.zIndex-2,opacity:0}):u(e).css({position:"relative",left:i,top:0,zIndex:r.options.zIndex-2,opacity:0})}),r.$slides.eq(r.currentSlide).css({zIndex:r.options.zIndex-1,opacity:1})},s.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},s.prototype.setOption=s.prototype.slickSetOption=function(){var t,e,i,r,n,o=this,s=!1;if("object"===u.type(arguments[0])?(i=arguments[0],s=arguments[1],n="multiple"):"string"===u.type(arguments[0])&&(i=arguments[0],r=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===u.type(arguments[1])?n="responsive":void 0!==arguments[1]&&(n="single")),"single"===n)o.options[i]=r;else if("multiple"===n)u.each(i,function(t,e){o.options[t]=e});else if("responsive"===n)for(e in r)if("array"!==u.type(o.options.responsive))o.options.responsive=[r[e]];else{for(t=o.options.responsive.length-1;0<=t;)o.options.responsive[t].breakpoint===r[e].breakpoint&&o.options.responsive.splice(t,1),t--;o.options.responsive.push(r[e])}s&&(o.unload(),o.reinit())},s.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},s.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},s.prototype.setSlideClasses=function(t){var e,i,r,n,o=this;i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(t).addClass("slick-current"),!0===o.options.centerMode?(e=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(e<=t&&t<=o.slideCount-1-e?o.$slides.slice(t-e,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(r=o.options.slidesToShow+t,i.slice(r-e+1,r+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):t===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(t).addClass("slick-center")):0<=t&&t<=o.slideCount-o.options.slidesToShow?o.$slides.slice(t,t+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(n=o.slideCount%o.options.slidesToShow,r=!0===o.options.infinite?o.options.slidesToShow+t:t,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-t<o.options.slidesToShow?i.slice(r-(o.options.slidesToShow-n),r+n).addClass("slick-active").attr("aria-hidden","false"):i.slice(r,r+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},s.prototype.setupInfinite=function(){var t,e,i,r=this;if(!0===r.options.fade&&(r.options.centerMode=!1),!0===r.options.infinite&&!1===r.options.fade&&(e=null,r.slideCount>r.options.slidesToShow)){for(i=!0===r.options.centerMode?r.options.slidesToShow+1:r.options.slidesToShow,t=r.slideCount;t>r.slideCount-i;t-=1)e=t-1,u(r.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e-r.slideCount).prependTo(r.$slideTrack).addClass("slick-cloned");for(t=0;t<i;t+=1)e=t,u(r.$slides[e]).clone(!0).attr("id","").attr("data-slick-index",e+r.slideCount).appendTo(r.$slideTrack).addClass("slick-cloned");r.$slideTrack.find(".slick-cloned").find("[id]").each(function(){u(this).attr("id","")})}},s.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},s.prototype.selectHandler=function(t){var e=this,i=u(t.target).is(".slick-slide")?u(t.target):u(t.target).parents(".slick-slide"),r=parseInt(i.attr("data-slick-index"));if(r||(r=0),e.slideCount<=e.options.slidesToShow)return e.setSlideClasses(r),void e.asNavFor(r);e.slideHandler(r)},s.prototype.slideHandler=function(t,e,i){var r,n,o,s,a,l,u=this;if(e=e||!1,(!0!==u.animating||!0!==u.options.waitForAnimate)&&!(!0===u.options.fade&&u.currentSlide===t||u.slideCount<=u.options.slidesToShow))if(!1===e&&u.asNavFor(t),r=t,a=u.getLeft(r),s=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?s:u.swipeLeft,!1===u.options.infinite&&!1===u.options.centerMode&&(t<0||t>u.getDotCount()*u.options.slidesToScroll))!1===u.options.fade&&(r=u.currentSlide,!0!==i?u.animateSlide(s,function(){u.postSlide(r)}):u.postSlide(r));else if(!1===u.options.infinite&&!0===u.options.centerMode&&(t<0||t>u.slideCount-u.options.slidesToScroll))!1===u.options.fade&&(r=u.currentSlide,!0!==i?u.animateSlide(s,function(){u.postSlide(r)}):u.postSlide(r));else{if(u.options.autoplay&&clearInterval(u.autoPlayTimer),n=r<0?u.slideCount%u.options.slidesToScroll!=0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+r:r>=u.slideCount?u.slideCount%u.options.slidesToScroll!=0?0:r-u.slideCount:r,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,n]),o=u.currentSlide,u.currentSlide=n,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(l=(l=u.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(u.currentSlide),u.updateDots(),u.updateArrows(),!0===u.options.fade)return!0!==i?(u.fadeSlideOut(o),u.fadeSlide(n,function(){u.postSlide(n)})):u.postSlide(n),void u.animateHeight();!0!==i?u.animateSlide(a,function(){u.postSlide(n)}):u.postSlide(n)}},s.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},s.prototype.swipeDirection=function(){var t,e,i,r,n=this;return t=n.touchObject.startX-n.touchObject.curX,e=n.touchObject.startY-n.touchObject.curY,i=Math.atan2(e,t),(r=Math.round(180*i/Math.PI))<0&&(r=360-Math.abs(r)),r<=45&&0<=r?!1===n.options.rtl?"left":"right":r<=360&&315<=r?!1===n.options.rtl?"left":"right":135<=r&&r<=225?!1===n.options.rtl?"right":"left":!0===n.options.verticalSwiping?35<=r&&r<=135?"down":"up":"vertical"},s.prototype.swipeEnd=function(t){var e,i,r=this;if(r.dragging=!1,r.interrupted=!1,r.shouldClick=!(10<r.touchObject.swipeLength),void 0===r.touchObject.curX)return!1;if(!0===r.touchObject.edgeHit&&r.$slider.trigger("edge",[r,r.swipeDirection()]),r.touchObject.swipeLength>=r.touchObject.minSwipe){switch(i=r.swipeDirection()){case"left":case"down":e=r.options.swipeToSlide?r.checkNavigable(r.currentSlide+r.getSlideCount()):r.currentSlide+r.getSlideCount(),r.currentDirection=0;break;case"right":case"up":e=r.options.swipeToSlide?r.checkNavigable(r.currentSlide-r.getSlideCount()):r.currentSlide-r.getSlideCount(),r.currentDirection=1}"vertical"!=i&&(r.slideHandler(e),r.touchObject={},r.$slider.trigger("swipe",[r,i]))}else r.touchObject.startX!==r.touchObject.curX&&(r.slideHandler(r.currentSlide),r.touchObject={})},s.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},s.prototype.swipeMove=function(t){var e,i,r,n,o,s=this;return o=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!s.dragging||o&&1!==o.length)&&(e=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==o?o[0].pageX:t.clientX,s.touchObject.curY=void 0!==o?o[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2)))),"vertical"!==(i=s.swipeDirection())?(void 0!==t.originalEvent&&4<s.touchObject.swipeLength&&t.preventDefault(),n=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(n=s.touchObject.curY>s.touchObject.startY?1:-1),r=s.touchObject.swipeLength,(s.touchObject.edgeHit=!1)===s.options.infinite&&(0===s.currentSlide&&"right"===i||s.currentSlide>=s.getDotCount()&&"left"===i)&&(r=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=e+r*n:s.swipeLeft=e+r*(s.$list.height()/s.listWidth)*n,!0===s.options.verticalSwiping&&(s.swipeLeft=e+r*n),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))):void 0)},s.prototype.swipeStart=function(t){var e,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0},s.prototype.unfilterSlides=s.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},s.prototype.unload=function(){var t=this;u(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},s.prototype.unslick=function(t){this.$slider.trigger("unslick",[this,t]),this.destroy()},s.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},s.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},s.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},u.fn.slick=function(){var t,e,i=this,r=arguments[0],n=Array.prototype.slice.call(arguments,1),o=i.length;for(t=0;t<o;t++)if("object"==typeof r||void 0===r?i[t].slick=new s(i[t],r):e=i[t].slick[r].apply(i[t].slick,n),void 0!==e)return e;return i}}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.Blazy=e()}(this,function(){function r(t){var e=t._util;e.elements=function(t){for(var e=[],i=(t=t.root.querySelectorAll(t.selector)).length;i--;e.unshift(t[i]));return e}(t.options),e.count=e.elements.length,e.destroyed&&(e.destroyed=!1,t.options.container&&v(t.options.container,function(t){p(t,"scroll",e.validateT)}),p(window,"resize",e.saveViewportOffsetT),p(window,"resize",e.validateT),p(window,"scroll",e.validateT)),n(t)}function n(t){for(var e=t._util,i=0;i<e.count;i++){var r,n=e.elements[i],o=n;r=t.options;var s=o.getBoundingClientRect();r.container&&x&&(o=o.closest(r.containerClass))?r=!!a(o=o.getBoundingClientRect(),y)&&a(s,{top:o.top-r.offset,right:o.right+r.offset,bottom:o.bottom+r.offset,left:o.left-r.offset}):r=a(s,y),(r||d(n,t.options.successClass))&&(t.load(n),e.elements.splice(i,1),e.count--,i--)}0===e.count&&t.destroy()}function a(t,e){return t.right>=e.left&&t.bottom>=e.top&&t.left<=e.right&&t.top<=e.bottom}function s(t,e,r){if(!d(t,r.successClass)&&(e||r.loadInvisible||0<t.offsetWidth&&0<t.offsetHeight))if(e=t.getAttribute(g)||t.getAttribute(r.src)){var i=(e=e.split(r.separator))[b&&1<e.length?1:0],n=t.getAttribute(r.srcset),o="img"===t.nodeName.toLowerCase(),s=(e=t.parentNode)&&"picture"===e.nodeName.toLowerCase();if(o||void 0===t.src){var a=new Image,l=function(){r.error&&r.error(t,"invalid"),f(t,r.errorClass),m(a,"error",l),m(a,"load",u)},u=function(){o?s||h(t,i,n):t.style.backgroundImage='url("'+i+'")',c(t,r),m(a,"load",u),m(a,"error",l)};s&&(a=t,v(e.getElementsByTagName("source"),function(t){var e=r.srcset,i=t.getAttribute(e);i&&(t.setAttribute("srcset",i),t.removeAttribute(e))})),p(a,"error",l),p(a,"load",u),h(a,i,n)}else t.src=i,c(t,r)}else"video"===t.nodeName.toLowerCase()?(v(t.getElementsByTagName("source"),function(t){var e=r.src,i=t.getAttribute(e);i&&(t.setAttribute("src",i),t.removeAttribute(e))}),t.load(),c(t,r)):(r.error&&r.error(t,"missing"),f(t,r.errorClass))}function c(e,t){f(e,t.successClass),t.success&&t.success(e),e.removeAttribute(t.src),e.removeAttribute(t.srcset),v(t.breakpoints,function(t){e.removeAttribute(t.src)})}function h(t,e,i){i&&t.setAttribute("srcset",i),t.src=e}function d(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function f(t,e){d(t,e)||(t.className+=" "+e)}function l(t){y.bottom=(window.innerHeight||document.documentElement.clientHeight)+t,y.right=(window.innerWidth||document.documentElement.clientWidth)+t}function p(t,e,i){t.attachEvent?t.attachEvent&&t.attachEvent("on"+e,i):t.addEventListener(e,i,{capture:!1,passive:!0})}function m(t,e,i){t.detachEvent?t.detachEvent&&t.detachEvent("on"+e,i):t.removeEventListener(e,i,{capture:!1,passive:!0})}function v(t,e){if(t&&e)for(var i=t.length,r=0;r<i&&!1!==e(t[r],r);r++);}function u(e,i,r){var n=0;return function(){var t=+new Date;t-n<i||(n=t,e.apply(r,arguments))}}var g,y,b,x;return function(t){if(!document.querySelectorAll){var o=document.createStyleSheet();document.querySelectorAll=function(t,e,i,r,n){for(n=document.all,e=[],i=(t=t.replace(/\[for\b/gi,"[htmlFor").split(",")).length;i--;){for(o.addRule(t[i],"k:v"),r=n.length;r--;)n[r].currentStyle.k&&e.push(n[r]);o.removeRule(0)}return e}}var e=this,i=e._util={};i.elements=[],i.destroyed=!0,e.options=t||{},e.options.error=e.options.error||!1,e.options.offset=e.options.offset||100,e.options.root=e.options.root||document,e.options.success=e.options.success||!1,e.options.selector=e.options.selector||".b-lazy",e.options.separator=e.options.separator||"|",e.options.containerClass=e.options.container,e.options.container=!!e.options.containerClass&&document.querySelectorAll(e.options.containerClass),e.options.errorClass=e.options.errorClass||"b-error",e.options.breakpoints=e.options.breakpoints||!1,e.options.loadInvisible=e.options.loadInvisible||!1,e.options.successClass=e.options.successClass||"b-loaded",e.options.validateDelay=e.options.validateDelay||25,e.options.saveViewportOffsetDelay=e.options.saveViewportOffsetDelay||50,e.options.srcset=e.options.srcset||"data-srcset",e.options.src=g=e.options.src||"data-src",x=Element.prototype.closest,b=1<window.devicePixelRatio,(y={}).top=0-e.options.offset,y.left=0-e.options.offset,e.revalidate=function(){r(e)},e.load=function(t,e){var i=this.options;void 0===t.length?s(t,e,i):v(t,function(t){s(t,e,i)})},e.destroy=function(){var e=this._util;this.options.container&&v(this.options.container,function(t){m(t,"scroll",e.validateT)}),m(window,"scroll",e.validateT),m(window,"resize",e.validateT),m(window,"resize",e.saveViewportOffsetT),e.count=0,e.elements.length=0,e.destroyed=!0},i.validateT=u(function(){n(e)},e.options.validateDelay,e),i.saveViewportOffsetT=u(function(){l(e.options.offset)},e.options.saveViewportOffsetDelay,e),l(e.options.offset),v(e.options.breakpoints,function(t){if(t.width>=window.screen.width)return g=t.src,!1}),setTimeout(function(){r(e)})}}),function(){"use strict";function e(t){if(!t)throw new Error("No options passed to Waypoint constructor");if(!t.element)throw new Error("No element option passed to Waypoint constructor");if(!t.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+i,this.options=e.Adapter.extend({},e.defaults,t),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=t.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),o[this.key]=this,i+=1}var i=0,o={};e.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},e.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete o[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(t){var e=[];for(var i in o)e.push(o[i]);for(var r=0,n=e.length;r<n;r++)e[r][t]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(t){window.setTimeout(t,1e3/60)}function i(t){this.element=t,this.Adapter=o.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+r,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,n[t.waypointContextKey]=this,r+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var r=0,n={},o=window.Waypoint,t=window.onload;i.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},i.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical);t&&e&&(this.adapter.off(".waypoints"),delete n[this.key])},i.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,o.requestAnimationFrame(t))})},i.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||o.isTouch)&&(e.didScroll=!0,o.requestAnimationFrame(t))})},i.prototype.handleResize=function(){o.Context.refreshAll()},i.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var r=e[i],n=r.newScroll>r.oldScroll?r.forward:r.backward;for(var o in this.waypoints[i]){var s=this.waypoints[i][o],a=r.oldScroll<s.triggerPoint,l=r.newScroll>=s.triggerPoint;(a&&l||!a&&!l)&&(s.queueTrigger(n),t[s.group.id]=s.group)}}for(var u in t)t[u].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},i.prototype.innerHeight=function(){return this.element==this.element.window?o.viewportHeight():this.adapter.innerHeight()},i.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},i.prototype.innerWidth=function(){return this.element==this.element.window?o.viewportWidth():this.adapter.innerWidth()},i.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var r=0,n=t.length;r<n;r++)t[r].destroy()},i.prototype.refresh=function(){var t,e=this.element==this.element.window,i=this.adapter.offset(),r={};for(var n in this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o=t[n];for(var s in this.waypoints[n]){var a,l,u,c,h=this.waypoints[n][s],d=h.options.offset,f=h.triggerPoint,p=0,m=null==f;h.element!==h.element.window&&(p=h.adapter.offset()[o.offsetProp]),"function"==typeof d?d=d.apply(h):"string"==typeof d&&(d=parseFloat(d),-1<h.options.offset.indexOf("%")&&(d=Math.ceil(o.contextDimension*d/100))),a=o.contextScroll-o.contextOffset,h.triggerPoint=p+a-d,l=f<o.oldScroll,u=h.triggerPoint>=o.oldScroll,c=!l&&!u,!m&&(l&&u)?(h.queueTrigger(o.backward),r[h.group.id]=h.group):!m&&c?(h.queueTrigger(o.forward),r[h.group.id]=h.group):m&&o.oldScroll>=h.triggerPoint&&(h.queueTrigger(o.forward),r[h.group.id]=h.group)}}for(var v in r)r[v].flushTriggers();return this},i.findOrCreateByElement=function(t){return i.findByElement(t)||new i(t)},i.refreshAll=function(){for(var t in n)n[t].refresh()},i.findByElement=function(t){return n[t.waypointContextKey]},window.onload=function(){t&&t(),i.refreshAll()},o.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},o.Context=i}(),function(){"use strict";function s(t,e){return t.triggerPoint-e.triggerPoint}function a(t,e){return e.triggerPoint-t.triggerPoint}function e(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),i[this.axis][this.name]=this}var i={vertical:{},horizontal:{}},r=window.Waypoint;e.prototype.add=function(t){this.waypoints.push(t)},e.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},e.prototype.flushTriggers=function(){for(var t in this.triggerQueues){var e=this.triggerQueues[t],i="up"===t||"left"===t;e.sort(i?a:s);for(var r=0,n=e.length;r<n;r+=1){var o=e[r];(o.options.continuous||r===e.length-1)&&o.trigger([t])}}this.clearTriggerQueues()},e.prototype.next=function(t){this.waypoints.sort(s);var e=r.Adapter.inArray(t,this.waypoints);return e===this.waypoints.length-1?null:this.waypoints[e+1]},e.prototype.previous=function(t){this.waypoints.sort(s);var e=r.Adapter.inArray(t,this.waypoints);return e?this.waypoints[e-1]:null},e.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},e.prototype.remove=function(t){var e=r.Adapter.inArray(t,this.waypoints);-1<e&&this.waypoints.splice(e,1)},e.prototype.first=function(){return this.waypoints[0]},e.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},e.findOrCreate=function(t){return i[t.axis][t.name]||new e(t)},r.Group=e}(),function(){"use strict";function i(t){this.$element=r(t)}var r=window.jQuery,t=window.Waypoint;r.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,e){i.prototype[e]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[e].apply(this.$element,t)}}),r.each(["extend","inArray","isEmptyObject"],function(t,e){i[e]=r[e]}),t.adapters.push({name:"jquery",Adapter:i}),t.Adapter=i}(),function(){"use strict";function t(r){return function(){var e=[],i=arguments[0];return r.isFunction(arguments[0])&&((i=r.extend({},arguments[1])).handler=arguments[0]),this.each(function(){var t=r.extend({},i,{element:this});"string"==typeof t.context&&(t.context=r(this).closest(t.context)[0]),e.push(new n(t))}),e}}var n=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(d){function e(t){var e=t||window.event,i=g.call(arguments,1),r=0,n=0,o=0,s=0,a=0,l=0;if((t=d.event.fix(e)).type="mousewheel","detail"in e&&(o=-1*e.detail),"wheelDelta"in e&&(o=e.wheelDelta),"wheelDeltaY"in e&&(o=e.wheelDeltaY),"wheelDeltaX"in e&&(n=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(n=-1*o,o=0),r=0===o?n:o,"deltaY"in e&&(r=o=-1*e.deltaY),"deltaX"in e&&(n=e.deltaX,0===o&&(r=-1*n)),0!==o||0!==n){if(1===e.deltaMode){var u=d.data(this,"mousewheel-line-height");r*=u,o*=u,n*=u}else if(2===e.deltaMode){var c=d.data(this,"mousewheel-page-height");r*=c,o*=c,n*=c}if(s=Math.max(Math.abs(o),Math.abs(n)),(!v||s<v)&&(p(e,v=s)&&(v/=40)),p(e,s)&&(r/=40,n/=40,o/=40),r=Math[1<=r?"floor":"ceil"](r/v),n=Math[1<=n?"floor":"ceil"](n/v),o=Math[1<=o?"floor":"ceil"](o/v),y.settings.normalizeOffset&&this.getBoundingClientRect){var h=this.getBoundingClientRect();a=t.clientX-h.left,l=t.clientY-h.top}return t.deltaX=n,t.deltaY=o,t.deltaFactor=v,t.offsetX=a,t.offsetY=l,t.deltaMode=0,i.unshift(t,r,n,o),m&&clearTimeout(m),m=setTimeout(f,200),(d.event.dispatch||d.event.handle).apply(this,i)}}function f(){v=null}function p(t,e){return y.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var m,v,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g=Array.prototype.slice;if(d.event.fixHooks)for(var r=t.length;r;)d.event.fixHooks[t[--r]]=d.event.mouseHooks;var y=d.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e;d.data(this,"mousewheel-line-height",y.getLineHeight(this)),d.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null;d.removeData(this,"mousewheel-line-height"),d.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=d(t),i=e["offsetParent"in d.fn?"offsetParent":"parent"]();return i.length||(i=d("body")),parseInt(i.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return d(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};d.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(d){function e(t){var e=t||window.event,i=g.call(arguments,1),r=0,n=0,o=0,s=0,a=0,l=0;if((t=d.event.fix(e)).type="mousewheel","detail"in e&&(o=-1*e.detail),"wheelDelta"in e&&(o=e.wheelDelta),"wheelDeltaY"in e&&(o=e.wheelDeltaY),"wheelDeltaX"in e&&(n=-1*e.wheelDeltaX),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(n=-1*o,o=0),r=0===o?n:o,"deltaY"in e&&(r=o=-1*e.deltaY),"deltaX"in e&&(n=e.deltaX,0===o&&(r=-1*n)),0!==o||0!==n){if(1===e.deltaMode){var u=d.data(this,"mousewheel-line-height");r*=u,o*=u,n*=u}else if(2===e.deltaMode){var c=d.data(this,"mousewheel-page-height");r*=c,o*=c,n*=c}if(s=Math.max(Math.abs(o),Math.abs(n)),(!v||s<v)&&(p(e,v=s)&&(v/=40)),p(e,s)&&(r/=40,n/=40,o/=40),r=Math[1<=r?"floor":"ceil"](r/v),n=Math[1<=n?"floor":"ceil"](n/v),o=Math[1<=o?"floor":"ceil"](o/v),y.settings.normalizeOffset&&this.getBoundingClientRect){var h=this.getBoundingClientRect();a=t.clientX-h.left,l=t.clientY-h.top}return t.deltaX=n,t.deltaY=o,t.deltaFactor=v,t.offsetX=a,t.offsetY=l,t.deltaMode=0,i.unshift(t,r,n,o),m&&clearTimeout(m),m=setTimeout(f,200),(d.event.dispatch||d.event.handle).apply(this,i)}}function f(){v=null}function p(t,e){return y.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var m,v,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],g=Array.prototype.slice;if(d.event.fixHooks)for(var r=t.length;r;)d.event.fixHooks[t[--r]]=d.event.mouseHooks;var y=d.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=i.length;t;)this.addEventListener(i[--t],e,!1);else this.onmousewheel=e;d.data(this,"mousewheel-line-height",y.getLineHeight(this)),d.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=i.length;t;)this.removeEventListener(i[--t],e,!1);else this.onmousewheel=null;d.removeData(this,"mousewheel-line-height"),d.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=d(t),i=e["offsetParent"in d.fn?"offsetParent":"parent"]();return i.length||(i=d("body")),parseInt(i.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return d(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};d.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(B){var j,f,F,r,n,a,o,v,$,_,p,u,l,c,h,d,m,g,y,b,x,w,O,T,S,E,C,M,U,s,A,P,k,z,D,R,I,L,N,W,H,X,G,Y,q,V,K,Q,Z,J,tt,et,it,rt,nt,t,e,i;t="function"==typeof define&&define.amd,e="undefined"!=typeof module&&module.exports,i="https:"==document.location.protocol?"https:":"http:",t||(e?require("jquery-mousewheel")(B):B.event.special.mousewheel||B("head").append(decodeURI("%3Cscript src="+i+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),f="mCustomScrollbar",F="mCS",r=".mCustomScrollbar",n={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},a=0,o={},v=window.attachEvent&&!window.addEventListener?1:0,$=!1,_=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],p={init:function(s){var s=B.extend(!0,{},n,s),t=u.call(this);if(s.live){var e=s.liveSelector||this.selector||r,i=B(e);if("off"===s.live)return void c(e);o[e]=setTimeout(function(){i.mCustomScrollbar(s),"once"===s.live&&i.length&&c(e)},500)}else c(e);return s.setWidth=s.set_width?s.set_width:s.setWidth,s.setHeight=s.set_height?s.set_height:s.setHeight,s.axis=s.horizontalScroll?"x":h(s.axis),s.scrollInertia=0<s.scrollInertia&&s.scrollInertia<17?17:s.scrollInertia,"object"!=typeof s.mouseWheel&&1==s.mouseWheel&&(s.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),s.mouseWheel.scrollAmount=s.mouseWheelPixels?s.mouseWheelPixels:s.mouseWheel.scrollAmount,s.mouseWheel.normalizeDelta=s.advanced.normalizeMouseWheelDelta?s.advanced.normalizeMouseWheelDelta:s.mouseWheel.normalizeDelta,s.scrollButtons.scrollType=d(s.scrollButtons.scrollType),l(s),B(t).each(function(){var t=B(this);if(!t.data(F)){t.data(F,{idx:++a,opt:s,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:t.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var e=t.data(F),i=e.opt,r=t.data("mcs-axis"),n=t.data("mcs-scrollbar-position"),o=t.data("mcs-theme");r&&(i.axis=r),n&&(i.scrollbarPosition=n),o&&(i.theme=o,l(i)),m.call(this),e&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),B("#mCSB_"+e.idx+"_container img:not(."+_[2]+")").addClass(_[2]),p.update.call(null,t)}})},update:function(t,a){var e=t||u.call(this);return B(e).each(function(){var t=B(this);if(t.data(F)){var e=t.data(F),i=e.opt,r=B("#mCSB_"+e.idx+"_container"),n=B("#mCSB_"+e.idx),o=[B("#mCSB_"+e.idx+"_dragger_vertical"),B("#mCSB_"+e.idx+"_dragger_horizontal")];if(!r.length)return;e.tweenRunning&&q(t),a&&e&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(_[3])&&t.removeClass(_[3]),t.hasClass(_[4])&&t.removeClass(_[4]),n.css("max-height","none"),n.height()!==t.height()&&n.css("max-height",t.height()),y.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",g(r)),e.overflowed=T.call(this),M.call(this),i.autoDraggerLength&&x.call(this),w.call(this),E.call(this);var s=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(e.overflowed[0]?o[0].height()>o[0].parent().height()?S.call(this):(V(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(S.call(this),"y"===i.axis?C.call(this):"yx"===i.axis&&e.overflowed[1]&&V(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(e.overflowed[1]?o[1].width()>o[1].parent().width()?S.call(this):(V(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(S.call(this),"x"===i.axis?C.call(this):"yx"===i.axis&&e.overflowed[0]&&V(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),a&&e&&(2===a&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===a&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),Y.call(this)}})},scrollTo:function(a,l){if(void 0!==a&&null!=a){var t=u.call(this);return B(t).each(function(){var t=B(this);if(t.data(F)){var e=t.data(F),i=e.opt,r={trigger:"external",scrollInertia:i.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=B.extend(!0,{},r,l),o=X.call(this,a),s=0<n.scrollInertia&&n.scrollInertia<17?17:n.scrollInertia;o[0]=G.call(this,o[0],"y"),o[1]=G.call(this,o[1],"x"),n.moveDragger&&(o[0]*=e.scrollRatio.y,o[1]*=e.scrollRatio.x),n.dur=nt()?0:s,setTimeout(function(){null!==o[0]&&void 0!==o[0]&&"x"!==i.axis&&e.overflowed[0]&&(n.dir="y",n.overwrite="all",V(t,o[0].toString(),n)),null!==o[1]&&void 0!==o[1]&&"y"!==i.axis&&e.overflowed[1]&&(n.dir="x",n.overwrite="none",V(t,o[1].toString(),n))},n.timeout)}})}},stop:function(){var t=u.call(this);return B(t).each(function(){var t=B(this);t.data(F)&&q(t)})},disable:function(e){var t=u.call(this);return B(t).each(function(){var t=B(this);t.data(F)&&(t.data(F),Y.call(this,"remove"),C.call(this),e&&S.call(this),M.call(this,!0),t.addClass(_[3]))})},destroy:function(){var s=u.call(this);return B(s).each(function(){var t=B(this);if(t.data(F)){var e=t.data(F),i=e.opt,r=B("#mCSB_"+e.idx),n=B("#mCSB_"+e.idx+"_container"),o=B(".mCSB_"+e.idx+"_scrollbar");i.live&&c(i.liveSelector||B(s).selector),Y.call(this,"remove"),C.call(this),S.call(this),t.removeData(F),J(this,"mcs"),o.remove(),n.find("img."+_[2]).removeClass(_[2]),r.replaceWith(n.contents()),t.removeClass(f+" _"+F+"_"+e.idx+" "+_[6]+" "+_[7]+" "+_[5]+" "+_[3]).addClass(_[4])}})}},u=function(){return"object"!=typeof B(this)||B(this).length<1?r:this},l=function(t){t.autoDraggerLength=!(-1<B.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&t.autoDraggerLength,t.autoExpandScrollbar=!(-1<B.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&t.autoExpandScrollbar,t.scrollButtons.enable=!(-1<B.inArray(t.theme,["minimal","minimal-dark"]))&&t.scrollButtons.enable,t.autoHideScrollbar=-1<B.inArray(t.theme,["minimal","minimal-dark"])||t.autoHideScrollbar,t.scrollbarPosition=-1<B.inArray(t.theme,["minimal","minimal-dark"])?"outside":t.scrollbarPosition},c=function(t){o[t]&&(clearTimeout(o[t]),J(o,t))},h=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},d=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},m=function(){var t=B(this),e=t.data(F),i=e.opt,r=i.autoExpandScrollbar?" "+_[1]+"_expand":"",n=["<div id='mCSB_"+e.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+_[12]+"'><div id='mCSB_"+e.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+e.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+_[12]+"'><div id='mCSB_"+e.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],o="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",s="yx"===i.axis?n[0]+n[1]:"x"===i.axis?n[1]:n[0],a="yx"===i.axis?"<div id='mCSB_"+e.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",l=i.autoHideScrollbar?" "+_[6]:"",u="x"!==i.axis&&"rtl"===e.langDir?" "+_[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===e.langDir?"989999px":i.setLeft,t.addClass(f+" _"+F+"_"+e.idx+l+u).wrapInner("<div id='mCSB_"+e.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+o+"'><div id='mCSB_"+e.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+e.langDir+" /></div>");var c=B("#mCSB_"+e.idx),h=B("#mCSB_"+e.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||h.css("width",g(h)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),c.addClass("mCSB_outside").after(s)):(c.addClass("mCSB_inside").append(s),h.wrap(a)),b.call(this);var d=[B("#mCSB_"+e.idx+"_dragger_vertical"),B("#mCSB_"+e.idx+"_dragger_horizontal")];d[0].css("min-height",d[0].height()),d[1].css("min-width",d[1].width())},g=function(t){var e=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return B(this).outerWidth(!0)}).get())],i=t.parent().width();return e[0]>i?e[0]:e[1]>i?e[1]:"100%"},y=function(){var t=B(this),e=t.data(F),i=e.opt,r=B("#mCSB_"+e.idx+"_container");if(i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis){r.css({width:"auto","min-width":0,"overflow-x":"scroll"});var n=Math.ceil(r[0].scrollWidth);3===i.advanced.autoExpandHorizontalScroll||2!==i.advanced.autoExpandHorizontalScroll&&n>r.parent().width()?r.css({width:n,"min-width":"100%","overflow-x":"inherit"}):r.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(r[0].getBoundingClientRect().right+.4)-Math.floor(r[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},b=function(){var t=B(this),e=t.data(F),i=e.opt,r=B(".mCSB_"+e.idx+"_scrollbar:first"),n=it(i.scrollButtons.tabindex)?"tabindex='"+i.scrollButtons.tabindex+"'":"",o=["<a href='#' class='"+_[13]+"' oncontextmenu='return false;' "+n+" />","<a href='#' class='"+_[14]+"' oncontextmenu='return false;' "+n+" />","<a href='#' class='"+_[15]+"' oncontextmenu='return false;' "+n+" />","<a href='#' class='"+_[16]+"' oncontextmenu='return false;' "+n+" />"],s=["x"===i.axis?o[2]:o[0],"x"===i.axis?o[3]:o[1],o[2],o[3]];i.scrollButtons.enable&&r.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},x=function(){var t=B(this),e=t.data(F),i=B("#mCSB_"+e.idx),r=B("#mCSB_"+e.idx+"_container"),n=[B("#mCSB_"+e.idx+"_dragger_vertical"),B("#mCSB_"+e.idx+"_dragger_horizontal")],o=[i.height()/r.outerHeight(!1),i.width()/r.outerWidth(!1)],s=[parseInt(n[0].css("min-height")),Math.round(o[0]*n[0].parent().height()),parseInt(n[1].css("min-width")),Math.round(o[1]*n[1].parent().width())],a=v&&s[1]<s[0]?s[0]:s[1],l=v&&s[3]<s[2]?s[2]:s[3];n[0].css({height:a,"max-height":n[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":s[0]+"px"}),n[1].css({width:l,"max-width":n[1].parent().width()-10})},w=function(){var t=B(this),e=t.data(F),i=B("#mCSB_"+e.idx),r=B("#mCSB_"+e.idx+"_container"),n=[B("#mCSB_"+e.idx+"_dragger_vertical"),B("#mCSB_"+e.idx+"_dragger_horizontal")],o=[r.outerHeight(!1)-i.height(),r.outerWidth(!1)-i.width()],s=[o[0]/(n[0].parent().height()-n[0].height()),o[1]/(n[1].parent().width()-n[1].width())];e.scrollRatio={y:s[0],x:s[1]}},O=function(t,e,i){var r=i?_[0]+"_expanded":"",n=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(_[0]+" "+r),n.toggleClass(_[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(_[0]),n.removeClass(_[1])):(t.addClass(_[0]),n.addClass(_[1])))},T=function(){var t=B(this),e=t.data(F),i=B("#mCSB_"+e.idx),r=B("#mCSB_"+e.idx+"_container"),n=null==e.overflowed?r.height():r.outerHeight(!1),o=null==e.overflowed?r.width():r.outerWidth(!1),s=r[0].scrollHeight,a=r[0].scrollWidth;return n<s&&(n=s),o<a&&(o=a),[n>i.height(),o>i.width()]},S=function(){var t=B(this),e=t.data(F),i=e.opt,r=B("#mCSB_"+e.idx),n=B("#mCSB_"+e.idx+"_container"),o=[B("#mCSB_"+e.idx+"_dragger_vertical"),B("#mCSB_"+e.idx+"_dragger_horizontal")];if(q(t),("x"!==i.axis&&!e.overflowed[0]||"y"===i.axis&&e.overflowed[0])&&(o[0].add(n).css("top",0),V(t,"_resetY")),"y"!==i.axis&&!e.overflowed[1]||"x"===i.axis&&e.overflowed[1]){var s=dx=0;"rtl"===e.langDir&&(s=r.width()-n.outerWidth(!1),dx=Math.abs(s/e.scrollRatio.x)),n.css("left",s),o[1].css("left",dx),V(t,"_resetX")}},E=function(){var e,i=B(this),t=i.data(F),r=t.opt;t.bindEvents||(s.call(this),r.contentTouchScroll&&A.call(this),P.call(this),r.mouseWheel.enable&&function t(){e=setTimeout(function(){B.event.special.mousewheel?(clearTimeout(e),k.call(i[0])):t()},100)}(),R.call(this),L.call(this),r.advanced.autoScrollOnFocus&&I.call(this),r.scrollButtons.enable&&N.call(this),r.keyboard.enable&&W.call(this),t.bindEvents=!0)},C=function(){var t=B(this),e=t.data(F),i=e.opt,r="mCS_"+e.idx,n=".mCSB_"+e.idx+"_scrollbar",o=B("#mCSB_"+e.idx+",#mCSB_"+e.idx+"_container,#mCSB_"+e.idx+"_container_wrapper,"+n+" ."+_[12]+",#mCSB_"+e.idx+"_dragger_vertical,#mCSB_"+e.idx+"_dragger_horizontal,"+n+">a"),s=B("#mCSB_"+e.idx+"_container");i.advanced.releaseDraggableSelectors&&o.add(B(i.advanced.releaseDraggableSelectors)),i.advanced.extraDraggableSelectors&&o.add(B(i.advanced.extraDraggableSelectors)),e.bindEvents&&(B(document).add(B(!z()||top.document)).unbind("."+r),o.each(function(){B(this).unbind("."+r)}),clearTimeout(t[0]._focusTimeout),J(t[0],"_focusTimeout"),clearTimeout(e.sequential.step),J(e.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),J(s[0],"onCompleteTimeout"),e.bindEvents=!1)},M=function(t){var e=B(this),i=e.data(F),r=i.opt,n=B("#mCSB_"+i.idx+"_container_wrapper"),o=n.length?n:B("#mCSB_"+i.idx+"_container"),s=[B("#mCSB_"+i.idx+"_scrollbar_vertical"),B("#mCSB_"+i.idx+"_scrollbar_horizontal")],a=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==r.axis&&(i.overflowed[0]&&!t?(s[0].add(a[0]).add(s[0].children("a")).css("display","block"),o.removeClass(_[8]+" "+_[10])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&a[0].css("display","none"),o.removeClass(_[10])):(s[0].css("display","none"),o.addClass(_[10])),o.addClass(_[8]))),"y"!==r.axis&&(i.overflowed[1]&&!t?(s[1].add(a[1]).add(s[1].children("a")).css("display","block"),o.removeClass(_[9]+" "+_[11])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&a[1].css("display","none"),o.removeClass(_[11])):(s[1].css("display","none"),o.addClass(_[11])),o.addClass(_[9]))),i.overflowed[0]||i.overflowed[1]?e.removeClass(_[5]):e.addClass(_[5])},U=function(t){var e=t.type,i=t.target.ownerDocument!==document?[B(frameElement).offset().top,B(frameElement).offset().left]:null,r=z()&&t.target.ownerDocument!==top.document?[B(t.view.frameElement).offset().top,B(t.view.frameElement).offset().left]:[0,0];switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return i?[t.originalEvent.pageY-i[0]+r[0],t.originalEvent.pageX-i[1]+r[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],o=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[n.screenY,n.screenX,1<o]:[n.pageY,n.pageX,1<o];default:return i?[t.pageY-i[0]+r[0],t.pageX-i[1]+r[1],!1]:[t.pageY,t.pageX,!1]}},s=function(){function s(t){var e=p.find("iframe");if(e.length){var i=t?"auto":"none";e.css("pointer-events",i)}}function n(t,e,i,r){if(p[0].idleTimer=d.scrollInertia<233?250:0,a.attr("id")===f[1])var n="x",o=(a[0].offsetLeft-e+r)*h.scrollRatio.x;else var n="y",o=(a[0].offsetTop-t+i)*h.scrollRatio.y;V(c,o.toString(),{dir:n,drag:!0})}var a,l,u,c=B(this),h=c.data(F),d=h.opt,t="mCS_"+h.idx,f=["mCSB_"+h.idx+"_dragger_vertical","mCSB_"+h.idx+"_dragger_horizontal"],p=B("#mCSB_"+h.idx+"_container"),e=B("#"+f[0]+",#"+f[1]),i=d.advanced.releaseDraggableSelectors?e.add(B(d.advanced.releaseDraggableSelectors)):e,r=d.advanced.extraDraggableSelectors?B(!z()||top.document).add(B(d.advanced.extraDraggableSelectors)):B(!z()||top.document);e.bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),tt(t)){$=!0,v&&(document.onselectstart=function(){return!1}),s(!1),q(c);var e=(a=B(this)).offset(),i=U(t)[0]-e.top,r=U(t)[1]-e.left,n=a.height()+e.top,o=a.width()+e.left;i<n&&0<i&&r<o&&0<r&&(l=i,u=r),O(a,"active",d.autoExpandScrollbar)}}).bind("touchmove."+t,function(t){t.stopImmediatePropagation(),t.preventDefault();var e=a.offset(),i=U(t)[0]-e.top,r=U(t)[1]-e.left;n(l,u,i,r)}),B(document).add(r).bind("mousemove."+t+" pointermove."+t+" MSPointerMove."+t,function(t){if(a){var e=a.offset(),i=U(t)[0]-e.top,r=U(t)[1]-e.left;if(l===i&&u===r)return;n(l,u,i,r)}}).add(i).bind("mouseup."+t+" touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(t){a&&(O(a,"active",d.autoExpandScrollbar),a=null),$=!1,v&&(document.onselectstart=null),s(!0)})},A=function(){function e(t){if(!et(t)||$||U(t)[2])j=0;else{S=T=0,d=j=1,E.removeClass("mCS_touch_action");var e=A.offset();u=U(t)[0]-e.top,f=U(t)[1]-e.left,L=[U(t)[0],U(t)[1]]}}function i(t){if(et(t)&&!$&&!U(t)[2]&&(O.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!S||T)&&d)){g=Q();var e=M.offset(),i=U(t)[0]-e.top,r=U(t)[1]-e.left,n="mcsLinearOut";if(k.push(i),D.push(r),L[2]=Math.abs(U(t)[0]-L[0]),L[3]=Math.abs(U(t)[1]-L[1]),C.overflowed[0])var o=P[0].parent().height()-P[0].height(),s=0<u-i&&i-u>-o*C.scrollRatio.y&&(2*L[3]<L[2]||"yx"===O.axis);if(C.overflowed[1])var a=P[1].parent().width()-P[1].width(),l=0<f-r&&r-f>-a*C.scrollRatio.x&&(2*L[2]<L[3]||"yx"===O.axis);s||l?(N||t.preventDefault(),T=1):(S=1,E.addClass("mCS_touch_action")),N&&t.preventDefault(),_="yx"===O.axis?[u-i,f-r]:"x"===O.axis?[null,f-r]:[u-i,null],A[0].idleTimer=250,C.overflowed[0]&&h(_[0],R,n,"y","all",!0),C.overflowed[1]&&h(_[1],R,n,"x",I,!0)}}function r(t){if(!et(t)||$||U(t)[2])j=0;else{j=1,t.stopImmediatePropagation(),q(E),v=Q();var e=M.offset();p=U(t)[0]-e.top,m=U(t)[1]-e.left,k=[],D=[]}}function n(t){if(et(t)&&!$&&!U(t)[2]){d=0,t.stopImmediatePropagation(),S=T=0,y=Q();var e=M.offset(),i=U(t)[0]-e.top,r=U(t)[1]-e.left;if(!(30<y-g)){var n="mcsEaseOut",o=(x=1e3/(y-v))<2.5,s=o?[k[k.length-2],D[D.length-2]]:[0,0];b=o?[i-s[0],r-s[1]]:[i-p,r-m];var a=[Math.abs(b[0]),Math.abs(b[1])];x=o?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[x,x];var l=[Math.abs(A[0].offsetTop)-b[0]*c(a[0]/x[0],x[0]),Math.abs(A[0].offsetLeft)-b[1]*c(a[1]/x[1],x[1])];_="yx"===O.axis?[l[0],l[1]]:"x"===O.axis?[null,l[1]]:[l[0],null],w=[4*a[0]+O.scrollInertia,4*a[1]+O.scrollInertia];var u=parseInt(O.contentTouchScroll)||0;_[0]=a[0]>u?_[0]:0,_[1]=a[1]>u?_[1]:0,C.overflowed[0]&&h(_[0],w[0],n,"y",I,!1),C.overflowed[1]&&h(_[1],w[1],n,"x",I,!1)}}}function c(t,e){var i=[1.5*e,2*e,e/1.5,e/2];return 90<t?4<e?i[0]:i[3]:60<t?3<e?i[3]:i[2]:30<t?8<e?i[1]:6<e?i[0]:4<e?e:i[2]:8<e?e:i[3]}function h(t,e,i,r,n,o){t&&V(E,t.toString(),{dur:e,scrollEasing:i,dir:r,overwrite:n,drag:o})}var d,u,f,p,m,v,g,y,b,x,_,w,T,S,E=B(this),C=E.data(F),O=C.opt,t="mCS_"+C.idx,M=B("#mCSB_"+C.idx),A=B("#mCSB_"+C.idx+"_container"),P=[B("#mCSB_"+C.idx+"_dragger_vertical"),B("#mCSB_"+C.idx+"_dragger_horizontal")],k=[],D=[],R=0,I="yx"===O.axis?"none":"all",L=[],o=A.find("iframe"),s=["touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,"touchmove."+t+" pointermove."+t+" MSPointerMove."+t,"touchend."+t+" pointerup."+t+" MSPointerUp."+t],N=void 0!==document.body.style.touchAction;A.bind(s[0],function(t){e(t)}).bind(s[1],function(t){i(t)}),M.bind(s[0],function(t){r(t)}).bind(s[2],function(t){n(t)}),o.length&&o.each(function(){B(this).load(function(){z(this)&&B(this.contentDocument||this.contentWindow.document).bind(s[0],function(t){e(t),r(t)}).bind(s[1],function(t){i(t)}).bind(s[2],function(t){n(t)})})})},P=function(){function n(t,e,i){l.type=i&&o?"stepped":"stepless",l.scrollAmount=10,H(r,t,e,"mcsLinearOut",i?60:null)}var o,r=B(this),s=r.data(F),a=s.opt,l=s.sequential,t="mCS_"+s.idx,u=B("#mCSB_"+s.idx+"_container"),c=u.parent();u.bind("mousedown."+t,function(t){j||o||(o=1,$=!0)}).add(document).bind("mousemove."+t,function(t){if(!j&&o&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var e=u.offset(),i=U(t)[0]-e.top+u[0].offsetTop,r=U(t)[1]-e.left+u[0].offsetLeft;0<i&&i<c.height()&&0<r&&r<c.width()?l.step&&n("off",null,"stepped"):("x"!==a.axis&&s.overflowed[0]&&(i<0?n("on",38):i>c.height()&&n("on",40)),"y"!==a.axis&&s.overflowed[1]&&(r<0?n("on",37):r>c.width()&&n("on",39)))}}).bind("mouseup."+t+" dragend."+t,function(t){j||(o&&(o=0,n("off",null)),$=!1)})},k=function(){function i(t,e){if(q(h),!D(h,t.target)){var i="auto"!==f.mouseWheel.deltaFactor?parseInt(f.mouseWheel.deltaFactor):v&&t.deltaFactor<100?100:t.deltaFactor||100,r=f.scrollInertia;if("x"===f.axis||"x"===f.mouseWheel.axis)var n="x",o=[Math.round(i*d.scrollRatio.x),parseInt(f.mouseWheel.scrollAmount)],s="auto"!==f.mouseWheel.scrollAmount?o[1]:o[0]>=p.width()?.9*p.width():o[0],a=Math.abs(B("#mCSB_"+d.idx+"_container")[0].offsetLeft),l=m[1][0].offsetLeft,u=m[1].parent().width()-m[1].width(),c=t.deltaX||t.deltaY||e;else var n="y",o=[Math.round(i*d.scrollRatio.y),parseInt(f.mouseWheel.scrollAmount)],s="auto"!==f.mouseWheel.scrollAmount?o[1]:o[0]>=p.height()?.9*p.height():o[0],a=Math.abs(B("#mCSB_"+d.idx+"_container")[0].offsetTop),l=m[0][0].offsetTop,u=m[0].parent().height()-m[0].height(),c=t.deltaY||e;"y"===n&&!d.overflowed[0]||"x"===n&&!d.overflowed[1]||((f.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(c=-c),f.mouseWheel.normalizeDelta&&(c=c<0?-1:1),(0<c&&0!==l||c<0&&l!==u||f.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<2&&!f.mouseWheel.normalizeDelta&&(s=t.deltaFactor,r=17),V(h,(a-c*s).toString(),{dir:n,dur:r}))}}if(B(this).data(F)){var h=B(this),d=h.data(F),f=d.opt,t="mCS_"+d.idx,p=B("#mCSB_"+d.idx),m=[B("#mCSB_"+d.idx+"_dragger_vertical"),B("#mCSB_"+d.idx+"_dragger_horizontal")],e=B("#mCSB_"+d.idx+"_container").find("iframe");e.length&&e.each(function(){B(this).load(function(){z(this)&&B(this.contentDocument||this.contentWindow.document).bind("mousewheel."+t,function(t,e){i(t,e)})})}),p.bind("mousewheel."+t,function(t,e){i(t,e)})}},z=function(t){var e=null;if(t){try{var i=t.contentDocument||t.contentWindow.document;e=i.body.innerHTML}catch(t){}return null!==e}try{var i=top.document;e=i.body.innerHTML}catch(t){}return null!==e},D=function(t,e){var i=e.nodeName.toLowerCase(),r=t.data(F).opt.mouseWheel.disableOver;return-1<B.inArray(i,r)&&!(-1<B.inArray(i,["select","textarea"])&&!B(e).is(":focus"))},R=function(){var s,a=B(this),l=a.data(F),t="mCS_"+l.idx,u=B("#mCSB_"+l.idx+"_container"),c=u.parent(),e=B(".mCSB_"+l.idx+"_scrollbar ."+_[12]);e.bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){$=!0,B(t.target).hasClass("mCSB_dragger")||(s=1)}).bind("touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(t){$=!1}).bind("click."+t,function(t){if(s&&(s=0,B(t.target).hasClass(_[12])||B(t.target).hasClass("mCSB_draggerRail"))){q(a);var e=B(this),i=e.find(".mCSB_dragger");if(0<e.parent(".mCSB_scrollTools_horizontal").length){if(!l.overflowed[1])return;var r="x",n=t.pageX>i.offset().left?-1:1,o=Math.abs(u[0].offsetLeft)-.9*n*c.width()}else{if(!l.overflowed[0])return;var r="y",n=t.pageY>i.offset().top?-1:1,o=Math.abs(u[0].offsetTop)-.9*n*c.height()}V(a,o.toString(),{dir:r,scrollEasing:"mcsEaseInOut"})}})},I=function(){var o=B(this),t=o.data(F),s=t.opt,e="mCS_"+t.idx,a=B("#mCSB_"+t.idx+"_container"),l=a.parent();a.bind("focusin."+e,function(t){var n=B(document.activeElement),e=a.find(".mCustomScrollBox").length;n.is(s.advanced.autoScrollOnFocus)&&(q(o),clearTimeout(o[0]._focusTimeout),o[0]._focusTimer=e?17*e:0,o[0]._focusTimeout=setTimeout(function(){var t=[rt(n)[0],rt(n)[1]],e=[a[0].offsetTop,a[0].offsetLeft],i=[0<=e[0]+t[0]&&e[0]+t[0]<l.height()-n.outerHeight(!1),0<=e[1]+t[1]&&e[0]+t[1]<l.width()-n.outerWidth(!1)],r="yx"!==s.axis||i[0]||i[1]?"all":"none";"x"===s.axis||i[0]||V(o,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:r,dur:0}),"y"===s.axis||i[1]||V(o,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:r,dur:0})},o[0]._focusTimer))})},L=function(){var t=B(this),e=t.data(F),i="mCS_"+e.idx,r=B("#mCSB_"+e.idx+"_container").parent();r.bind("scroll."+i,function(t){(0!==r.scrollTop()||0!==r.scrollLeft())&&B(".mCSB_"+e.idx+"_scrollbar").css("visibility","hidden")})},N=function(){var r=B(this),n=r.data(F),o=n.opt,s=n.sequential,t="mCS_"+n.idx,e=".mCSB_"+n.idx+"_scrollbar",i=B(e+">a");i.bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t+" mouseup."+t+" touchend."+t+" pointerup."+t+" MSPointerUp."+t+" mouseout."+t+" pointerout."+t+" MSPointerOut."+t+" click."+t,function(t){function e(t,e){s.scrollAmount=o.scrollButtons.scrollAmount,H(r,t,e)}if(t.preventDefault(),tt(t)){var i=B(this).attr("class");switch(s.type=o.scrollButtons.scrollType,t.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===s.type)return;$=!0,n.tweenRunning=!1,e("on",i);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===s.type)return;$=!1,s.dir&&e("off",i);break;case"click":if("stepped"!==s.type||n.tweenRunning)return;e("on",i)}}})},W=function(){function e(t){function e(t,e){c.type=u.keyboard.scrollType,c.scrollAmount=u.keyboard.scrollAmount,"stepped"===c.type&&l.tweenRunning||H(a,t,e)}switch(t.type){case"blur":l.tweenRunning&&c.dir&&e("off",null);break;case"keydown":case"keyup":var i=t.keyCode?t.keyCode:t.which,r="on";if("x"!==u.axis&&(38===i||40===i)||"y"!==u.axis&&(37===i||39===i)){if((38===i||40===i)&&!l.overflowed[0]||(37===i||39===i)&&!l.overflowed[1])return;"keyup"===t.type&&(r="off"),B(document.activeElement).is(f)||(t.preventDefault(),t.stopImmediatePropagation(),e(r,i))}else if(33===i||34===i){if((l.overflowed[0]||l.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){q(a);var n=34===i?-1:1;if("x"===u.axis||"yx"===u.axis&&l.overflowed[1]&&!l.overflowed[0])var o="x",s=Math.abs(h[0].offsetLeft)-.9*n*d.width();else var o="y",s=Math.abs(h[0].offsetTop)-.9*n*d.height();V(a,s.toString(),{dir:o,scrollEasing:"mcsEaseInOut"})}}else if((35===i||36===i)&&!B(document.activeElement).is(f)&&((l.overflowed[0]||l.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===u.axis||"yx"===u.axis&&l.overflowed[1]&&!l.overflowed[0])var o="x",s=35===i?Math.abs(d.width()-h.outerWidth(!1)):0;else var o="y",s=35===i?Math.abs(d.height()-h.outerHeight(!1)):0;V(a,s.toString(),{dir:o,scrollEasing:"mcsEaseInOut"})}}}var a=B(this),l=a.data(F),u=l.opt,c=l.sequential,t="mCS_"+l.idx,i=B("#mCSB_"+l.idx),h=B("#mCSB_"+l.idx+"_container"),d=h.parent(),f="input,textarea,select,datalist,keygen,[contenteditable='true']",r=h.find("iframe"),n=["blur."+t+" keydown."+t+" keyup."+t];r.length&&r.each(function(){B(this).load(function(){z(this)&&B(this.contentDocument||this.contentWindow.document).bind(n[0],function(t){e(t)})})}),i.attr("tabindex","0").bind(n[0],function(t){e(t)})},H=function(h,t,e,d,f){function p(t){v.snapAmount&&(g.scrollAmount=v.snapAmount instanceof Array?"x"===g.dir[0]?v.snapAmount[1]:v.snapAmount[0]:v.snapAmount);var e="stepped"!==g.type,i=f||(t?e?b/1.5:x:1e3/60),r=t?e?7.5:40:2.5,n=[Math.abs(y[0].offsetTop),Math.abs(y[0].offsetLeft)],o=[10<m.scrollRatio.y?10:m.scrollRatio.y,10<m.scrollRatio.x?10:m.scrollRatio.x],s="x"===g.dir[0]?n[1]+g.dir[1]*o[1]*r:n[0]+g.dir[1]*o[0]*r,a="x"===g.dir[0]?n[1]+g.dir[1]*parseInt(g.scrollAmount):n[0]+g.dir[1]*parseInt(g.scrollAmount),l="auto"!==g.scrollAmount?a:s,u=d||(t?e?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),c=!!t;return t&&i<17&&(l="x"===g.dir[0]?n[1]:n[0]),V(h,l.toString(),{dir:g.dir[0],scrollEasing:u,dur:i,onComplete:c}),t?void(g.dir=!1):(clearTimeout(g.step),void(g.step=setTimeout(function(){p()},i)))}var m=h.data(F),v=m.opt,g=m.sequential,y=B("#mCSB_"+m.idx+"_container"),i="stepped"===g.type,b=v.scrollInertia<26?26:v.scrollInertia,x=v.scrollInertia<1?17:v.scrollInertia;switch(t){case"on":if(g.dir=[e===_[16]||e===_[15]||39===e||37===e?"x":"y",e===_[13]||e===_[15]||38===e||37===e?-1:1],q(h),it(e)&&"stepped"===g.type)return;p(i);break;case"off":clearTimeout(g.step),J(g,"step"),q(h),(i||m.tweenRunning&&g.dir)&&p(!0)}},X=function(t){var e=B(this).data(F).opt,i=[];return"function"==typeof t&&(t=t()),t instanceof Array?i=1<t.length?[t[0],t[1]]:"x"===e.axis?[null,t[0]]:[t[0],null]:(i[0]=t.y?t.y:t.x||"x"===e.axis?null:t,i[1]=t.x?t.x:t.y||"y"===e.axis?null:t),"function"==typeof i[0]&&(i[0]=i[0]()),"function"==typeof i[1]&&(i[1]=i[1]()),i},G=function(t,e){if(null!=t&&void 0!==t){var i=B(this),r=i.data(F),n=r.opt,o=B("#mCSB_"+r.idx+"_container"),s=o.parent(),a=typeof t;e||(e="x"===n.axis?"x":"y");var l="x"===e?o.outerWidth(!1):o.outerHeight(!1),u="x"===e?o[0].offsetLeft:o[0].offsetTop,c="x"===e?"left":"top";switch(a){case"function":return t();case"object":var h=t.jquery?t:B(t);if(!h.length)return;return"x"===e?rt(h)[1]:rt(h)[0];case"string":case"number":if(it(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(l*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(u-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var d=u+parseInt(t.split("+=")[1]);return 0<=d?0:Math.abs(d)}if(-1!==t.indexOf("px")&&it(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-o.outerHeight(!1));if("right"===t)return Math.abs(s.width()-o.outerWidth(!1));if("first"===t||"last"===t){var h=o.find(":"+t);return"x"===e?rt(h)[1]:rt(h)[0]}return B(t).length?"x"===e?rt(B(t))[1]:rt(B(t))[0]:(o.css(c,t),void p.update.call(null,i[0]))}}},Y=function(t){function n(t){clearTimeout(o[0].autoUpdate),p.update.call(null,e[0],t)}var e=B(this),i=e.data(F),r=i.opt,o=B("#mCSB_"+i.idx+"_container");return t?(clearTimeout(o[0].autoUpdate),void J(o[0],"autoUpdate")):void function t(){return clearTimeout(o[0].autoUpdate),0===e.parents("html").length?void(e=null):void(o[0].autoUpdate=setTimeout(function(){return r.advanced.updateOnSelectorChange&&(i.poll.change.n=function(){!0===r.advanced.updateOnSelectorChange&&(r.advanced.updateOnSelectorChange="*");var t=0,e=o.find(r.advanced.updateOnSelectorChange);return r.advanced.updateOnSelectorChange&&0<e.length&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}(),i.poll.change.n!==i.poll.change.o)?(i.poll.change.o=i.poll.change.n,void n(3)):r.advanced.updateOnContentResize&&(i.poll.size.n=e[0].scrollHeight+e[0].scrollWidth+o[0].offsetHeight+e[0].offsetHeight+e[0].offsetWidth,i.poll.size.n!==i.poll.size.o)?(i.poll.size.o=i.poll.size.n,void n(1)):!r.advanced.updateOnImageLoad||"auto"===r.advanced.updateOnImageLoad&&"y"===r.axis||(i.poll.img.n=o.find("img").length,i.poll.img.n===i.poll.img.o)?void((r.advanced.updateOnSelectorChange||r.advanced.updateOnContentResize||r.advanced.updateOnImageLoad)&&t()):(i.poll.img.o=i.poll.img.n,void o.find("img").each(function(){!function(t){if(B(t).hasClass(_[2]))return n();var e,i,r=new Image;r.onload=(e=r,i=function(){this.onload=null,B(t).addClass(_[2]),n(2)},function(){return i.apply(e,arguments)}),r.src=t.src}(this)}))},r.advanced.autoUpdateTimeout))}()},q=function(t){var e=t.data(F),i=B("#mCSB_"+e.idx+"_container,#mCSB_"+e.idx+"_container_wrapper,#mCSB_"+e.idx+"_dragger_vertical,#mCSB_"+e.idx+"_dragger_horizontal");i.each(function(){Z.call(this)})},V=function(n,t,o){function e(t){return l&&u.callbacks[t]&&"function"==typeof u.callbacks[t]}function i(){var t=[f[0].offsetTop,f[0].offsetLeft],e=[y[0].offsetTop,y[0].offsetLeft],i=[f.outerHeight(!1),f.outerWidth(!1)],r=[d.height(),d.width()];n[0].mcs={content:f,top:t[0],left:t[1],draggerTop:e[0],draggerLeft:e[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(i[0])-r[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(i[1])-r[1])),direction:o.dir}}var r,s,a,l=n.data(F),u=l.opt,c={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:u.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=B.extend(c,o),h=[o.dur,o.drag?0:o.dur],d=B("#mCSB_"+l.idx),f=B("#mCSB_"+l.idx+"_container"),p=f.parent(),m=u.callbacks.onTotalScrollOffset?X.call(n,u.callbacks.onTotalScrollOffset):[0,0],v=u.callbacks.onTotalScrollBackOffset?X.call(n,u.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=o.trigger,(0!==p.scrollTop()||0!==p.scrollLeft())&&(B(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==t||l.contentReset.y||(e("onOverflowYNone")&&u.callbacks.onOverflowYNone.call(n[0]),l.contentReset.y=1),"_resetX"!==t||l.contentReset.x||(e("onOverflowXNone")&&u.callbacks.onOverflowXNone.call(n[0]),l.contentReset.x=1),"_resetY"!==t&&"_resetX"!==t){if(!l.contentReset.y&&n[0].mcs||!l.overflowed[0]||(e("onOverflowY")&&u.callbacks.onOverflowY.call(n[0]),l.contentReset.x=null),!l.contentReset.x&&n[0].mcs||!l.overflowed[1]||(e("onOverflowX")&&u.callbacks.onOverflowX.call(n[0]),l.contentReset.x=null),u.snapAmount){var g=u.snapAmount instanceof Array?"x"===o.dir?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount;r=t,s=g,a=u.snapOffset,t=Math.round(r/s)*s-a}switch(o.dir){case"x":var y=B("#mCSB_"+l.idx+"_dragger_horizontal"),b="left",x=f[0].offsetLeft,_=[d.width()-f.outerWidth(!1),y.parent().width()-y.width()],w=[t,0===t?0:t/l.scrollRatio.x],T=m[1],S=v[1],E=0<T?T/l.scrollRatio.x:0,C=0<S?S/l.scrollRatio.x:0;break;case"y":var y=B("#mCSB_"+l.idx+"_dragger_vertical"),b="top",x=f[0].offsetTop,_=[d.height()-f.outerHeight(!1),y.parent().height()-y.height()],w=[t,0===t?0:t/l.scrollRatio.y],T=m[0],S=v[0],E=0<T?T/l.scrollRatio.y:0,C=0<S?S/l.scrollRatio.y:0}w[1]<0||0===w[0]&&0===w[1]?w=[0,0]:w[1]>=_[1]?w=[_[0],_[1]]:w[0]=-w[0],n[0].mcs||(i(),e("onInit")&&u.callbacks.onInit.call(n[0])),clearTimeout(f[0].onCompleteTimeout),K(y[0],b,Math.round(w[1]),h[1],o.scrollEasing),(l.tweenRunning||!(0===x&&0<=w[0]||x===_[0]&&w[0]<=_[0]))&&K(f[0],b,Math.round(w[0]),h[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!l.tweenRunning&&(e("onScrollStart")&&(i(),u.callbacks.onScrollStart.call(n[0])),l.tweenRunning=!0,O(y),l.cbOffsets=[u.callbacks.alwaysTriggerOffsets||x>=_[0]+T,u.callbacks.alwaysTriggerOffsets||x<=-S])},onUpdate:function(){o.callbacks&&o.onUpdate&&e("whileScrolling")&&(i(),u.callbacks.whileScrolling.call(n[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===u.axis&&clearTimeout(f[0].onCompleteTimeout);var t=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){e("onScroll")&&(i(),u.callbacks.onScroll.call(n[0])),e("onTotalScroll")&&w[1]>=_[1]-E&&l.cbOffsets[0]&&(i(),u.callbacks.onTotalScroll.call(n[0])),e("onTotalScrollBack")&&w[1]<=C&&l.cbOffsets[1]&&(i(),u.callbacks.onTotalScrollBack.call(n[0])),l.tweenRunning=!1,f[0].idleTimer=0,O(y,"hide")},t)}}})}},K=function(t,e,i,r,n,o,s){function a(){y.stop||(m||h.call(),m=Q()-p,l(),m>=y.time&&(y.time=m>y.time?m+u-(m-y.time):m+u-1,y.time<m+1&&(y.time=m+1)),y.time<r?y.id=c(a):f.call())}function l(){0<r?(y.currVal=function(t,e,i,r,n){switch(n){case"linear":case"mcsLinear":return i*t/r+e;case"mcsLinearOut":return t/=r,t--,i*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e;case"easeInOutStrong":return(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+e:(t--,i/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return(t/=r/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=r,-i*(--t*t*t*t-1)+e;case"easeOutStrong":return i*(1-Math.pow(2,-10*t/r))+e;case"easeOut":case"mcsEaseOut":default:var o=(t/=r)*t,s=o*t;return e+i*(.499999999999997*s*o+-2.5*o*o+5.5*s+-6.5*o+4*t)}}(y.time,v,b,r,n),g[e]=Math.round(y.currVal)+"px"):g[e]=i+"px",d.call()}t._mTween||(t._mTween={top:{},left:{}});var u,c,s=s||{},h=s.onStart||function(){},d=s.onUpdate||function(){},f=s.onComplete||function(){},p=Q(),m=0,v=t.offsetTop,g=t.style,y=t._mTween[e];"left"===e&&(v=t.offsetLeft);var b=i-v;y.stop=0,"none"!==o&&null!=y.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(y.id):clearTimeout(y.id),y.id=null),u=1e3/60,y.time=m+u,c=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return l(),setTimeout(t,.01)},y.id=c(a)},Q=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var t=this;t._mTween||(t._mTween={top:{},left:{}});for(var e=["top","left"],i=0;i<e.length;i++){var r=e[i];t._mTween[r].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t._mTween[r].id):clearTimeout(t._mTween[r].id),t._mTween[r].id=null,t._mTween[r].stop=1)}},J=function(e,i){try{delete e[i]}catch(t){e[i]=null}},tt=function(t){return!(t.which&&1!==t.which)},et=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},it=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},rt=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},nt=function(){var t=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}();return!!t&&document[t]},B.fn[f]=function(t){return p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void B.error("Method "+t+" does not exist"):p.init.apply(this,arguments)},B[f]=function(t){return p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void B.error("Method "+t+" does not exist"):p.init.apply(this,arguments)},B[f].defaults=n,window[f]=!0,B(window).load(function(){B(r)[f](),B.extend(B.expr[":"],{mcsInView:B.expr[":"].mcsInView||function(t){var e,i,r=B(t),n=r.parents(".mCSB_container");if(n.length)return e=n.parent(),0<=(i=[n[0].offsetTop,n[0].offsetLeft])[0]+rt(r)[0]&&i[0]+rt(r)[0]<e.height()-r.outerHeight(!1)&&0<=i[1]+rt(r)[1]&&i[1]+rt(r)[1]<e.width()-r.outerWidth(!1)},mcsOverflow:B.expr[":"].mcsOverflow||function(t){var e=B(t).data(F);if(e)return e.overflowed[0]||e.overflowed[1]}})})}),jQuery.effects||function(y,t){var i,a=!1!==y.uiBackCompat,o="ui-effects-";y.effects={effect:{}},function(c,h){function d(t,e,i){var r=v[e.type]||{};return null==t?i||!e.def?null:e.def:(t=r.floor?~~t:parseFloat(t),isNaN(t)?e.def:r.mod?(t+r.mod)%r.mod:t<0?0:t>r.max?r.max:t)}function a(s){var a=p(),l=a._rgba=[];return s=s.toLowerCase(),g(e,function(t,e){var i,r=e.re.exec(s),n=r&&e.parse(r),o=e.space||"rgba";return n?(i=a[o](n),a[m[o].cache]=i[m[o].cache],l=a._rgba=i._rgba,!1):h}),l.length?("0,0,0,0"===l.join()&&c.extend(l,u.transparent),a):u[s]}function l(t,e,i){return 6*(i=(i+1)%1)<1?t+6*(e-t)*i:2*i<1?e:3*i<2?t+6*(e-t)*(2/3-i):t}var u,t="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),f=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],p=c.Color=function(t,e,i,r){return new c.Color.fn.parse(t,e,i,r)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},v={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},s=p.support={},i=c("<p>")[0],g=c.each;i.style.cssText="background-color:rgba(1,1,1,.5)",s.rgba=-1<i.style.backgroundColor.indexOf("rgba"),g(m,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),p.fn=c.extend(p.prototype,{parse:function(n,t,e,i){if(n===h)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=c(n).css(t),t=h);var o=this,r=c.type(n),s=this._rgba=[];return t!==h&&(n=[n,t,e,i],r="array"),"string"===r?this.parse(a(n)||u._default):"array"===r?(g(m.rgba.props,function(t,e){s[e.idx]=d(n[e.idx],e)}),this):"object"===r?(g(m,n instanceof p?function(t,e){n[e.cache]&&(o[e.cache]=n[e.cache].slice())}:function(t,i){var r=i.cache;g(i.props,function(t,e){if(!o[r]&&i.to){if("alpha"===t||null==n[t])return;o[r]=i.to(o._rgba)}o[r][e.idx]=d(n[t],e,!0)}),o[r]&&y.inArray(null,o[r].slice(0,3))<0&&(o[r][3]=1,i.from&&(o._rgba=i.from(o[r])))}),this):h},is:function(t){var n=p(t),o=!0,s=this;return g(m,function(t,e){var i,r=n[e.cache];return r&&(i=s[e.cache]||e.to&&e.to(s._rgba)||[],g(e.props,function(t,e){return null!=r[e.idx]?o=r[e.idx]===i[e.idx]:h})),o}),o},_space:function(){var i=[],r=this;return g(m,function(t,e){r[e.cache]&&i.push(t)}),i.pop()},transition:function(t,s){var a=p(t),e=a._space(),i=m[e],r=0===this.alpha()?p("transparent"):this,l=r[i.cache]||i.to(r._rgba),u=l.slice();return a=a[i.cache],g(i.props,function(t,e){var i=e.idx,r=l[i],n=a[i],o=v[e.type]||{};null!==n&&(null===r?u[i]=n:(o.mod&&(n-r>o.mod/2?r+=o.mod:r-n>o.mod/2&&(r-=o.mod)),u[i]=d((n-r)*s+r,e)))}),this[e](u)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),r=p(t)._rgba;return p(c.map(e,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=c.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=c.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+c.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,m.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,r=t[0]/255,n=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(r,n,o),l=Math.min(r,n,o),u=a-l,c=a+l,h=.5*c;return e=l===a?0:r===a?60*(n-o)/u+360:n===a?60*(o-r)/u+120:60*(r-n)/u+240,i=0===h||1===h?h:h<=.5?u/c:u/(2-c),[Math.round(e)%360,i,h,null==s?1:s]},m.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],r=t[2],n=t[3],o=r<=.5?r*(1+i):r+i-r*i,s=2*r-o;return[Math.round(255*l(s,o,e+1/3)),Math.round(255*l(s,o,e)),Math.round(255*l(s,o,e-1/3)),n]},g(m,function(l,t){var i=t.props,s=t.cache,a=t.to,u=t.from;p.fn[l]=function(t){if(a&&!this[s]&&(this[s]=a(this._rgba)),t===h)return this[s].slice();var e,r=c.type(t),n="array"===r||"object"===r?t:arguments,o=this[s].slice();return g(i,function(t,e){var i=n["object"===r?t:e.idx];null==i&&(i=o[e.idx]),o[e.idx]=d(i,e)}),u?((e=p(u(o)))[s]=o,e):p(o)},g(i,function(s,a){p.fn[s]||(p.fn[s]=function(t){var e,i=c.type(t),r="alpha"===s?this._hsla?"hsla":"rgba":l,n=this[r](),o=n[a.idx];return"undefined"===i?o:("function"===i&&(t=t.call(this,o),i=c.type(t)),null==t&&a.empty?this:("string"===i&&((e=f.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1))),n[a.idx]=t,this[r](n)))})})}),g(t,function(t,o){c.cssHooks[o]={set:function(t,e){var i,r,n="";if("string"!==c.type(e)||(i=a(e))){if(e=p(i||e),!s.rgba&&1!==e._rgba[3]){for(r="backgroundColor"===o?t.parentNode:t;(""===n||"transparent"===n)&&r&&r.style;)try{n=c.css(r,"backgroundColor"),r=r.parentNode}catch(t){}e=e.blend(n&&"transparent"!==n?n:"_default")}e=e.toRgbaString()}try{t.style[o]=e}catch(t){}}},c.fx.step[o]=function(t){t.colorInit||(t.start=p(t.elem,o),t.end=p(t.end),t.colorInit=!0),c.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}}),c.cssHooks.borderColor={expand:function(i){var r={};return g(["Top","Right","Bottom","Left"],function(t,e){r["border"+e+"Color"]=i}),r}},u=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function s(){var t,e,i=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(e=i.length;e--;)"string"==typeof i[t=i[e]]&&(r[y.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(r[t]=i[t]);return r}var a=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};y.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){y.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,e,t.end),t.setAttr=!0)}}),y.effects.animateClass=function(n,t,e,i){var o=y.speed(t,e,i);return this.queue(function(){var t,i=y(this),e=i.attr("class")||"",r=o.children?i.find("*").andSelf():i;r=r.map(function(){return{el:y(this),start:s.call(this)}}),(t=function(){y.each(a,function(t,e){n[e]&&i[e+"Class"](n[e])})})(),r=r.map(function(){return this.end=s.call(this.el[0]),this.diff=function(t,e){var i,r,n={};for(i in e)r=e[i],t[i]!==r&&(l[i]||(y.fx.step[i]||!isNaN(parseFloat(r)))&&(n[i]=r));return n}(this.start,this.end),this}),i.attr("class",e),r=r.map(function(){var t=this,e=y.Deferred(),i=jQuery.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),y.when.apply(y,r.get()).done(function(){t(),y.each(arguments,function(){var e=this.el;y.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(i[0])})})},y.fn.extend({_addClass:y.fn.addClass,addClass:function(t,e,i,r){return e?y.effects.animateClass.call(this,{add:t},e,i,r):this._addClass(t)},_removeClass:y.fn.removeClass,removeClass:function(t,e,i,r){return e?y.effects.animateClass.call(this,{remove:t},e,i,r):this._removeClass(t)},_toggleClass:y.fn.toggleClass,toggleClass:function(t,e,i,r,n){return"boolean"==typeof e||void 0===e?i?y.effects.animateClass.call(this,e?{add:t}:{remove:t},i,r,n):this._toggleClass(t,e):y.effects.animateClass.call(this,{toggle:t},e,i,r)},switchClass:function(t,e,i,r,n){return y.effects.animateClass.call(this,{add:e,remove:t},i,r,n)}})}(),function(){function n(t,e,i,r){return y.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),y.isFunction(e)&&(r=e,i=null,e={}),("number"==typeof e||y.fx.speeds[e])&&(r=i,i=e,e={}),y.isFunction(i)&&(r=i,i=null),e&&y.extend(t,e),i=i||e.duration,t.duration=y.fx.off?0:"number"==typeof i?i:i in y.fx.speeds?y.fx.speeds[i]:y.fx.speeds._default,t.complete=r||e.complete,t}function i(t){return!(t&&"number"!=typeof t&&!y.fx.speeds[t])||"string"==typeof t&&!y.effects.effect[t]&&(!a||!y.effects[t])}y.extend(y.effects,{version:"1.9.2",save:function(t,e){for(var i=0;e.length>i;i++)null!==e[i]&&t.data(o+e[i],t[0].style[e[i]])},restore:function(t,e){var i,r;for(r=0;e.length>r;r++)null!==e[r]&&(void 0===(i=t.data(o+e[r]))&&(i=""),t.css(e[r],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,r;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=t[1]/e.width}return{x:r,y:i}},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var r={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=y("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},n=document.activeElement;try{n.id}catch(t){n=document.body}return i.wrap(t),(i[0]===n||y.contains(i[0],n))&&y(n).focus(),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(y.extend(r,{position:i.css("position"),zIndex:i.css("z-index")}),y.each(["top","left","bottom","right"],function(t,e){r[e]=i.css(e),isNaN(parseInt(r[e],10))&&(r[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(r).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||y.contains(t[0],e))&&y(e).focus()),t},setTransition:function(r,t,n,o){return o=o||{},y.each(t,function(t,e){var i=r.cssUnit(e);0<i[0]&&(o[e]=i[0]*n+i[1])}),o}}),y.fn.extend({effect:function(){function t(t){function e(){y.isFunction(r)&&r.call(i[0]),y.isFunction(t)&&t()}var i=y(this),r=o.complete,n=o.mode;(i.is(":hidden")?"hide"===n:"show"===n)?e():s.call(i[0],o,e)}var o=n.apply(this,arguments),e=o.mode,i=o.queue,s=y.effects.effect[o.effect],r=!s&&a&&y.effects[o.effect];return y.fx.off||!s&&!r?e?this[e](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)}):s?!1===i?this.each(t):this.queue(i||"fx",t):r.call(this,{options:o,duration:o.duration,callback:o.complete,mode:o.mode})},_show:y.fn.show,show:function(t){if(i(t))return this._show.apply(this,arguments);var e=n.apply(this,arguments);return e.mode="show",this.effect.call(this,e)},_hide:y.fn.hide,hide:function(t){if(i(t))return this._hide.apply(this,arguments);var e=n.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)},__toggle:y.fn.toggle,toggle:function(t){if(i(t)||"boolean"==typeof t||y.isFunction(t))return this.__toggle.apply(this,arguments);var e=n.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)},cssUnit:function(t){var i=this.css(t),r=[];return y.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(r=[parseFloat(i),e])}),r}})}(),i={},y.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){i[t]=function(t){return Math.pow(t,e+2)}}),y.extend(i,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),y.each(i,function(t,e){y.easing["easeIn"+t]=e,y.easing["easeOut"+t]=function(t){return 1-e(1-t)},y.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}})}(jQuery),function(a){var i={type:"html",content:"",url:"",ajax:{},ajax_request:null,closeOnEsc:!0,closeOnOverlayClick:!0,clone:!1,overlay:{block:void 0,tpl:'<div class="swpmodal-overlay"></div>',css:{backgroundColor:"#f4f4f4"}},container:{block:void 0,tpl:'<div class="swpmodal-container"><div class="swpmodal-container_i"><div class="swpmodal-container_i2"></div></div></div>'},preloader:{verticalAlign:void 0,tpl:'<div class="swpmodal-preloader" />'},wrap:void 0,body:void 0,errors:{tpl:'<div class="swpmodal-error swpmodal-close"></div>',autoclose_delay:2e3,ajax_unsuccessful_load:"Error"},openEffect:{type:"fade",speed:400},closeEffect:{type:"fade",speed:400},width:"auto",verticalAlign:"middle",beforeOpen:a.noop,afterOpen:a.noop,beforeClose:a.noop,afterClose:a.noop,afterLoading:a.noop,afterLoadingOnShow:a.noop,errorLoading:a.noop},l=0,u=a([]),c=function(t,e){var i=!0;return a(t).each(function(){a(e.target).get(0)==a(this).get(0)&&(i=!1),0==a(e.target).closest("HTML",a(this).get(0)).length&&(i=!1)}),i},n={getParentEl:function(t){var e=a(t);return e.data("swpmodal")?e:(e=a(t).closest(".swpmodal-container").data("swpmodalParentEl"))||!1},transition:function(t,e,i,r){switch(r=null==r?a.noop:r,i.type){case"fade":"show"==e?t.fadeIn(i.speed,r):t.fadeOut(i.speed,r);break;case"none":"show"==e?t.show():t.hide(),r()}},set_wrap_margin_right:function(t,e){t.wrap.css("marginRight",e+"px"),a(document).trigger("swpmodalSetWrapMarginRight",e)},init_el:function(e,t){var i=e.data("swpmodal");if(!i){if(l++,(i=t).modalID=l,i.overlay.block=a(i.overlay.tpl),i.overlay.block.css(i.overlay.css),i.container.block=a(i.container.tpl),i.body=a(".swpmodal-container_i2",i.container.block),t.clone?i.body.html(e.clone(!0)):(e.before('<div id="swpmodalReserve'+i.modalID+'" style="display: none" />'),i.body.html(e)),i.body.on("click",".swpmodal-close",function(){return e.swpmodal("close"),!1}),i.closeOnOverlayClick&&i.overlay.block.add(i.container.block).click(function(t){c(a(">*",i.body),t)&&e.swpmodal("close")}),i.container.block.data("swpmodalParentEl",e),e.data("swpmodal",i),u=a.merge(u,e),a.proxy(h.show,e)(),"html"==i.type)return e;if(null!=i.ajax.beforeSend){var r=i.ajax.beforeSend;delete i.ajax.beforeSend}if(null!=i.ajax.success){var n=i.ajax.success;delete i.ajax.success}if(null!=i.ajax.error){var o=i.ajax.error;delete i.ajax.error}var s=a.extend(!0,{url:i.url,beforeSend:function(){i.body.html(i.preloader.tpl).css("verticalAlign",void 0===i.preloader.verticalAlign?i.verticalAlign:i.preloader.verticalAlign),void 0!==r&&r(i,e)},success:function(t){e.trigger("afterLoading"),t=i.afterLoading(i,e,t)||t,i.body.css("verticalAlign",i.verticalAlign),null==n?i.body.html(t):n(i,e,t),e.trigger("afterLoadingOnShow"),i.afterLoadingOnShow(i,e,t)},error:function(){e.trigger("errorLoading"),i.errorLoading(i,e),null==o?(i.body.html(i.errors.tpl),a(".swpmodal-error",i.body).html(i.errors.ajax_unsuccessful_load),a(".swpmodal-close",i.body).click(function(){return e.swpmodal("close"),!1}),i.errors.autoclose_delay&&setTimeout(function(){e.swpmodal("close")},i.errors.autoclose_delay)):o(i,e)}},i.ajax);i.ajax_request=a.ajax(s),e.data("swpmodal",i)}},init:function(t){if(t=a.extend(!0,{},i,t),!a.isFunction(this))return this.each(function(){n.init_el(a(this),a.extend(!0,{},t))});if(null!=t)if(""!=t.type)switch(t.type){case"html":if(""==t.content)return void a.error('jquery.swpmodal: Don\'t set parameter "content"');var e=t.content;return t.content="",n.init_el(a(e),t);case"ajax":return""==t.url?void a.error('jquery.swpmodal: Don\'t set parameter "url"'):n.init_el(a("<div />"),t)}else a.error('jquery.swpmodal: Don\'t set parameter "type"');else a.error("jquery.swpmodal: Uncorrect parameters")}},h={show:function(){var t=n.getParentEl(this);if(!1!==t){var e=t.data("swpmodal");if(e.overlay.block.hide(),e.container.block.hide(),a("BODY").append(e.overlay.block),a("BODY").append(e.container.block),e.container.block.css("zIndex",e.overlay.block.css("zIndex")),e.beforeOpen(e,t),t.trigger("beforeOpen"),"hidden"!=e.wrap.css("overflow-y")){e.wrap.data("swpmodalOverflow",e.wrap.css("overflow-y"));var i=e.wrap.outerWidth(!0);e.wrap.css("overflow-y","hidden");var r=e.wrap.outerWidth(!0);r!=i&&n.set_wrap_margin_right(e,r-i)}return u.not(t).each(function(){a(this).data("swpmodal").overlay.block.hide()}),e.body.css("verticalAlign",e.verticalAlign),e.body.parent().css("width",e.width),n.transition(e.overlay.block,"show",1<u.length?{type:"none"}:e.openEffect),n.transition(e.container.block,"show",1<u.length?{type:"none"}:e.openEffect,function(){e.afterOpen(e,t),t.trigger("afterOpen")}),t}a.error("jquery.swpmodal: Uncorrect call")},close:function(){if(!a.isFunction(this))return this.each(function(){var t=n.getParentEl(this);if(!1!==t){var e=t.data("swpmodal");!1!==e.beforeClose(e,t)&&(t.trigger("beforeClose"),u.not(t).last().each(function(){a(this).data("swpmodal").overlay.block.show()}),n.transition(e.overlay.block,"hide",1<u.length?{type:"none"}:e.closeEffect),n.transition(e.container.block,"hide",1<u.length?{type:"none"}:e.closeEffect,function(){e.afterClose(e,t),t.trigger("afterClose"),e.clone||a("#swpmodalReserve"+e.modalID).replaceWith(e.body.find(">*")),e.overlay.block.remove(),e.container.block.remove(),t.data("swpmodal",null),a(".swpmodal-container").length||(e.wrap.data("swpmodalOverflow")&&e.wrap.css("overflow-y",e.wrap.data("swpmodalOverflow")),n.set_wrap_margin_right(e,0))}),"ajax"==e.type&&e.ajax_request.abort(),u=u.not(t))}else a.error("jquery.swpmodal: Uncorrect call")});u.each(function(){a(this).swpmodal("close")})},setDefault:function(t){a.extend(!0,i,t)}};a(function(){i.wrap=a(document.all&&!document.querySelector?"html":"body")}),a(document).bind("keyup.swpmodal",function(t){var e=u.last();e.length&&(e.data("swpmodal").closeOnEsc&&27===t.keyCode&&e.swpmodal("close"))}),a.swpmodal=a.fn.swpmodal=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void a.error("jquery.swpmodal: Method "+t+" does not exist"):n.init.apply(this,arguments)}}(jQuery),function(){function t(t,e){return[].slice.call((e||document).querySelectorAll(t))}if(window.addEventListener){var c=window.StyleFix={link:function(i){var e=i.href||i.getAttribute("data-href");try{if(!e||"stylesheet"!==i.rel||i.hasAttribute("data-noprefix"))return}catch(t){return}var r,n=e.replace(/[^\/]+$/,""),o=(/^[a-z]{3,10}:/.exec(n)||[""])[0],s=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(n)||[""])[0],a=/^([^?]*)\??/.exec(e)[1],l=i.parentNode,u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&r()},r=function(){if((t=u.responseText)&&i.parentNode&&(!u.status||u.status<400||600<u.status)){if((t=c.fix(t,!0,i))&&n){var t=t.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(t,e,i){return/^([a-z]{3,10}:|#)/i.test(i)?t:/^\/\//.test(i)?'url("'+o+i+'")':/^\//.test(i)?'url("'+s+i+'")':/^\?/.test(i)?'url("'+a+i+'")':'url("'+n+i+'")'}),e=n.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");t=t.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+e,"gi"),"$1")}(e=document.createElement("style")).textContent="/*# sourceURL="+i.getAttribute("href")+" */\n/*@ sourceURL="+i.getAttribute("href")+" */\n"+t,e.media=i.media,e.disabled=i.disabled,e.setAttribute("data-href",i.getAttribute("href")),i.id&&(e.id=i.id),l.insertBefore(e,i),l.removeChild(i),e.media=i.media}};try{u.open("GET",e),u.send(null)}catch(t){"undefined"!=typeof XDomainRequest&&((u=new XDomainRequest).onerror=u.onprogress=function(){},u.onload=r,u.open("GET",e),u.send(null))}i.setAttribute("data-inprogress","")},styleElement:function(t){if(!t.hasAttribute("data-noprefix")){var e=t.disabled;t.textContent=c.fix(t.textContent,!0,t),t.disabled=e}},styleAttribute:function(t){var e=t.getAttribute("style");e=c.fix(e,!1,t);t.setAttribute("style",e)},process:function(){t('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),t("style").forEach(StyleFix.styleElement),t("[style]").forEach(StyleFix.styleAttribute)},register:function(t,e){(c.fixers=c.fixers||[]).splice(void 0===e?c.fixers.length:e,0,t)},fix:function(t,e,i){if(c.fixers)for(var r=0;r<c.fixers.length;r++)t=c.fixers[r](t,e,i)||t;return t},camelCase:function(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}).replace("-","")},deCamelCase:function(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}};setTimeout(function(){t('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}}(),function(l){function o(t,e,i,r,n){return(t=u[t]).length&&(t=RegExp(e+"("+t.join("|")+")"+i,"gi"),n=n.replace(t,r)),n}if(window.StyleFix&&window.getComputedStyle){var u=window.PrefixFree={prefixCSS:function(t,e,i){var r=u.prefix;if(-1<u.functions.indexOf("linear-gradient")&&(t=t.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(t,e,i,r){return e+(i||"")+"linear-gradient("+(90-r)+"deg"})),t=o("functions","(\\s|:|,)","\\s*\\(","$1"+r+"$2(",t),t=o("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+r+"$2$3",t),t=o("properties","(^|\\{|\\s|;)","\\s*:","$1"+r+"$2:",t),u.properties.length){var n=RegExp("\\b("+u.properties.join("|")+")(?!:)","gi");t=o("valueProperties","\\b",":(.+?);",function(t){return t.replace(n,r+"$1")},t)}return e&&(t=o("selectors","","\\b",u.prefixSelector,t),t=o("atrules","@","\\b","@"+r+"$1",t)),(t=t.replace(RegExp("-"+r,"g"),"-")).replace(/-\*-(?=[a-z]+)/gi,u.prefix)},property:function(t){return(0<=u.properties.indexOf(t)?u.prefix:"")+t},value:function(t,e){return t=o("functions","(^|\\s|,)","\\s*\\(","$1"+u.prefix+"$2(",t),t=o("keywords","(^|\\s)","(\\s|$)","$1"+u.prefix+"$2$3",t),0<=u.valueProperties.indexOf(e)&&(t=o("properties","(^|\\s|,)","($|\\s|,)","$1"+u.prefix+"$2$3",t)),t},prefixSelector:function(t){return u.selectorMap[t]||t},prefixProperty:function(t,e){var i=u.prefix+t;return e?StyleFix.camelCase(i):i}};!function(){var i={},r=[],t=getComputedStyle(document.documentElement,null),n=document.createElement("div").style,e=function(t){if("-"===t.charAt(0)){r.push(t);var e=(t=t.split("-"))[1];for(i[e]=++i[e]||1;3<t.length;)t.pop(),e=t.join("-"),StyleFix.camelCase(e)in n&&-1===r.indexOf(e)&&r.push(e)}};if(t&&0<t.length)for(var o=0;o<t.length;o++)e(t[o]);else for(var s in t)e(StyleFix.deCamelCase(s));var a,l;o=0;for(l in i)o<(t=i[l])&&(a=l,o=t);for(u.prefix="-"+a+"-",u.Prefix=StyleFix.camelCase(u.prefix),u.properties=[],o=0;o<r.length;o++)0===(s=r[o]).indexOf(u.prefix)&&(a=s.slice(u.prefix.length),StyleFix.camelCase(a)in n||u.properties.push(a));!("Ms"!=u.Prefix||"transform"in n||"MsTransform"in n)&&"msTransform"in n&&u.properties.push("transform","transform-origin"),u.properties.sort()}(),function(){function t(t,e){return n[e]="",n[e]=t,!!n[e]}var e={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};e["repeating-linear-gradient"]=e["repeating-radial-gradient"]=e["radial-gradient"]=e["linear-gradient"];var i={initial:"color",grab:"cursor",grabbing:"cursor","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width","contain-floats":"width"};u.functions=[],u.keywords=[];var r,n=document.createElement("div").style;for(r in e){var o,s=(o=e[r]).property;!t(o=r+"("+o.params+")",s)&&t(u.prefix+o,s)&&u.functions.push(r)}for(var a in i)!t(a,s=i[a])&&t(u.prefix+a,s)&&u.keywords.push(a)}(),function(){function t(t){return n.textContent=t+"{}",!!n.sheet.cssRules.length}var e={":any-link":null,"::backdrop":null,":fullscreen":null,":full-screen":":fullscreen","::placeholder":null,":placeholder":"::placeholder","::input-placeholder":"::placeholder",":input-placeholder":"::placeholder",":read-only":null,":read-write":null,"::selection":null},i={keyframes:"name",viewport:null,document:'regexp(".")'};u.selectors=[],u.selectorMap={},u.atrules=[];var r,n=l.appendChild(document.createElement("style"));for(r in e){var o=e[r]||r,s=r.replace(/::?/,function(t){return t+u.prefix});!t(o)&&t(s)&&(u.selectors.push(o),u.selectorMap[o]=s)}for(var a in i)!t("@"+(e=a+" "+(i[a]||"")))&&t("@"+u.prefix+e)&&u.atrules.push(a);l.removeChild(n)}(),u.valueProperties=["transition","transition-property","will-change"],l.className+=" "+u.prefix,StyleFix.register(u.prefixCSS)}}(document.documentElement),function(t){var e,n,i,r,o,s,a,l=navigator.userAgent;t.HTMLPictureElement&&/ecko/.test(l)&&l.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(n=document.createElement("source"),i=function(t){var e,i,r=t.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(e=n.cloneNode(),r.insertBefore(e,r.firstElementChild),setTimeout(function(){r.removeChild(e)})):(!t._pfLastSize||t.offsetWidth>t._pfLastSize)&&(t._pfLastSize=t.offsetWidth,i=t.sizes,t.sizes+=",100vw",setTimeout(function(){t.sizes=i}))},r=function(){var t,e=document.querySelectorAll("picture > img, img[srcset][sizes]");for(t=0;t<e.length;t++)i(e[t])},o=function(){clearTimeout(e),e=setTimeout(r,99)},s=t.matchMedia&&matchMedia("(orientation: landscape)"),a=function(){o(),s&&s.addListener&&s.addListener(o)},n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?a():document.addEventListener("DOMContentLoaded",a),o))}(window),function(t,o,u){"use strict";function c(t){return" "===t||"\t"===t||"\n"===t||"\f"===t||"\r"===t}function S(t,e){return t.res-e.res}function E(t,e){var i,r,n;if(t&&e)for(n=M.parseSet(e),t=M.makeUrl(t),i=0;i<n.length;i++)if(t===M.makeUrl(n[i].url)){r=n[i];break}return r}o.createElement("picture");var n,h,l,r,s,e,i,a,d,f,p,m,v,g,y,b,x,_,w,T,C,O,M={},A=!1,P=function(){},k=o.createElement("img"),D=k.getAttribute,R=k.setAttribute,I=k.removeAttribute,L=o.documentElement,N={},B={algorithm:""},j="data-pfsrc",F=j+"set",$=navigator.userAgent,U=/rident/.test($)||/ecko/.test($)&&$.match(/rv\:(\d+)/)&&35<RegExp.$1,z="currentSrc",W=/\s+\+?\d+(e\d+)?w/,H=/(\([^)]+\))?\s*(.+)/,X=t.picturefillCFG,G="font-size:100%!important;",Y=!0,q={},V={},K=t.devicePixelRatio,Q={px:1,in:96},Z=o.createElement("a"),J=!1,tt=/^[ \t\n\r\u000c]+/,et=/^[, \t\n\r\u000c]+/,it=/^[^ \t\n\r\u000c]+/,rt=/[,]+$/,nt=/^\d+$/,ot=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,st=function(t,e,i,r){t.addEventListener?t.addEventListener(e,i,r||!1):t.attachEvent&&t.attachEvent("on"+e,i)},at=function(e){var i={};return function(t){return t in i||(i[t]=e(t)),i[t]}},lt=(r=/^([\d\.]+)(em|vw|px)$/,s=at(function(t){return"return "+function(){for(var t=arguments,e=0,i=t[0];++e in t;)i=i.replace(t[e],t[++e]);return i}((t||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(t,e){var i;if(!(t in q))if(q[t]=!1,e&&(i=t.match(r)))q[t]=i[1]*Q[i[2]];else try{q[t]=new Function("e",s(t))(Q)}catch(t){}return q[t]}),ut=function(t,e){return t.w?(t.cWidth=M.calcListLength(e||"100vw"),t.res=t.w/t.cWidth):t.res=t.d,t},ct=function(t){if(A){var e,i,r,n=t||{};if(n.elements&&1===n.elements.nodeType&&("IMG"===n.elements.nodeName.toUpperCase()?n.elements=[n.elements]:(n.context=n.elements,n.elements=null)),r=(e=n.elements||M.qsa(n.context||o,n.reevaluate||n.reselect?M.sel:M.selShort)).length){for(M.setupRun(n),J=!0,i=0;i<r;i++)M.fillImg(e[i],n);M.teardownRun(n)}}};t.console&&console.warn,z in k||(z="src"),N["image/jpeg"]=!0,N["image/gif"]=!0,N["image/png"]=!0,N["image/svg+xml"]=o.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),M.ns=("pf"+(new Date).getTime()).substr(0,9),M.supSrcset="srcset"in k,M.supSizes="sizes"in k,M.supPicture=!!t.HTMLPictureElement,M.supSrcset&&M.supPicture&&!M.supSizes&&(w=o.createElement("img"),k.srcset="data:,a",w.src="data:,a",M.supSrcset=k.complete===w.complete,M.supPicture=M.supSrcset&&M.supPicture),M.supSrcset&&!M.supSizes?(b="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",x=o.createElement("img"),_=function(){2===x.width&&(M.supSizes=!0),h=M.supSrcset&&!M.supSizes,A=!0,setTimeout(ct)},x.onload=_,x.onerror=_,x.setAttribute("sizes","9px"),x.srcset=b+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",x.src=b):A=!0,M.selShort="picture>img,img[srcset]",M.sel=M.selShort,M.cfg=B,M.DPR=K||1,M.u=Q,M.types=N,M.setSize=P,M.makeUrl=at(function(t){return Z.href=t,Z.href}),M.qsa=function(t,e){return"querySelector"in t?t.querySelectorAll(e):[]},M.matchesMedia=function(){return t.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?M.matchesMedia=function(t){return!t||matchMedia(t).matches}:M.matchesMedia=M.mMQ,M.matchesMedia.apply(this,arguments)},M.mMQ=function(t){return!t||lt(t)},M.calcLength=function(t){var e=lt(t,!0)||!1;return e<0&&(e=!1),e},M.supportsType=function(t){return!t||N[t]},M.parseSize=at(function(t){var e=(t||"").match(H);return{media:e&&e[1],length:e&&e[2]}}),M.parseSet=function(t){return t.cands||(t.cands=function(r,h){function t(t){var e,i=t.exec(r.substring(l));return i?(e=i[0],l+=e.length,e):void 0}function e(){var t,e,i,r,n,o,s,a,l,u=!1,c={};for(r=0;r<f.length;r++)o=(n=f[r])[n.length-1],s=n.substring(0,n.length-1),a=parseInt(s,10),l=parseFloat(s),nt.test(s)&&"w"===o?((t||e)&&(u=!0),0===a?u=!0:t=a):ot.test(s)&&"x"===o?((t||e||i)&&(u=!0),l<0?u=!0:e=l):nt.test(s)&&"h"===o?((i||e)&&(u=!0),0===a?u=!0:i=a):u=!0;u||(c.url=d,t&&(c.w=t),e&&(c.d=e),i&&(c.h=i),i||e||t||(c.d=1),1===c.d&&(h.has1x=!0),c.set=h,p.push(c))}function i(){for(t(tt),n="",o="in descriptor";;){if(s=r.charAt(l),"in descriptor"===o)if(c(s))n&&(f.push(n),n="",o="after descriptor");else{if(","===s)return l+=1,n&&f.push(n),void e();if("("===s)n+=s,o="in parens";else{if(""===s)return n&&f.push(n),void e();n+=s}}else if("in parens"===o)if(")"===s)n+=s,o="in descriptor";else{if(""===s)return f.push(n),void e();n+=s}else if("after descriptor"===o)if(c(s));else{if(""===s)return void e();o="in descriptor",l-=1}l+=1}}for(var d,f,n,o,s,a=r.length,l=0,p=[];;){if(t(et),a<=l)return p;d=t(it),f=[],","===d.slice(-1)?(d=d.replace(rt,""),e()):i()}}(t.srcset,t)),t.cands},M.getEmValue=function(){var t;if(!n&&(t=o.body)){var e=o.createElement("div"),i=L.style.cssText,r=t.style.cssText;e.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",L.style.cssText=G,t.style.cssText=G,t.appendChild(e),n=e.offsetWidth,t.removeChild(e),n=parseFloat(n,10),L.style.cssText=i,t.style.cssText=r}return n||16},M.calcListLength=function(t){if(!(t in V)||B.uT){var e=M.calcLength(function(t){var e,i,r,n,o,s,a,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,u=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(r=(i=function(t){function e(){n&&(o.push(n),n="")}function i(){o[0]&&(s.push(o),o=[])}for(var r,n="",o=[],s=[],a=0,l=0,u=!1;;){if(""===(r=t.charAt(l)))return e(),i(),s;if(u){if("*"===r&&"/"===t[l+1]){u=!1,l+=2,e();continue}l+=1}else{if(c(r)){if(t.charAt(l-1)&&c(t.charAt(l-1))||!n){l+=1;continue}if(0===a){e(),l+=1;continue}r=" "}else if("("===r)a+=1;else if(")"===r)a-=1;else{if(","===r){e(),i(),l+=1;continue}if("/"===r&&"*"===t.charAt(l+1)){u=!0,l+=2;continue}}n+=r,l+=1}}}(t)).length,e=0;e<r;e++)if(o=(n=i[e])[n.length-1],a=o,l.test(a)&&0<=parseFloat(a)||u.test(a)||"0"===a||"-0"===a||"+0"===a){if(s=o,n.pop(),0===n.length)return s;if(n=n.join(" "),M.matchesMedia(n))return s}return"100vw"}(t));V[t]=e||Q.width}return V[t]},M.setRes=function(t){var e;if(t)for(var i=0,r=(e=M.parseSet(t)).length;i<r;i++)ut(e[i],t.sizes);return e},M.setRes.res=ut,M.applySetCandidate=function(t,e){if(t.length){var i,r,n,o,s,a,l,u,c,h=e[M.ns],d=M.DPR;if(a=h.curSrc||e[z],(l=h.curCan||(x=e,_=a,!(w=t[0].set)&&_&&(w=(w=x[M.ns].sets)&&w[w.length-1]),(T=E(_,w))&&(_=M.makeUrl(_),x[M.ns].curSrc=_,(x[M.ns].curCan=T).res||ut(T,T.set.sizes)),T))&&l.set===t[0].set&&((c=U&&!e.complete&&l.res-.1>d)||(l.cached=!0,l.res>=d&&(s=l))),!s)for(t.sort(S),s=t[(o=t.length)-1],r=0;r<o;r++)if((i=t[r]).res>=d){s=t[n=r-1]&&(c||a!==M.makeUrl(i.url))&&(f=t[n].res,p=i.res,m=d,v=t[n].cached,b=y=g=void 0,"saveData"===B.algorithm?2.7<f?b=m+1:(y=(p-m)*(g=Math.pow(f-.6,1.5)),v&&(y+=.1*g),b=f+y):b=1<m?Math.sqrt(f*p):f,m<b)?t[n]:i;break}s&&(u=M.makeUrl(s.url),h.curSrc=u,h.curCan=s,u!==a&&M.setSrc(e,s),M.setSize(e))}var f,p,m,v,g,y,b,x,_,w,T},M.setSrc=function(t,e){var i;t.src=e.url,"image/svg+xml"===e.set.type&&(i=t.style.width,t.style.width=t.offsetWidth+1+"px",t.offsetWidth+1&&(t.style.width=i))},M.getSet=function(t){var e,i,r,n=!1,o=t[M.ns].sets;for(e=0;e<o.length&&!n;e++)if((i=o[e]).srcset&&M.matchesMedia(i.media)&&(r=M.supportsType(i.type))){"pending"===r&&(i=r),n=i;break}return n},M.parseSets=function(t,e,i){var r,n,o,s,a=e&&"PICTURE"===e.nodeName.toUpperCase(),l=t[M.ns];(l.src===u||i.src)&&(l.src=D.call(t,"src"),l.src?R.call(t,j,l.src):I.call(t,j)),(l.srcset===u||i.srcset||!M.supSrcset||t.srcset)&&(r=D.call(t,"srcset"),l.srcset=r,s=!0),l.sets=[],a&&(l.pic=!0,function(t,e){var i,r,n,o,s=t.getElementsByTagName("source");for(i=0,r=s.length;i<r;i++)(n=s[i])[M.ns]=!0,(o=n.getAttribute("srcset"))&&e.push({srcset:o,media:n.getAttribute("media"),type:n.getAttribute("type"),sizes:n.getAttribute("sizes")})}(e,l.sets)),l.srcset?(n={srcset:l.srcset,sizes:D.call(t,"sizes")},l.sets.push(n),(o=(h||l.src)&&W.test(l.srcset||""))||!l.src||E(l.src,n)||n.has1x||(n.srcset+=", "+l.src,n.cands.push({url:l.src,d:1,set:n}))):l.src&&l.sets.push({srcset:l.src,sizes:null}),l.curCan=null,l.curSrc=u,l.supported=!(a||n&&!M.supSrcset||o&&!M.supSizes),s&&M.supSrcset&&!l.supported&&(r?(R.call(t,F,r),t.srcset=""):I.call(t,F)),l.supported&&!l.srcset&&(!l.src&&t.src||t.src!==M.makeUrl(l.src))&&(null===l.src?t.removeAttribute("src"):t.src=l.src),l.parsed=!0},M.fillImg=function(t,e){var i,r,n,o,s,a=e.reselect||e.reevaluate;t[M.ns]||(t[M.ns]={}),i=t[M.ns],(a||i.evaled!==l)&&((!i.parsed||e.reevaluate)&&M.parseSets(t,t.parentNode,e),i.supported?i.evaled=l:(r=t,o=M.getSet(r),s=!1,"pending"!==o&&(s=l,o&&(n=M.setRes(o),M.applySetCandidate(n,r))),r[M.ns].evaled=s))},M.setupRun=function(){(!J||Y||K!==t.devicePixelRatio)&&(Y=!1,K=t.devicePixelRatio,q={},V={},M.DPR=K||1,Q.width=Math.max(t.innerWidth||0,L.clientWidth),Q.height=Math.max(t.innerHeight||0,L.clientHeight),Q.vw=Q.width/100,Q.vh=Q.height/100,l=[Q.height,Q.width,K].join("-"),Q.em=M.getEmValue(),Q.rem=Q.em)},M.supPicture?(ct=P,M.fillImg=P):(m=t.attachEvent?/d$|^c/:/d$|^c|^i/,v=function(){var t=o.readyState||"";g=setTimeout(v,"loading"===t?200:999),o.body&&(M.fillImgs(),(e=e||m.test(t))&&clearTimeout(g))},g=setTimeout(v,o.body?9:99),y=L.clientHeight,st(t,"resize",(i=function(){Y=Math.max(t.innerWidth||0,L.clientWidth)!==Q.width||L.clientHeight!==y,y=L.clientHeight,Y&&M.fillImgs()},a=99,p=function(){var t=new Date-f;t<a?d=setTimeout(p,a-t):(d=null,i())},function(){f=new Date,d||(d=setTimeout(p,a))})),st(o,"readystatechange",v)),M.picturefill=ct,M.fillImgs=ct,M.teardownRun=P,ct._=M,t.picturefillCFG={pf:M,push:function(t){var e=t.shift();"function"==typeof M[e]?M[e].apply(M,t):(B[e]=t[0],J&&M.fillImgs({reselect:!0}))}};for(;X&&X.length;)t.picturefillCFG.push(X.shift());t.picturefill=ct,"object"==typeof module&&"object"==typeof module.exports?module.exports=ct:"function"==typeof define&&define.amd&&define("picturefill",function(){return ct}),M.supPicture||(N["image/webp"]=(T="image/webp",C="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(O=new t.Image).onerror=function(){N[T]=!1,ct()},O.onload=function(){N[T]=1===O.width,ct()},O.src=C,"pending"))}(window,document),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PIXI=t()}}(function(){return function o(s,a,l){function u(e,t){if(!a[e]){if(!s[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(c)return c(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var n=a[e]={exports:{}};s[e][0].call(n.exports,function(t){return u(s[e][1][t]||t)},n,n.exports,o,s,a,l)}return a[e].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,i){"use strict";"use restrict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}i.INT_BITS=32,i.INT_MAX=2147483647,i.INT_MIN=-1<<31,i.sign=function(t){return(0<t)-(t<0)},i.abs=function(t){var e=t>>31;return(t^e)-e},i.min=function(t,e){return e^(t^e)&-(t<e)},i.max=function(t,e){return t^(t^e)&-(t<e)},i.isPow2=function(t){return!(t&t-1||!t)},i.log2=function(t){var e,i;return e=(65535<t)<<4,e|=i=(255<(t>>>=e))<<3,e|=i=(15<(t>>>=i))<<2,(e|=i=(3<(t>>>=i))<<1)|(t>>>=i)>>1},i.log10=function(t){return 1e9<=t?9:1e8<=t?8:1e7<=t?7:1e6<=t?6:1e5<=t?5:1e4<=t?4:1e3<=t?3:100<=t?2:10<=t?1:0},i.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},i.countTrailingZeros=r,i.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},i.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},i.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var i=e,r=e,n=7;for(i>>>=1;i;i>>>=1)r<<=1,r|=1&i,--n;t[e]=r<<n&255}}(n),i.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},i.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},i.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},i.interleave3=function(t,e,i){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<2},i.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},i.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},{}],2:[function(t,e,i){"use strict";function r(t,e,i){i=i||2;var r,n,o,s,a,l,u,c=e&&e.length,h=c?e[0]*i:t.length,d=m(t,0,h,i,!0),f=[];if(!d)return f;if(c&&(d=function(t,e,i,r){var n,o,s,a,l,u=[];for(n=0,o=e.length;n<o;n++)s=e[n]*r,a=n<o-1?e[n+1]*r:t.length,(l=m(t,s,a,r,!1))===l.next&&(l.steiner=!0),u.push(_(l));for(u.sort(y),n=0;n<u.length;n++)b(u[n],i),i=v(i,i.next);return i}(t,e,d,i)),t.length>80*i){r=o=t[0],n=s=t[1];for(var p=i;p<h;p+=i)(a=t[p])<r&&(r=a),(l=t[p+1])<n&&(n=l),o<a&&(o=a),s<l&&(s=l);u=0!==(u=Math.max(o-r,s-n))?1/u:0}return g(d,f,i,r,n,u),f}function m(t,e,i,r,n){var o,s;if(n===0<O(t,e,i,r))for(o=e;o<i;o+=r)s=l(o,t[o],t[o+1],s);else for(o=i-r;e<=o;o-=r)s=l(o,t[o],t[o+1],s);return s&&a(s,s.next)&&(C(s),s=s.next),s}function v(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!a(r,r.next)&&0!==T(r.prev,r,r.next))r=r.next;else{if(C(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function g(t,e,i,r,n,o,s){if(t){!s&&o&&function(t,e,i,r){var n=t;for(;null===n.z&&(n.z=x(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next,n!==t;);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,s,a,l,u=1;do{for(i=t,o=t=null,s=0;i;){for(s++,r=i,e=a=0;e<u&&(a++,r=r.nextZ);e++);for(l=u;0<a||0<l&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(i=(n=i).nextZ,a--):(r=(n=r).nextZ,l--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,u*=2}while(1<s)}(n)}(t,r,n,o);for(var a,l,u=t;t.prev!==t.next;)if(a=t.prev,l=t.next,o?h(t,r,n,o):c(t))e.push(a.i/i),e.push(t.i/i),e.push(l.i/i),C(t),t=l.next,u=l.next;else if((t=l)===u){s?1===s?g(t=d(t,e,i),e,i,r,n,o,2):2===s&&f(t,e,i,r,n,o):g(v(t),e,i,r,n,o,1);break}}}function c(t){var e=t.prev,i=t,r=t.next;if(0<=T(e,i,r))return!1;for(var n=t.next.next;n!==t.prev;){if(w(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&0<=T(n.prev,n,n.next))return!1;n=n.next}return!0}function h(t,e,i,r){var n=t.prev,o=t,s=t.next;if(0<=T(n,o,s))return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,l=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,c=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,h=x(a,l,e,i,r),d=x(u,c,e,i,r),f=t.prevZ,p=t.nextZ;f&&f.z>=h&&p&&p.z<=d;){if(f!==t.prev&&f!==t.next&&w(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&0<=T(f.prev,f,f.next))return!1;if(f=f.prevZ,p!==t.prev&&p!==t.next&&w(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&0<=T(p.prev,p,p.next))return!1;p=p.nextZ}for(;f&&f.z>=h;){if(f!==t.prev&&f!==t.next&&w(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&0<=T(f.prev,f,f.next))return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&w(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&0<=T(p.prev,p,p.next))return!1;p=p.nextZ}return!0}function d(t,e,i){var r=t;do{var n=r.prev,o=r.next.next;!a(n,o)&&p(n,r,r.next,o)&&S(n,o)&&S(o,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(o.i/i),C(r),C(r.next),r=t=o),r=r.next}while(r!==t);return r}function f(t,e,i,r,n,o){var s,a,l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&(a=u,(s=l).next.i!==a.i&&s.prev.i!==a.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&p(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(s,a)&&S(s,a)&&S(a,s)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;for(;i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next,i!==t;);return r}(s,a))){var c=E(l,u);return l=v(l,l.next),c=v(c,c.next),g(l,e,i,r,n,o),void g(c,e,i,r,n,o)}u=u.next}l=l.next}while(l!==t)}function y(t,e){return t.x-e.x}function b(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&s<a){if((s=a)===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===s)return i.prev;var l,u=i,c=i.x,h=i.y,d=1/0;for(r=i.next;r!==u;)n>=r.x&&r.x>=c&&n!==r.x&&w(o<h?n:s,o,c,h,o<h?s:n,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(n-r.x))<d||l===d&&r.x>i.x)&&S(r,t)&&(i=r,d=l),r=r.next;return i}(t,e)){var i=E(e,t);v(i,i.next)}}function x(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function _(t){for(var e=t,i=t;e.x<i.x&&(i=e),(e=e.next)!==t;);return i}function w(t,e,i,r,n,o,s,a){return 0<=(n-s)*(e-a)-(t-s)*(o-a)&&0<=(t-s)*(r-a)-(i-s)*(e-a)&&0<=(i-s)*(o-a)-(n-s)*(r-a)}function T(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function a(t,e){return t.x===e.x&&t.y===e.y}function p(t,e,i,r){return!!(a(t,e)&&a(i,r)||a(t,r)&&a(i,e))||0<T(t,e,i)!=0<T(t,e,r)&&0<T(i,r,t)!=0<T(i,r,e)}function S(t,e){return T(t.prev,t,t.next)<0?0<=T(t,e,t.next)&&0<=T(t,t.prev,e):T(t,e,t.prev)<0||T(t,t.next,e)<0}function E(t,e){var i=new s(t.i,t.x,t.y),r=new s(e.i,e.x,e.y),n=t.next,o=e.prev;return(t.next=e).prev=t,(i.next=n).prev=i,(r.next=i).prev=r,(o.next=r).prev=o,r}function l(t,e,i,r){var n=new s(t,e,i);return r?(n.next=r.next,(n.prev=r).next.prev=n,r.next=n):(n.prev=n).next=n,n}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function s(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,i,r){for(var n=0,o=e,s=i-r;o<i;o+=r)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}e.exports=r,(e.exports.default=r).deviation=function(t,e,i,r){var n=e&&e.length,o=n?e[0]*i:t.length,s=Math.abs(O(t,0,o,i));if(n)for(var a=0,l=e.length;a<l;a++){var u=e[a]*i,c=a<l-1?e[a+1]*i:t.length;s-=Math.abs(O(t,u,c,i))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,f=r[a+1]*i,p=r[a+2]*i;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},r.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[n][o][s]);0<n&&(r+=t[n-1].length,i.holes.push(r))}return i}},{}],3:[function(t,e,i){"use strict";function u(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(){this._events=new u,this._eventsCount=0}var n=Object.prototype.hasOwnProperty,f="~";Object.create&&(u.prototype=Object.create(null),(new u).__proto__||(f=!1)),r.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},r.prototype.listeners=function(t,e){var i=f?f+t:t,r=this._events[i];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,s=new Array(o);n<o;n++)s[n]=r[n].fn;return s},r.prototype.emit=function(t,e,i,r,n,o){var s=f?f+t:t;if(!this._events[s])return!1;var a,l,u=this._events[s],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,r),!0;case 5:return u.fn.call(u.context,e,i,r,n),!0;case 6:return u.fn.call(u.context,e,i,r,n,o),!0}for(l=1,a=new Array(c-1);l<c;l++)a[l-1]=arguments[l];u.fn.apply(u.context,a)}else{var h,d=u.length;for(l=0;l<d;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,i);break;case 4:u[l].fn.call(u[l].context,e,i,r);break;default:if(!a)for(h=1,a=new Array(c-1);h<c;h++)a[h-1]=arguments[h];u[l].fn.apply(u[l].context,a)}}return!0},r.prototype.on=function(t,e,i){var r=new o(e,i||this),n=f?f+t:t;return this._events[n]?this._events[n].fn?this._events[n]=[this._events[n],r]:this._events[n].push(r):(this._events[n]=r,this._eventsCount++),this},r.prototype.once=function(t,e,i){var r=new o(e,i||this,!0),n=f?f+t:t;return this._events[n]?this._events[n].fn?this._events[n]=[this._events[n],r]:this._events[n].push(r):(this._events[n]=r,this._eventsCount++),this},r.prototype.removeListener=function(t,e,i,r){var n=f?f+t:t;if(!this._events[n])return this;if(!e)return 0==--this._eventsCount?this._events=new u:delete this._events[n],this;var o=this._events[n];if(o.fn)o.fn!==e||r&&!o.once||i&&o.context!==i||(0==--this._eventsCount?this._events=new u:delete this._events[n]);else{for(var s=0,a=[],l=o.length;s<l;s++)(o[s].fn!==e||r&&!o[s].once||i&&o[s].context!==i)&&a.push(o[s]);a.length?this._events[n]=1===a.length?a[0]:a:0==--this._eventsCount?this._events=new u:delete this._events[n]}return this},r.prototype.removeAllListeners=function(t){var e;return t?(e=f?f+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new u:delete this._events[e])):(this._events=new u,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=f,r.EventEmitter=r,void 0!==e&&(e.exports=r)},{}],4:[function(t,e,i){var r,n,o,s,a,l,u,c,h,d,f,p,m,v,g,y,b,x,_;r=this,n=/iPhone/i,o=/iPod/i,s=/iPad/i,a=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,l=/Android/i,u=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,c=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,h=/Windows Phone/i,d=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,f=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/(CriOS|Chrome)(?=.*\bMobile\b)/i,g=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,y=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),b=function(t,e){return t.test(e)},x=function(t){var e=t||navigator.userAgent,i=e.split("[FBAN");if(void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]),this.apple={phone:b(n,e),ipod:b(o,e),tablet:!b(n,e)&&b(s,e),device:b(n,e)||b(o,e)||b(s,e)},this.amazon={phone:b(u,e),tablet:!b(u,e)&&b(c,e),device:b(u,e)||b(c,e)},this.android={phone:b(u,e)||b(a,e),tablet:!b(u,e)&&!b(a,e)&&(b(c,e)||b(l,e)),device:b(u,e)||b(c,e)||b(a,e)||b(l,e)},this.windows={phone:b(h,e),tablet:b(d,e),device:b(h,e)||b(d,e)},this.other={blackberry:b(f,e),blackberry10:b(p,e),opera:b(m,e),firefox:b(g,e),chrome:b(v,e),device:b(f,e)||b(p,e)||b(m,e)||b(g,e)||b(v,e)},this.seven_inch=b(y,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},_=function(){var t=new x;return t.Class=x,t},void 0!==e&&e.exports&&"undefined"==typeof window?e.exports=x:void 0!==e&&e.exports&&"undefined"!=typeof window?e.exports=_():r.isMobile=_()},{}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=function(){function r(t,e,i){void 0===e&&(e=!1),n(this,r),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}return o(r,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),r}(),a=function(){function t(){n(this,t),this._head=this._tail=void 0}return o(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return r(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return r(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,i.default=a,e.exports=i.default},{}],6:[function(t,e,i){"use strict";var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,r,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var s in i=Object(arguments[o]))u.call(i,s)&&(n[s]=i[s]);if(l){r=l(i);for(var a=0;a<r.length;a++)c.call(i,r[a])&&(n[r[a]]=i[r[a]])}}return n}},{}],7:[function(t,e,i){"use strict";e.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(t,e,i){e&&(n[r.q.name][e]=i)}),n}},{}],8:[function(t,e,u){(function(n){function o(t,e){for(var i=0,r=t.length-1;0<=r;r--){var n=t[r];"."===n?t.splice(r,1):".."===n?(t.splice(r,1),i++):i&&(t.splice(r,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function s(t,e){if(t.filter)return t.filter(e);for(var i=[],r=0;r<t.length;r++)e(t[r],r,t)&&i.push(t[r]);return i}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(t){return e.exec(t).slice(1)};u.resolve=function(){for(var t="",e=!1,i=arguments.length-1;-1<=i&&!e;i--){var r=0<=i?arguments[i]:n.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return(e?"/":"")+(t=o(s(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},u.normalize=function(t){var e=u.isAbsolute(t),i="/"===r(t,-1);return(t=o(s(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t},u.isAbsolute=function(t){return"/"===t.charAt(0)},u.join=function(){var t=Array.prototype.slice.call(arguments,0);return u.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},u.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;0<=i&&""===t[i];i--);return i<e?[]:t.slice(e,i-e+1)}t=u.resolve(t).substr(1),e=u.resolve(e).substr(1);for(var r=i(t.split("/")),n=i(e.split("/")),o=Math.min(r.length,n.length),s=o,a=0;a<o;a++)if(r[a]!==n[a]){s=a;break}var l=[];for(a=s;a<r.length;a++)l.push("..");return(l=l.concat(n.slice(s))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(t){var e=a(t),i=e[0],r=e[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},u.basename=function(t,e){var i=a(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},u.extname=function(t){return a(t)[3]};var r="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,t("_process"))},{_process:26}],9:[function(t,e,i){var n=new ArrayBuffer(0),o=function(t,e,i,r){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=r||t.STATIC_DRAW,this.data=n,i&&this.upload(i),this._updateID=0};o.prototype.upload=function(t,e,i){i||this.bind();var r=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?r.bufferSubData(this.type,e,t):r.bufferData(this.type,t,this.drawType),this.data=t},o.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},o.createVertexBuffer=function(t,e,i){return new o(t,t.ARRAY_BUFFER,e,i)},o.createIndexBuffer=function(t,e,i){return new o(t,t.ELEMENT_ARRAY_BUFFER,e,i)},o.create=function(t,e,i,r){return new o(t,e,i,r)},o.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=o},{}],10:[function(t,e,i){var s=t("./GLTexture"),a=function(t,e,i){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=i||100};a.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new s(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},a.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},a.prototype.clear=function(t,e,i,r){this.bind();var n=this.gl;n.clearColor(t,e,i,r),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},a.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},a.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},a.prototype.resize=function(t,e){var i=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(i.bindRenderbuffer(i.RENDERBUFFER,this.stencil),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t,e))},a.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},a.createRGBA=function(t,e,i,r){var n=s.fromData(t,null,e,i);n.enableNearestScaling(),n.enableWrapClamp();var o=new a(t,e,i);return o.enableTexture(n),o.unbind(),o},a.createFloat32=function(t,e,i,r){var n=new s.fromData(t,r,e,i);n.enableNearestScaling(),n.enableWrapClamp();var o=new a(t,e,i);return o.enableTexture(n),o.unbind(),o},e.exports=a},{"./GLTexture":12}],11:[function(t,e,i){var o=t("./shader/compileProgram"),s=t("./shader/extractAttributes"),a=t("./shader/extractUniforms"),l=t("./shader/setPrecision"),u=t("./shader/generateUniformAccessObject"),r=function(t,e,i,r,n){this.gl=t,r&&(e=l(e,r),i=l(i,r)),this.program=o(t,e,i,n),this.attributes=s(t,this.program),this.uniformData=a(t,this.program),this.uniforms=u(t,this.uniformData)};r.prototype.bind=function(){return this.gl.useProgram(this.program),this},r.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=r},{"./shader/compileProgram":17,"./shader/extractAttributes":19,"./shader/extractUniforms":20,"./shader/generateUniformAccessObject":21,"./shader/setPrecision":25}],12:[function(t,e,i){var o=function(t,e,i,r,n){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=i||-1,this.format=r||t.RGBA,this.type=n||t.UNSIGNED_BYTE},n=!(o.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var i=t.videoWidth||t.width,r=t.videoHeight||t.height;r!==this.height||i!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=i,this.height=r});o.prototype.uploadData=function(t,e,i){this.bind();var r=this.gl;if(t instanceof Float32Array){if(!n){if(!r.getExtension("OES_texture_float"))throw new Error("floating point textures not available");n=!0}this.type=r.FLOAT}else this.type=this.type||r.UNSIGNED_BYTE;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||i!==this.height?r.texImage2D(r.TEXTURE_2D,0,this.format,e,i,0,this.format,this.type,t||null):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e,i,this.format,this.type,t||null),this.width=e,this.height=i},o.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},o.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},o.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},o.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},o.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},o.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},o.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},o.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},o.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},o.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},o.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},o.fromSource=function(t,e,i){var r=new o(t);return r.premultiplyAlpha=i||!1,r.upload(e),r},o.fromData=function(t,e,i,r){var n=new o(t);return n.uploadData(e,i,r),n},e.exports=o},{}],13:[function(t,e,i){function r(t,e){if(this.nativeVaoExtension=null,r.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var i=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(i),attribState:new Array(i)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var n=t("./setVertexAttribArrays");r.prototype.constructor=r,(e.exports=r).FORCE_NATIVE=!1,r.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},r.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},r.prototype.activate=function(){for(var t=this.gl,e=null,i=0;i<this.attributes.length;i++){var r=this.attributes[i];e!==r.buffer&&(r.buffer.bind(),e=r.buffer),t.vertexAttribPointer(r.attribute.location,r.attribute.size,r.type||t.FLOAT,r.normalized||!1,r.stride||0,r.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},r.prototype.addAttribute=function(t,e,i,r,n,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:i||this.gl.FLOAT,normalized:r||!1,stride:n||0,start:o||0}),this.dirty=!0,this},r.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},r.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},r.prototype.draw=function(t,e,i){var r=this.gl;return this.indexBuffer?r.drawElements(t,e||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(i||0)):r.drawArrays(t,i,e||this.getSize()),this},r.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},r.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},{"./setVertexAttribArrays":16}],14:[function(t,e,i){e.exports=function(t,e){var i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!i)throw new Error("This browser does not support webGL. Try using the canvas renderer");return i}},{}],15:[function(t,e,i){var r={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};void 0!==e&&e.exports&&(e.exports=r),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},{"./GLBuffer":9,"./GLFramebuffer":10,"./GLShader":11,"./GLTexture":12,"./VertexArrayObject":13,"./createContext":14,"./setVertexAttribArrays":16,"./shader":22}],16:[function(t,e,i){e.exports=function(t,e,i){var r;if(i){var n=i.tempAttribState,o=i.attribState;for(r=0;r<n.length;r++)n[r]=!1;for(r=0;r<e.length;r++)n[e[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==n[r]&&(o[r]=n[r],i.attribState[r]?t.enableVertexAttribArray(r):t.disableVertexAttribArray(r))}else for(r=0;r<e.length;r++){var s=e[r];t.enableVertexAttribArray(s.attribute.location)}}},{}],17:[function(t,e,i){var l=function(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)};e.exports=function(t,e,i,r){var n=l(t,t.VERTEX_SHADER,e),o=l(t,t.FRAGMENT_SHADER,i),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),r)for(var a in r)t.bindAttribLocation(s,r[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}},{}],18:[function(t,e,i){var r=function(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e};e.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],19:[function(t,e,i){var a=t("./mapType"),l=t("./mapSize"),u=function(t,e,i,r){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,i||0,r||0)};e.exports=function(t,e){for(var i={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var o=t.getActiveAttrib(e,n),s=a(t,o.type);i[o.name]={type:s,size:l(s),location:t.getAttribLocation(e,o.name),pointer:u}}return i}},{"./mapSize":23,"./mapType":24}],20:[function(t,e,i){var l=t("./mapType"),u=t("./defaultValue");e.exports=function(t,e){for(var i={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<r;n++){var o=t.getActiveUniform(e,n),s=o.name.replace(/\[.*?\]/,""),a=l(t,o.type);i[s]={type:a,size:o.size,location:t.getUniformLocation(e,s),value:u(a,o.size)}}return i}},{"./defaultValue":18,"./mapType":24}],21:[function(t,e,i){function c(i,r){return function(t){this.data[i].value=t;var e=this.data[i].location;1===r.size?n[r.type](this.gl,e,t):o[r.type](this.gl,e,t)}}function h(t,e){for(var i=e,r=0;r<t.length-1;r++){var n=i[t[r]]||{data:{}};i[t[r]]=n,i=n}return i}var d=function(t){return function(){return this.data[t].value}},n={float:function(t,e,i){t.uniform1f(e,i)},vec2:function(t,e,i){t.uniform2f(e,i[0],i[1])},vec3:function(t,e,i){t.uniform3f(e,i[0],i[1],i[2])},vec4:function(t,e,i){t.uniform4f(e,i[0],i[1],i[2],i[3])},int:function(t,e,i){t.uniform1i(e,i)},ivec2:function(t,e,i){t.uniform2i(e,i[0],i[1])},ivec3:function(t,e,i){t.uniform3i(e,i[0],i[1],i[2])},ivec4:function(t,e,i){t.uniform4i(e,i[0],i[1],i[2],i[3])},bool:function(t,e,i){t.uniform1i(e,i)},bvec2:function(t,e,i){t.uniform2i(e,i[0],i[1])},bvec3:function(t,e,i){t.uniform3i(e,i[0],i[1],i[2])},bvec4:function(t,e,i){t.uniform4i(e,i[0],i[1],i[2],i[3])},mat2:function(t,e,i){t.uniformMatrix2fv(e,!1,i)},mat3:function(t,e,i){t.uniformMatrix3fv(e,!1,i)},mat4:function(t,e,i){t.uniformMatrix4fv(e,!1,i)},sampler2D:function(t,e,i){t.uniform1i(e,i)}},o={float:function(t,e,i){t.uniform1fv(e,i)},vec2:function(t,e,i){t.uniform2fv(e,i)},vec3:function(t,e,i){t.uniform3fv(e,i)},vec4:function(t,e,i){t.uniform4fv(e,i)},int:function(t,e,i){t.uniform1iv(e,i)},ivec2:function(t,e,i){t.uniform2iv(e,i)},ivec3:function(t,e,i){t.uniform3iv(e,i)},ivec4:function(t,e,i){t.uniform4iv(e,i)},bool:function(t,e,i){t.uniform1iv(e,i)},bvec2:function(t,e,i){t.uniform2iv(e,i)},bvec3:function(t,e,i){t.uniform3iv(e,i)},bvec4:function(t,e,i){t.uniform4iv(e,i)},sampler2D:function(t,e,i){t.uniform1iv(e,i)}};e.exports=function(t,e){var i={data:{}};i.gl=t;for(var r=Object.keys(e),n=0;n<r.length;n++){var o=r[n],s=o.split("."),a=s[s.length-1],l=h(s,i),u=e[o];l.data[a]=u,l.gl=t,Object.defineProperty(l,a,{get:d(a),set:c(a,u)})}return i}},{}],22:[function(t,e,i){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),setPrecision:t("./setPrecision"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":17,"./defaultValue":18,"./extractAttributes":19,"./extractUniforms":20,"./generateUniformAccessObject":21,"./mapSize":23,"./mapType":24,"./setPrecision":25}],23:[function(t,e,i){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(t){return r[t]}},{}],24:[function(t,e,i){var o=null,s={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(t,e){if(!o){var i=Object.keys(s);o={};for(var r=0;r<i.length;++r){var n=i[r];o[t[n]]=s[n]}}return o[e]}},{}],25:[function(t,e,i){e.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},{}],26:[function(t,e,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function s(){m&&f&&(m=!1,f.length?p=f.concat(p):v=-1,p.length&&a())}function a(){if(!m){var t=o(s);m=!0;for(var e=p.length;e;){for(f=p,p=[];++v<e;)f&&f[v].run();v=-1,e=p.length}f=null,m=!1,function(e){if(h===clearTimeout)return clearTimeout(e);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var f,p=[],m=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||m||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],27:[function(t,D,R){(function(k){!function(t){function g(t){throw new RangeError(m[t])}function n(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function e(t,e){var i=t.split("@"),r="";return 1<i.length&&(r=i[0]+"@",t=i[1]),r+n((t=t.replace(p,".")).split("."),e).join(".")}function y(t){for(var e,i,r=[],n=0,o=t.length;n<o;)55296<=(e=t.charCodeAt(n++))&&e<=56319&&n<o?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function b(t){return n(t,function(t){var e="";return 65535<t&&(e+=P((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+P(t)}).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,i){var r=0;for(t=i?A(t/h):t>>1,t+=A(t/e);v*E>>1<t;r+=T)t=A(t/v);return A(r+(v+1)*t/(t+c))}function i(t){var e,i,r,n,o,s,a,l,u,c,h,d=[],f=t.length,p=0,m=O,v=C;for((i=t.lastIndexOf(M))<0&&(i=0),r=0;r<i;++r)128<=t.charCodeAt(r)&&g("not-basic"),d.push(t.charCodeAt(r));for(n=0<i?i+1:0;n<f;){for(o=p,s=1,a=T;f<=n&&g("invalid-input"),h=t.charCodeAt(n++),(T<=(l=h-48<10?h-22:h-65<26?h-65:h-97<26?h-97:T)||l>A((w-p)/s))&&g("overflow"),p+=l*s,!(l<(u=a<=v?S:v+E<=a?E:a-v));a+=T)s>A(w/(c=T-u))&&g("overflow"),s*=c;v=_(p-o,e=d.length+1,0==o),A(p/e)>w-m&&g("overflow"),m+=A(p/e),p%=e,d.splice(p++,0,m)}return b(d)}function r(t){var e,i,r,n,o,s,a,l,u,c,h,d,f,p,m,v=[];for(d=(t=y(t)).length,e=O,o=C,s=i=0;s<d;++s)(h=t[s])<128&&v.push(P(h));for(r=n=v.length,n&&v.push(M);r<d;){for(a=w,s=0;s<d;++s)(h=t[s])>=e&&h<a&&(a=h);for(a-e>A((w-i)/(f=r+1))&&g("overflow"),i+=(a-e)*f,e=a,s=0;s<d;++s)if((h=t[s])<e&&++i>w&&g("overflow"),h==e){for(l=i,u=T;!(l<(c=u<=o?S:o+E<=u?E:u-o));u+=T)m=l-c,p=T-c,v.push(P(x(c+m%p,0))),l=A(m/p);v.push(P(x(l,0))),o=_(i,f,r==n),i=0,++r}++i,++e}return v.join("")}var o="object"==typeof R&&R&&!R.nodeType&&R,s="object"==typeof D&&D&&!D.nodeType&&D,a="object"==typeof k&&k;a.global!==a&&a.window!==a&&a.self!==a||(t=a);var l,u,w=2147483647,T=36,S=1,E=26,c=38,h=700,C=72,O=128,M="-",d=/^xn--/,f=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=T-S,A=Math.floor,P=String.fromCharCode;if(l={version:"1.4.1",ucs2:{decode:y,encode:b},decode:i,encode:r,toASCII:function(t){return e(t,function(t){return f.test(t)?"xn--"+r(t):t})},toUnicode:function(t){return e(t,function(t){return d.test(t)?i(t.slice(4).toLowerCase()):t})}},o&&s)if(D.exports==o)s.exports=l;else for(u in l)l.hasOwnProperty(u)&&(o[u]=l[u]);else t.punycode=l}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,i){"use strict";e.exports=function(t,e,i,r){e=e||"&",i=i||"=";var n={};if("string"!=typeof t||0===t.length)return n;var o=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a,l,u=t.length;0<s&&s<u&&(u=s);for(var c=0;c<u;++c){var h,d,f,p,m=t[c].replace(o,"%20"),v=m.indexOf(i);0<=v?(h=m.substr(0,v),d=m.substr(v+1)):(h=m,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),a=n,l=f,Object.prototype.hasOwnProperty.call(a,l)?g(n[f])?n[f].push(p):n[f]=[n[f],p]:n[f]=p}return n};var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],29:[function(t,e,i){"use strict";function o(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r++)i.push(e(t[r],r));return i}var s=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(i,r,n,t){return r=r||"&",n=n||"=",null===i&&(i=void 0),"object"==typeof i?o(l(i),function(t){var e=encodeURIComponent(s(t))+n;return a(i[t])?o(i[t],function(t){return e+encodeURIComponent(s(t))}).join(r):e+encodeURIComponent(s(i[t]))}).join(r):t?encodeURIComponent(s(t))+n+encodeURIComponent(s(i)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},l=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},{}],30:[function(t,e,i){"use strict";i.decode=i.parse=t("./decode"),i.encode=i.stringify=t("./encode")},{"./decode":28,"./encode":29}],31:[function(t,e,i){"use strict";e.exports=function(t,e,i){var r,n=t.length;if(!(n<=e||0===i)){var o=n-(i=n<e+i?n-e:i);for(r=e;r<o;++r)t[r]=t[r+i];t.length=o}}},{}],32:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=r(t("mini-signals")),s=r(t("parse-uri")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./async")),h=r(t("./Resource")),l=/(#[\w-]+)?$/,u=function(){function r(){var i=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=a.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return r.prototype.add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"===(void 0===t?"undefined":c(t))&&(r=e||t.callback||t.onComplete,e=(i=t).url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(r=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new h.default(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=i.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var l=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=l;for(var u=0;u<s.length;++u)s[u].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},r.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},r.prototype.use=function(t){return this._afterMiddleware.push(t),this},r.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},r.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},r.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),i=void 0;if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=l.exec(i)[0];-1!==(i=i.substr(0,i.length-r.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=r}return i},r.prototype._loadResource=function(i,t){var r=this;i._dequeue=t,a.eachSeries(this._beforeMiddleware,function(t,e){t.call(r,i,function(){e(i.isComplete?{}:null)})},function(){i.isComplete?r._onLoad(i):(i._onLoadBinding=i.onComplete.once(r._onLoad,r),i.load())},!0)},r.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},r.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},r.prototype._onLoad=function(i){var r=this;i._onLoadBinding=null,this._resourcesParsing.push(i),i._dequeue(),a.eachSeries(this._afterMiddleware,function(t,e){t.call(r,i,e)},function(){i.onAfterMiddleware.dispatch(i),r.progress+=i.progressChunk,r.onProgress.dispatch(r,i),i.error?r.onError.dispatch(i.error,r,i):r.onLoad.dispatch(r,i),r._resourcesParsing.splice(r._resourcesParsing.indexOf(i),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},n(r,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),r}();i.default=u},{"./Resource":33,"./async":34,"mini-signals":5,"parse-uri":7}],33:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(){}function s(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function a(t){return t.toString().replace("object ","")}i.__esModule=!0;var l=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),u=r(t("parse-uri")),c=r(t("mini-signals")),h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),d=null,o=function(){function o(t,e,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(o.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=o.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=n,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new c.default,this.onProgress=new c.default,this.onComplete=new c.default,this.onAfterMiddleware=new c.default}return o.setExtensionLoadType=function(t,e){s(o._loadTypeMap,t,e)},o.setExtensionXhrType=function(t,e){s(o._xhrTypeMap,t,e)},o.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(o.STATUS_FLAGS.COMPLETE,!0),this._setFlag(o.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},o.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=o.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},o.prototype.load=function(t){var e=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(e)},1));switch(t&&this.onComplete.once(t),this._setFlag(o.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case o.LOAD_TYPE.IMAGE:this.type=o.TYPE.IMAGE,this._loadElement("image");break;case o.LOAD_TYPE.AUDIO:this.type=o.TYPE.AUDIO,this._loadSourceElement("audio");break;case o.LOAD_TYPE.VIDEO:this.type=o.TYPE.VIDEO,this._loadSourceElement("video");break;case o.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},o.prototype._hasFlag=function(t){return!!(this._flags&t)},o.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},o.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},o.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},o.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===o.XHR_RESPONSE_TYPE.JSON||this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=o.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},o.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},o.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},o.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},o.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},o.prototype._xhrOnError=function(){var t=this.xhr;this.abort(a(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},o.prototype._xhrOnAbort=function(){this.abort(a(this.xhr)+" Request was aborted by the user.")},o.prototype._xdrOnTimeout=function(){this.abort(a(this.xhr)+" Request timed out.")},o.prototype._xhrOnLoad=function(){var t=this.xhr,e="",i=void 0===t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(e=t.responseText),0===i&&(0<e.length||t.responseType===o.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===o.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=o.TYPE.TEXT;else if(this.xhrType===o.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=o.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(e,"text/xml")}else{var n=document.createElement("div");n.innerHTML=e,this.data=n}this.type=o.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},o.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,d||(d=document.createElement("a")),d.href=t;var i=!(t=(0,u.default)(d.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},o.prototype._determineXhrType=function(){return o._xhrTypeMap[this.extension]||o.XHR_RESPONSE_TYPE.TEXT},o.prototype._determineLoadType=function(){return o._loadTypeMap[this.extension]||o.LOAD_TYPE.XHR},o.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(-1<r?r:t.length,-1<n?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},o.prototype._getMimeFromXhrType=function(t){switch(t){case o.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case o.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case o.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case o.XHR_RESPONSE_TYPE.JSON:return"application/json";case o.XHR_RESPONSE_TYPE.DEFAULT:case o.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},l(o,[{key:"isDataUrl",get:function(){return this._hasFlag(o.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(o.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(o.STATUS_FLAGS.LOADING)}}]),o}();(i.default=o).STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},o.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},o.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},o.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},o._loadTypeMap={gif:o.LOAD_TYPE.IMAGE,png:o.LOAD_TYPE.IMAGE,bmp:o.LOAD_TYPE.IMAGE,jpg:o.LOAD_TYPE.IMAGE,jpeg:o.LOAD_TYPE.IMAGE,tif:o.LOAD_TYPE.IMAGE,tiff:o.LOAD_TYPE.IMAGE,webp:o.LOAD_TYPE.IMAGE,tga:o.LOAD_TYPE.IMAGE,svg:o.LOAD_TYPE.IMAGE,"svg+xml":o.LOAD_TYPE.IMAGE,mp3:o.LOAD_TYPE.AUDIO,ogg:o.LOAD_TYPE.AUDIO,wav:o.LOAD_TYPE.AUDIO,mp4:o.LOAD_TYPE.VIDEO,webm:o.LOAD_TYPE.VIDEO},o._xhrTypeMap={xhtml:o.XHR_RESPONSE_TYPE.DOCUMENT,html:o.XHR_RESPONSE_TYPE.DOCUMENT,htm:o.XHR_RESPONSE_TYPE.DOCUMENT,xml:o.XHR_RESPONSE_TYPE.DOCUMENT,tmx:o.XHR_RESPONSE_TYPE.DOCUMENT,svg:o.XHR_RESPONSE_TYPE.DOCUMENT,tsx:o.XHR_RESPONSE_TYPE.DOCUMENT,gif:o.XHR_RESPONSE_TYPE.BLOB,png:o.XHR_RESPONSE_TYPE.BLOB,bmp:o.XHR_RESPONSE_TYPE.BLOB,jpg:o.XHR_RESPONSE_TYPE.BLOB,jpeg:o.XHR_RESPONSE_TYPE.BLOB,tif:o.XHR_RESPONSE_TYPE.BLOB,tiff:o.XHR_RESPONSE_TYPE.BLOB,webp:o.XHR_RESPONSE_TYPE.BLOB,tga:o.XHR_RESPONSE_TYPE.BLOB,json:o.XHR_RESPONSE_TYPE.JSON,text:o.XHR_RESPONSE_TYPE.TEXT,txt:o.XHR_RESPONSE_TYPE.TEXT,ttf:o.XHR_RESPONSE_TYPE.BUFFER,otf:o.XHR_RESPONSE_TYPE.BUFFER},o.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":5,"parse-uri":7}],34:[function(t,e,i){"use strict";function s(){}function a(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}i.__esModule=!0,i.eachSeries=function(i,r,n,o){var s=0,a=i.length;!function t(e){e||s===a?n&&n(e):o?setTimeout(function(){r(i[s++],t)},1):r(i[s++],t)}()},i.queue=function(e,t){function i(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var r={data:t,callback:"function"==typeof i?i:s};e?o._tasks.unshift(r):o._tasks.push(r),setTimeout(function(){return o.process()},1)}}function r(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),n<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=0,o={_tasks:[],concurrency:t,saturated:s,unsaturated:s,buffer:t/4,empty:s,drain:s,error:s,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){n=0,o.drain=s,o.started=!1,o._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!o.paused&&n<o.concurrency&&o._tasks.length;){var t=o._tasks.shift();0===o._tasks.length&&o.empty(),(n+=1)===o.concurrency&&o.saturated(),e(t.data,a(r(t)))}},length:function(){return o._tasks.length},running:function(){return n},idle:function(){return o._tasks.length+n===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};return o}},{}],35:[function(t,e,i){"use strict";i.__esModule=!0,i.encodeBinary=function(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],o=0;o<r.length;++o)i<t.length?r[o]=255&t.charCodeAt(i++):r[o]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+=a.charAt(n[s])}return e};var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],36:[function(t,e,i){"use strict";var r=t("./Loader").default,n=t("./Resource").default,o=t("./async"),s=t("./b64");r.Resource=n,r.async=o,r.base64=s,e.exports=r,e.exports.default=r},{"./Loader":32,"./Resource":33,"./async":34,"./b64":35}],37:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===s.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=(n=l.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=n,t.type=s.default.TYPE.IMAGE,t.data.onload=function(){l.revokeObjectURL(n),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===i?"undefined":o(i)))return i.v}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+a.default.encodeBinary(t.xhr.responseText),t.type=s.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var n;e()}else e()}};var s=r(t("../../Resource")),a=r(t("../../b64")),l=window.URL||window.webkitURL},{"../../Resource":33,"../../b64":35}],38:[function(t,e,i){"use strict";function O(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,i){if(t&&I.isObject(t)&&t instanceof O)return t;var r=new O;return r.parse(t,e,i),r}var R=t("punycode"),I=t("./util");i.parse=r,i.resolve=function(t,e){return r(t,!1,!0).resolve(e)},i.resolveObject=function(t,e){return t?r(t,!1,!0).resolveObject(e):e},i.format=function(t){return I.isString(t)&&(t=r(t)),t instanceof O?t.format():O.prototype.format.call(t)},i.Url=O;var L=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,N=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),B=["'"].concat(o),j=["%","/","?",";","#"].concat(B),F=["/","?","#"],$=/^[+a-z0-9A-Z_-]{0,63}$/,U=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,z={javascript:!0,"javascript:":!0},W={javascript:!0,"javascript:":!0},H={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},X=t("querystring");O.prototype.parse=function(t,e,i){if(!I.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),n=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(n);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(n);if(s=s.trim(),!i&&1===t.split("#").length){var a=N.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?X.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=L.exec(s);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,s=s.substr(l.length)}if(i||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===s.substr(0,2);!c||l&&W[l]||(s=s.substr(2),this.slashes=!0)}if(!W[l]&&(c||l&&!H[l])){for(var h=-1,d=0;d<F.length;d++){-1!==(m=s.indexOf(F[d]))&&(-1===h||m<h)&&(h=m)}var f,p;-1!==(p=-1===h?s.lastIndexOf("@"):s.lastIndexOf("@",h))&&(f=s.slice(0,p),s=s.slice(p+1),this.auth=decodeURIComponent(f)),h=-1;for(d=0;d<j.length;d++){var m;-1!==(m=s.indexOf(j[d]))&&(-1===h||m<h)&&(h=m)}-1===h&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),y=(d=0,g.length);d<y;d++){var b=g[d];if(b&&!b.match($)){for(var x="",_=0,w=b.length;_<w;_++)127<b.charCodeAt(_)?x+="x":x+=b[_];if(!x.match($)){var T=g.slice(0,d),S=g.slice(d+1),E=b.match(U);E&&(T.push(E[1]),S.unshift(E[2])),S.length&&(s="/"+S.join(".")+s),this.hostname=T.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=R.toASCII(this.hostname));var C=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+C,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!z[u])for(d=0,y=B.length;d<y;d++){var M=B[d];if(-1!==s.indexOf(M)){var A=encodeURIComponent(M);A===M&&(A=escape(M)),s=s.split(M).join(A)}}var P=s.indexOf("#");-1!==P&&(this.hash=s.substr(P),s=s.slice(0,P));var k=s.indexOf("?");if(-1!==k?(this.search=s.substr(k),this.query=s.substr(k+1),e&&(this.query=X.parse(this.query)),s=s.slice(0,k)):e&&(this.search="",this.query={}),s&&(this.pathname=s),H[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){C=this.pathname||"";var D=this.search||"";this.path=C+D}return this.href=this.format(),this},O.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&I.isObject(this.query)&&Object.keys(this.query).length&&(o=X.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||H[e])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+n+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},O.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},O.prototype.resolveObject=function(t){if(I.isString(t)){var e=new O;e.parse(t,!1,!0),t=e}for(var i=new O,r=Object.keys(this),n=0;n<r.length;n++){var o=r[n];i[o]=this[o]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(i[l]=t[l])}return H[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!H[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];i[h]=t[h]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||W[t.protocol])i.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),i.pathname=d.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var f=i.pathname||"",p=i.search||"";i.path=f+p}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var m=i.pathname&&"/"===i.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=v||m||i.host&&t.pathname,y=g,b=i.pathname&&i.pathname.split("/")||[],x=(d=t.pathname&&t.pathname.split("/")||[],i.protocol&&!H[i.protocol]);if(x&&(i.hostname="",i.port=null,i.host&&(""===b[0]?b[0]=i.host:b.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),g=g&&(""===d[0]||""===b[0])),v)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,b=d;else if(d.length)b||(b=[]),b.pop(),b=b.concat(d),i.search=t.search,i.query=t.query;else if(!I.isNullOrUndefined(t.search)){if(x)i.hostname=i.host=b.shift(),(E=!!(i.host&&0<i.host.indexOf("@"))&&i.host.split("@"))&&(i.auth=E.shift(),i.host=i.hostname=E.shift());return i.search=t.search,i.query=t.query,I.isNull(i.pathname)&&I.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!b.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var _=b.slice(-1)[0],w=(i.host||t.host||1<b.length)&&("."===_||".."===_)||""===_,T=0,S=b.length;0<=S;S--)"."===(_=b[S])?b.splice(S,1):".."===_?(b.splice(S,1),T++):T&&(b.splice(S,1),T--);if(!g&&!y)for(;T--;T)b.unshift("..");!g||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),w&&"/"!==b.join("/").substr(-1)&&b.push("");var E,C=""===b[0]||b[0]&&"/"===b[0].charAt(0);x&&(i.hostname=i.host=C?"":b.length?b.shift():"",(E=!!(i.host&&0<i.host.indexOf("@"))&&i.host.split("@"))&&(i.auth=E.shift(),i.host=i.hostname=E.shift()));return(g=g||i.host&&b.length)&&!C&&b.unshift(""),b.length?i.pathname=b.join("/"):(i.pathname=null,i.path=null),I.isNull(i.pathname)&&I.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},O.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":39,punycode:27,querystring:30}],39:[function(t,e,i){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],40:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),n=r(t("ismobilejs")),o=r(t("./accessibleTarget"));l.utils.mixins.delayMixin(l.DisplayObject.prototype,o.default);var s=100,a=0,u=0,c=2,h=function(){function i(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),!n.default.tablet&&!n.default.phone||navigator.isCocoonJS||this.createTouchHook();var e=document.createElement("div");e.style.width=s+"px",e.style.height=s+"px",e.style.position="absolute",e.style.top=a+"px",e.style.left=u+"px",e.style.zIndex=c,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return i.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},i.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},i.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},i.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=e.length-1;0<=i;i--)this.updateAccessibleObjects(e[i])}},i.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o.renderId!==this.renderId)o._accessibleActive=!1,l.utils.removeItems(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{r=o._accessibleDiv;var s=o.hitArea,a=o.worldTransform;o.hitArea?(r.style.left=(a.tx+s.x*a.a)*e+"px",r.style.top=(a.ty+s.y*a.d)*i+"px",r.style.width=s.width*a.a*e+"px",r.style.height=s.height*a.d*i+"px"):(s=o.getBounds(),this.capHitArea(s),r.style.left=s.x*e+"px",r.style.top=s.y*i+"px",r.style.width=s.width*e+"px",r.style.height=s.height*i+"px")}}this.renderId++}},i.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},i.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=s+"px",e.style.height=s+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=c,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},i.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},i.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},i.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},i.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},i.prototype._onMouseMove=function(){this.deactivate()},i.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},i}();i.default=h,l.WebGLRenderer.registerPlugin("accessibility",h),l.CanvasRenderer.registerPlugin("accessibility",h)},{"../core":65,"./accessibleTarget":41,ismobilejs:4}],41:[function(t,e,i){"use strict";i.__esModule=!0,i.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],42:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./accessibleTarget");Object.defineProperty(i,"accessibleTarget",{enumerable:!0,get:function(){return r(n).default}});var o=t("./AccessibilityManager");Object.defineProperty(i,"AccessibilityManager",{enumerable:!0,get:function(){return r(o).default}})},{"./AccessibilityManager":40,"./accessibleTarget":41}],43:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=t("./autoDetectRenderer"),a=r(t("./display/Container")),l=t("./ticker"),u=r(t("./settings")),c=t("./const"),o=function(){function o(t,e,i,r,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o),"number"==typeof t&&(t=Object.assign({width:t,height:e||u.default.RENDER_OPTIONS.height,forceCanvas:!!r,sharedTicker:!!n},i)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,s.autoDetectRenderer)(t),this.stage=new a.default,this._ticker=null,this.ticker=t.sharedTicker?l.shared:new l.Ticker,t.autoStart&&this.start()}return o.prototype.render=function(){this.renderer.render(this.stage)},o.prototype.stop=function(){this._ticker.stop()},o.prototype.start=function(){this._ticker.start()},o.prototype.destroy=function(t){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},n(o,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,c.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),o}();i.default=o},{"./autoDetectRenderer":45,"./const":46,"./display/Container":48,"./settings":101,"./ticker":121}],44:[function(t,e,i){"use strict";function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var i=t.slice(0);return i.unshift("precision "+e+" float;"),i}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}i.__esModule=!0;var r,n=t("pixi-gl-core"),o=t("./settings"),l=(r=o)&&r.__esModule?r:{default:r},s=function(o){function s(t,e,i,r,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,a(e,n||l.default.PRECISION_VERTEX),a(i,n||l.default.PRECISION_FRAGMENT),void 0,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s}(n.GLShader);i.default=s},{"./settings":101,"pixi-gl-core":15}],45:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.autoDetectRenderer=function(t,e,i,r){var n=t&&t.forceCanvas;return void 0!==r&&(n=r),!n&&o.isWebGLSupported()?new a.default(t,e,i):new s.default(t,e,i)};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./utils")),s=r(t("./renderers/canvas/CanvasRenderer")),a=r(t("./renderers/webgl/WebGLRenderer"))},{"./renderers/canvas/CanvasRenderer":77,"./renderers/webgl/WebGLRenderer":84,"./utils":125}],46:[function(t,e,i){"use strict";i.__esModule=!0,i.VERSION="4.7.1",i.PI_2=2*Math.PI,i.RAD_TO_DEG=180/Math.PI,i.DEG_TO_RAD=Math.PI/180,i.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},i.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},i.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},i.SCALE_MODES={LINEAR:0,NEAREST:1},i.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},i.GC_MODES={AUTO:0,MANUAL:1},i.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,i.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,i.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,i.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},i.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},i.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},i.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},i.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],47:[function(t,e,i){"use strict";i.__esModule=!0;var r=t("../math"),n=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:((t=t||new r.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,i=s<i?s:i,r=r<o?o:r,n=n<s?s:n,e=(o=t[2])<e?o:e,i=(s=t[3])<i?s:i,r=r<o?o:r,n=n<s?s:n,e=(o=t[4])<e?o:e,i=(s=t[5])<i?s:i,r=r<o?o:r,n=n<s?s:n,e=(o=t[6])<e?o:e,i=(s=t[7])<i?s:i,r=r<o?o:r,n=n<s?s:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},t.prototype.addFrame=function(t,e,i,r,n){var o=t.worldTransform,s=o.a,a=o.b,l=o.c,u=o.d,c=o.tx,h=o.ty,d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,v=s*e+l*i+c,g=a*e+u*i+h;d=v<d?v:d,f=g<f?g:f,p=p<v?v:p,m=m<g?g:m,d=(v=s*r+l*i+c)<d?v:d,f=(g=a*r+u*i+h)<f?g:f,p=p<v?v:p,m=m<g?g:m,d=(v=s*e+l*n+c)<d?v:d,f=(g=a*e+u*n+h)<f?g:f,p=p<v?v:p,m=m<g?g:m,d=(v=s*r+l*n+c)<d?v:d,f=(g=a*r+u*n+h)<f?g:f,p=p<v?v:p,m=m<g?g:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m},t.prototype.addVertices=function(t,e,i,r){for(var n=t.worldTransform,o=n.a,s=n.b,a=n.c,l=n.d,u=n.tx,c=n.ty,h=this.minX,d=this.minY,f=this.maxX,p=this.maxY,m=i;m<r;m+=2){var v=e[m],g=e[m+1],y=o*v+a*g+u,b=l*g+s*v+c;h=y<h?y:h,d=b<d?b:d,f=f<y?y:f,p=p<b?b:p}this.minX=h,this.minY=d,this.maxX=f,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=o){var s=this.minX,a=this.minY,l=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=l<n?n:l,this.maxY=u<o?o:u}},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=o){var s=this.minX,a=this.minY,l=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=l<n?n:l,this.maxY=u<o?o:u}},t}();i.default=n},{"../math":70}],48:[function(t,e,i){"use strict";i.__esModule=!0;var r,o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=t("../utils"),n=t("./DisplayObject"),a=function(n){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this));return t.children=[],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(1<e)for(var i=0;i<e;i++)this.addChild(arguments[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);(0,s.removeItems)(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(1<e)for(var i=0;i<e;i++)this.removeChild(arguments[i]);else{var r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,(0,s.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,s.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],i=t,r="number"==typeof e?e:this.children.length,n=r-i,o=void 0;if(0<n&&n<=r){o=this.children.splice(i,n);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var r=this._enabledFilters.length=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}i&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].renderWebGL(t);t.flush(),i&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(t){n.prototype.destroy.call(this);var e="boolean"==typeof t?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(e)for(var r=0;r<i.length;++r)i[r].destroy(t)},o(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((r=n)&&r.__esModule?r:{default:r}).default);(i.default=a).prototype.containerUpdateTransform=a.prototype.updateTransform},{"../utils":125,"./DisplayObject":49}],49:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=r(t("eventemitter3")),s=t("../const"),a=r(t("../settings")),l=r(t("./TransformStatic")),u=r(t("./Transform")),c=r(t("./Bounds")),h=t("../math"),d=function(i){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this)),e=a.default.TRANSFORM_MODE===s.TRANSFORM_MODE.STATIC?l.default:u.default;return t.tempDisplayObjectParent=null,t.transform=new e,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t.filterArea=null,t._filters=null,t._enabledFilters=null,t._bounds=new c.default,t._boundsID=0,t._lastBoundsID=-1,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new h.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},r.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new h.Rectangle),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=i,this.transform=e,r},r.prototype.toGlobal=function(t,e){return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},r.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},r.prototype.renderWebGL=function(t){},r.prototype.renderCanvas=function(t){},r.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},r.prototype.setTransform=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=l,this},r.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(r,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new r),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),r}(o.default);(i.default=d).prototype.displayObjectUpdateTransform=d.prototype.updateTransform},{"../const":46,"../math":70,"../settings":101,"./Bounds":47,"./Transform":50,"./TransformStatic":52,eventemitter3:3}],50:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../math"),s=t("./TransformBase"),a=function(e){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this));return t.position=new o.Point(0,0),t.scale=new o.Point(1,1),t.skew=new o.ObservablePoint(t.updateSkew,t,0,0),t.pivot=new o.Point(0,0),t._rotation=0,t._cx=1,t._sx=0,t._cy=0,t._sy=1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},i.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},i.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._worldID++},i.prototype.setFromMatrix=function(t){t.decompose(this)},n(i,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),i}(((r=s)&&r.__esModule?r:{default:r}).default);i.default=a},{"../math":70,"./TransformBase":51}],51:[function(t,e,i){"use strict";i.__esModule=!0;var r=t("../math"),n=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,i=this.worldTransform,r=this.localTransform;i.a=r.a*e.a+r.b*e.c,i.b=r.a*e.b+r.b*e.d,i.c=r.c*e.a+r.d*e.c,i.d=r.c*e.b+r.d*e.d,i.tx=r.tx*e.a+r.ty*e.c+e.tx,i.ty=r.tx*e.b+r.ty*e.d+e.ty,this._worldID++},t}();(i.default=n).prototype.updateWorldTransform=n.prototype.updateTransform,n.IDENTITY=new n},{"../math":70}],52:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../math"),s=t("./TransformBase"),a=function(e){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this));return t.position=new o.ObservablePoint(t.onChange,t,0,0),t.scale=new o.ObservablePoint(t.onChange,t,1,1),t.pivot=new o.ObservablePoint(t.onChange,t,0,0),t.skew=new o.ObservablePoint(t.updateSkew,t,0,0),t._rotation=0,t._cx=1,t._sx=0,t._cy=0,t._sy=1,t._localID=0,t._currentLocalID=0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i.prototype.onChange=function(){this._localID++},i.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},i.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},i.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},i.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},n(i,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),i}(((r=s)&&r.__esModule?r:{default:r}).default);i.default=a},{"../math":70,"./TransformBase":51}],53:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("../display/Container")),o=r(t("../textures/RenderTexture")),s=r(t("../textures/Texture")),a=r(t("./GraphicsData")),l=r(t("../sprites/Sprite")),u=t("../math"),c=t("../utils"),S=t("../const"),h=r(t("../display/Bounds")),d=r(t("./utils/bezierCurveTo")),f=r(t("../renderers/canvas/CanvasRenderer")),p=void 0,m=new u.Matrix,v=new u.Point,g=new Float32Array(4),y=new Float32Array(4),b=function(n){function i(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this));return e.fillAlpha=1,e.lineWidth=0,e.nativeLines=t,e.lineColor=0,e.graphicsData=[],e.tint=16777215,e._prevTint=16777215,e.blendMode=S.BLEND_MODES.NORMAL,e.currentPath=null,e._webGL={},e.isMask=!1,e.boundsPadding=0,e._localBounds=new h.default,e.dirty=0,e.fastRectDirty=-1,e.clearDirty=0,e.boundsDirty=-1,e.cachedSpriteDirty=!1,e._spriteRect=null,e._fastRect=!1,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),i.prototype.clone=function(){var t=new i;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},i.prototype.lineStyle=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this.currentPath)if(this.currentPath.shape.points.length){var r=new u.Polygon(this.currentPath.shape.points.slice(-2));r.closed=!1,this.drawShape(r)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},i.prototype.moveTo=function(t,e){var i=new u.Polygon([t,e]);return i.closed=!1,this.drawShape(i),this},i.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},i.prototype.quadraticCurveTo=function(t,e,i,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n=this.currentPath.shape.points,o=0,s=0;0===n.length&&this.moveTo(0,0);for(var a=n[n.length-2],l=n[n.length-1],u=1;u<=20;++u){var c=u/20;o=a+(t-a)*c,s=l+(e-l)*c,n.push(o+(t+(i-t)*c-o)*c,s+(e+(r-e)*c-s)*c)}return this.dirty++,this},i.prototype.bezierCurveTo=function(t,e,i,r,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=s[s.length-2],l=s[s.length-1];return s.length-=2,(0,d.default)(a,l,t,e,i,r,n,o,s),this.dirty++,this},i.prototype.arcTo=function(t,e,i,r,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,l=s-t,u=r-e,c=i-t,h=Math.abs(a*c-l*u);if(h<1e-8||0===n)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var d=a*a+l*l,f=u*u+c*c,p=a*u+l*c,m=n*Math.sqrt(d)/h,v=n*Math.sqrt(f)/h,g=m*p/d,y=v*p/f,b=m*c+v*l,x=m*u+v*a,_=l*(v+g),w=a*(v+g),T=c*(m+y),S=u*(m+y),E=Math.atan2(w-x,_-b),C=Math.atan2(S-x,T-b);this.arc(b+t,x+e,n,E,C,c*a<l*u)}return this.dirty++,this},i.prototype.arc=function(t,e,i,r,n){var o=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(r===n)return this;!o&&n<=r?n+=S.PI_2:o&&r<=n&&(r+=S.PI_2);var s=n-r,a=40*Math.ceil(Math.abs(s)/S.PI_2);if(0===s)return this;var l=t+Math.cos(r)*i,u=e+Math.sin(r)*i,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===l&&c[c.length-1]===u||c.push(l,u):(this.moveTo(l,u),c=this.currentPath.shape.points);for(var h=s/(2*a),d=2*h,f=Math.cos(h),p=Math.sin(h),m=a-1,v=m%1/m,g=0;g<=m;++g){var y=h+r+d*(g+v*g),b=Math.cos(y),x=-Math.sin(y);c.push((f*b+p*x)*i+t,(f*-x+p*b)*i+e)}return this.dirty++,this},i.prototype.beginFill=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.prototype.drawRect=function(t,e,i,r){return this.drawShape(new u.Rectangle(t,e,i,r)),this},i.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new u.RoundedRectangle(t,e,i,r,n)),this},i.prototype.drawCircle=function(t,e,i){return this.drawShape(new u.Circle(t,e,i)),this},i.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new u.Ellipse(t,e,i,r)),this},i.prototype.drawPolygon=function(t){var e=t,i=!0;if(e instanceof u.Polygon&&(i=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var n=new u.Polygon(e);return n.closed=i,this.drawShape(n),this},i.prototype.drawStar=function(t,e,i,r,n){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;n=n||r/2;for(var s=-1*Math.PI/2+o,a=2*i,l=S.PI_2/a,u=[],c=0;c<a;c++){var h=c%2?n:r,d=c*l+s;u.push(t+h*Math.cos(d),e+h*Math.sin(d))}return this.drawPolygon(u)},i.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},i.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===S.SHAPES.RECT&&!this.graphicsData[0].lineWidth},i.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},i.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new l.default(new s.default(s.default.WHITE)));var i=this._spriteRect;if(16777215===this.tint)i.tint=this.graphicsData[0].fillColor;else{var r=g,n=y;(0,c.hex2rgb)(this.graphicsData[0].fillColor,r),(0,c.hex2rgb)(this.tint,n),r[0]*=n[0],r[1]*=n[1],r[2]*=n[2],i.tint=(0,c.rgb2hex)(r)}i.alpha=this.graphicsData[0].fillAlpha,i.worldAlpha=this.worldAlpha*i.alpha,i.blendMode=this.blendMode,i._texture._frame.width=e.width,i._texture._frame.height=e.height,i.transform.worldTransform=this.transform.worldTransform,i.anchor.set(-e.x/e.width,-e.y/e.height),i._onAnchorUpdate(),i._renderWebGL(t)},i.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},i.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,v);for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fill&&r.shape&&r.shape.contains(v.x,v.y)){if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].contains(v.x,v.y))return!1}return!0}}return!1},i.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,i=1/0,r=-1/0;if(this.graphicsData.length)for(var n=0,o=0,s=0,a=0,l=0,u=0;u<this.graphicsData.length;u++){var c=this.graphicsData[u],h=c.type,d=c.lineWidth;if(n=c.shape,h===S.SHAPES.RECT||h===S.SHAPES.RREC)o=n.x-d/2,s=n.y-d/2,t=o<t?o:t,e=e<o+(a=n.width+d)?o+a:e,i=s<i?s:i,r=r<s+(l=n.height+d)?s+l:r;else if(h===S.SHAPES.CIRC)o=n.x,s=n.y,t=o-(a=n.radius+d/2)<t?o-a:t,e=e<o+a?o+a:e,i=s-(l=n.radius+d/2)<i?s-l:i,r=r<s+l?s+l:r;else if(h===S.SHAPES.ELIP)o=n.x,s=n.y,t=o-(a=n.width+d/2)<t?o-a:t,e=e<o+a?o+a:e,i=s-(l=n.height+d/2)<i?s-l:i,r=r<s+l?s+l:r;else for(var f=n.points,p=0,m=0,v=0,g=0,y=0,b=0,x=0,_=0,w=0;w+2<f.length;w+=2)o=f[w],s=f[w+1],p=f[w+2],m=f[w+3],v=Math.abs(p-o),g=Math.abs(m-s),l=d,(a=Math.sqrt(v*v+g*g))<1e-9||(t=(x=(p+o)/2)-(y=(l/a*g+v)/2)<t?x-y:t,e=e<x+y?x+y:e,i=(_=(m+s)/2)-(b=(l/a*v+g)/2)<i?_-b:i,r=r<_+b?_+b:r)}else r=i=e=t=0;var T=this.boundsPadding;this._localBounds.minX=t-T,this._localBounds.maxX=e+T,this._localBounds.minY=i-T,this._localBounds.maxY=r+T},i.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===S.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},i.prototype.generateCanvasTexture=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=this.getLocalBounds(),r=o.default.create(i.width,i.height,t,e);p||(p=new f.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(m),m.invert(),m.tx-=i.x,m.ty-=i.y,p.render(this,r,!0,m);var n=s.default.fromCanvas(r.baseTexture._canvasRenderTarget.canvas,t,"graphics");return n.baseTexture.resolution=e,n.baseTexture.update(),n},i.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},i.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},i.prototype.destroy=function(t){n.prototype.destroy.call(this,t);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();for(var i in this._webgl)for(var r=0;r<this._webgl[i].data.length;++r)this._webgl[i].data[r].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},i}(n.default);(i.default=b)._SPRITE_TEXTURE=null},{"../const":46,"../display/Bounds":47,"../display/Container":48,"../math":70,"../renderers/canvas/CanvasRenderer":77,"../sprites/Sprite":102,"../textures/RenderTexture":113,"../textures/Texture":115,"../utils":125,"./GraphicsData":54,"./utils/bezierCurveTo":56}],54:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function l(t,e,i,r,n,o,s,a){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,l),this.lineWidth=t,this.nativeLines=s,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=r,this.fillAlpha=n,this._fillTint=r,this.fill=o,this.holes=[],this.shape=a,this.type=a.type}return l.prototype.clone=function(){return new l(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},l.prototype.addHole=function(t){this.holes.push(t)},l.prototype.destroy=function(){this.shape=null,this.holes=null},l}();i.default=r},{}],55:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../../renderers/canvas/CanvasRenderer"),o=(r=n)&&r.__esModule?r:{default:r},M=t("../../const"),s=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t}return e.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldAlpha,n=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),i.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var s=0;s<t.graphicsData.length;s++){var a=t.graphicsData[s],l=a.shape,u=a._fillTint,c=a._lineTint;if(i.lineWidth=a.lineWidth,a.type===M.SHAPES.POLY){i.beginPath(),this.renderPolygon(l.points,l.closed,i);for(var h=0;h<a.holes.length;h++)this.renderPolygon(a.holes[h].points,!0,i);a.fill&&(i.globalAlpha=a.fillAlpha*r,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),a.lineWidth&&(i.globalAlpha=a.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke())}else if(a.type===M.SHAPES.RECT)(a.fillColor||0===a.fillColor)&&(i.globalAlpha=a.fillAlpha*r,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fillRect(l.x,l.y,l.width,l.height)),a.lineWidth&&(i.globalAlpha=a.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.strokeRect(l.x,l.y,l.width,l.height));else if(a.type===M.SHAPES.CIRC)i.beginPath(),i.arc(l.x,l.y,l.radius,0,2*Math.PI),i.closePath(),a.fill&&(i.globalAlpha=a.fillAlpha*r,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),a.lineWidth&&(i.globalAlpha=a.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke());else if(a.type===M.SHAPES.ELIP){var d=2*l.width,f=2*l.height,p=l.x-d/2,m=l.y-f/2;i.beginPath();var v=d/2*.5522848,g=f/2*.5522848,y=p+d,b=m+f,x=p+d/2,_=m+f/2;i.moveTo(p,_),i.bezierCurveTo(p,_-g,x-v,m,x,m),i.bezierCurveTo(x+v,m,y,_-g,y,_),i.bezierCurveTo(y,_+g,x+v,b,x,b),i.bezierCurveTo(x-v,b,p,_+g,p,_),i.closePath(),a.fill&&(i.globalAlpha=a.fillAlpha*r,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),a.lineWidth&&(i.globalAlpha=a.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke())}else if(a.type===M.SHAPES.RREC){var w=l.x,T=l.y,S=l.width,E=l.height,C=l.radius,O=Math.min(S,E)/2|0;C=O<C?O:C,i.beginPath(),i.moveTo(w,T+C),i.lineTo(w,T+E-C),i.quadraticCurveTo(w,T+E,w+C,T+E),i.lineTo(w+S-C,T+E),i.quadraticCurveTo(w+S,T+E,w+S,T+E-C),i.lineTo(w+S,T+C),i.quadraticCurveTo(w+S,T,w+S-C,T),i.lineTo(w+C,T),i.quadraticCurveTo(w,T,w,T+C),i.closePath(),(a.fillColor||0===a.fillColor)&&(i.globalAlpha=a.fillAlpha*r,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),a.lineWidth&&(i.globalAlpha=a.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke())}}},e.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,r=(255&t.tint)/255,n=0;n<t.graphicsData.length;++n){var o=t.graphicsData[n],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*i*255<<8)+(255&s)/255*r*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*r*255}},e.prototype.renderPolygon=function(t,e,i){i.moveTo(t[0],t[1]);for(var r=1;r<t.length/2;++r)i.lineTo(t[2*r],t[2*r+1]);e&&i.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();i.default=s,o.default.registerPlugin("graphics",s)},{"../../const":46,"../../renderers/canvas/CanvasRenderer":77}],56:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i,r,n,o,s,a){var l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:[],u=0,c=0,h=0,d=0,f=0;l.push(t,e);for(var p=1,m=0;p<=20;++p)h=(c=(u=1-(m=p/20))*u)*u,f=(d=m*m)*m,l.push(h*t+3*c*m*i+3*u*d*n+f*s,h*e+3*c*m*r+3*u*d*o+f*a);return l}},{}],57:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var u=t("../../utils"),c=t("../../const"),n=r(t("../../renderers/webgl/utils/ObjectRenderer")),o=r(t("../../renderers/webgl/WebGLRenderer")),s=r(t("./WebGLGraphicsData")),a=r(t("./shaders/PrimitiveShader")),h=r(t("./utils/buildPoly")),d=r(t("./utils/buildRectangle")),f=r(t("./utils/buildRoundedRectangle")),p=r(t("./utils/buildCircle")),l=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.graphicsDataPool=[],e.primitiveShader=null,e.gl=t.gl,e.CONTEXT_UID=0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new a.default(this.gl)},r.prototype.destroy=function(){n.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},r.prototype.render=function(t){var e=this.renderer,i=e.gl,r=void 0,n=t._webGL[this.CONTEXT_UID];n&&t.dirty===n.dirty||(this.updateGraphics(t),n=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var s=0,a=n.data.length;s<a;s++){var l=(r=n.data[s]).shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,u.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(r.vao),r.nativeLines?i.drawArrays(i.LINES,0,r.points.length/6):r.vao.draw(i.TRIANGLE_STRIP,r.indices.length)}},r.prototype.updateGraphics=function(t){var e=this.renderer.gl,i=t._webGL[this.CONTEXT_UID];if(i||(i=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),i.dirty=t.dirty,t.clearDirty!==i.clearDirty){i.clearDirty=t.clearDirty;for(var r=0;r<i.data.length;r++)this.graphicsDataPool.push(i.data[r]);i.data.length=0,i.lastIndex=0}for(var n=void 0,o=void 0,s=i.lastIndex;s<t.graphicsData.length;s++){var a=t.graphicsData[s];n=this.getWebGLData(i,0),a.nativeLines&&a.lineWidth&&(o=this.getWebGLData(i,0,!0),i.lastIndex++),a.type===c.SHAPES.POLY&&(0,h.default)(a,n,o),a.type===c.SHAPES.RECT?(0,d.default)(a,n,o):a.type===c.SHAPES.CIRC||a.type===c.SHAPES.ELIP?(0,p.default)(a,n,o):a.type===c.SHAPES.RREC&&(0,f.default)(a,n,o),i.lastIndex++}this.renderer.bindVao(null);for(var l=0;l<i.data.length;l++)(n=i.data[l]).dirty&&n.upload()},r.prototype.getWebGLData=function(t,e,i){var r=t.data[t.data.length-1];return(!r||r.nativeLines!==i||32e4<r.points.length)&&((r=this.graphicsDataPool.pop()||new s.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=i,r.reset(e),t.data.push(r)),r.dirty=!0,r},r}(n.default);i.default=l,o.default.registerPlugin("graphics",l)},{"../../const":46,"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../utils":125,"./WebGLGraphicsData":58,"./shaders/PrimitiveShader":59,"./utils/buildCircle":60,"./utils/buildPoly":62,"./utils/buildRectangle":63,"./utils/buildRoundedRectangle":64}],58:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("pixi-gl-core"),o=(r=n)&&r.__esModule?r:{default:r},s=function(){function r(t,e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=e,this.vao=new o.default.VertexArrayObject(t,i).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,e.attributes.aColor,t.FLOAT,!1,24,8)}return r.prototype.reset=function(){this.points.length=0,this.indices.length=0},r.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},r.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},r}();i.default=s},{"pixi-gl-core":15}],59:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../../../Shader"),o=function(e){function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i}(((r=n)&&r.__esModule?r:{default:r}).default);i.default=o},{"../../../Shader":44}],60:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i){var r=t.shape,n=r.x,o=r.y,s=void 0,a=void 0;if(t.type===w.SHAPES.CIRC?(s=r.radius,a=r.radius):(s=r.width,a=r.height),0!==s&&0!==a){var l=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),u=2*Math.PI/l;if(t.fill){var c=(0,T.hex2rgb)(t.fillColor),h=t.fillAlpha,d=c[0]*h,f=c[1]*h,p=c[2]*h,m=e.points,v=e.indices,g=m.length/6;v.push(g);for(var y=0;y<l+1;y++)m.push(n,o,d,f,p,h),m.push(n+Math.sin(u*y)*s,o+Math.cos(u*y)*a,d,f,p,h),v.push(g++,g++);v.push(g-1)}if(t.lineWidth){var b=t.points;t.points=[];for(var x=0;x<l+1;x++)t.points.push(n+Math.sin(u*x)*s,o+Math.cos(u*x)*a);(0,_.default)(t,e,i),t.points=b}}};var r,n=t("./buildLine"),_=(r=n)&&r.__esModule?r:{default:r},w=t("../../../const"),T=t("../../../utils")},{"../../../const":46,"../../../utils":125,"./buildLine":61}],61:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i){t.nativeLines?function(t,e){var i=0,r=t.points;if(0!==r.length){var n=e.points,o=r.length/2,s=(0,W.hex2rgb)(t.lineColor),a=t.lineAlpha,l=s[0]*a,u=s[1]*a,c=s[2]*a;for(i=1;i<o;i++){var h=r[2*(i-1)],d=r[2*(i-1)+1],f=r[2*i],p=r[2*i+1];n.push(h,d),n.push(l,u,c,a),n.push(f,p),n.push(l,u,c,a)}}}(t,i):function(t,e){var i=t.points;if(0!==i.length){var r=new z.Point(i[0],i[1]),n=new z.Point(i[i.length-2],i[i.length-1]);if(r.x===n.x&&r.y===n.y){(i=i.slice()).pop(),i.pop();var o=(n=new z.Point(i[i.length-2],i[i.length-1])).x+.5*(r.x-n.x),s=n.y+.5*(r.y-n.y);i.unshift(o,s),i.push(o,s)}var a=e.points,l=e.indices,u=i.length/2,c=i.length,h=a.length/6,d=t.lineWidth/2,f=(0,W.hex2rgb)(t.lineColor),p=t.lineAlpha,m=f[0]*p,v=f[1]*p,g=f[2]*p,y=i[0],b=i[1],x=i[2],_=i[3],w=0,T=0,S=-(b-_),E=y-x,C=0,O=0,M=0,A=0,P=Math.sqrt(S*S+E*E);S/=P,E/=P,S*=d,E*=d,a.push(y-S,b-E,m,v,g,p),a.push(y+S,b+E,m,v,g,p);for(var k=1;k<u-1;++k){y=i[2*(k-1)],b=i[2*(k-1)+1],x=i[2*k],_=i[2*k+1],w=i[2*(k+1)],T=i[2*(k+1)+1],S=-(b-_),E=y-x,S/=P=Math.sqrt(S*S+E*E),E/=P,S*=d,E*=d,C=-(_-T),O=x-w,C/=P=Math.sqrt(C*C+O*O),O/=P;var D=-E+b-(-E+_),R=-S+x-(-S+y),I=(-S+y)*(-E+_)-(-S+x)*(-E+b),L=-(O*=d)+T-(-O+_),N=-(C*=d)+x-(-C+w),B=(-C+w)*(-O+_)-(-C+x)*(-O+T),j=D*N-L*R;if(Math.abs(j)<.1)j+=10.1,a.push(x-S,_-E,m,v,g,p),a.push(x+S,_+E,m,v,g,p);else{var F=(R*B-N*I)/j,$=(L*I-D*B)/j;196*d*d<(F-x)*(F-x)+($-_)*($-_)?(M=S-C,A=E-O,M/=P=Math.sqrt(M*M+A*A),A/=P,M*=d,A*=d,a.push(x-M,_-A),a.push(m,v,g,p),a.push(x+M,_+A),a.push(m,v,g,p),a.push(x-M,_-A),a.push(m,v,g,p),c++):(a.push(F,$),a.push(m,v,g,p),a.push(x-(F-x),_-($-_)),a.push(m,v,g,p))}}y=i[2*(u-2)],b=i[2*(u-2)+1],x=i[2*(u-1)],S=-(b-(_=i[2*(u-1)+1])),E=y-x,S/=P=Math.sqrt(S*S+E*E),E/=P,S*=d,E*=d,a.push(x-S,_-E),a.push(m,v,g,p),a.push(x+S,_+E),a.push(m,v,g,p),l.push(h);for(var U=0;U<c;++U)l.push(h++);l.push(h-1)}}(t,e)};var z=t("../../../math"),W=t("../../../utils")},{"../../../math":70,"../../../utils":125}],62:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.default=function(t,e,i){t.points=t.shape.points.slice();var r=t.points;if(t.fill&&6<=r.length){for(var n=[],o=t.holes,s=0;s<o.length;s++){var a=o[s];n.push(r.length/2),r=r.concat(a.points)}var l=e.points,u=e.indices,c=r.length/2,h=(0,_.hex2rgb)(t.fillColor),d=t.fillAlpha,f=h[0]*d,p=h[1]*d,m=h[2]*d,v=(0,w.default)(r,n,2);if(!v)return;for(var g=l.length/6,y=0;y<v.length;y+=3)u.push(v[y]+g),u.push(v[y]+g),u.push(v[y+1]+g),u.push(v[y+2]+g),u.push(v[y+2]+g);for(var b=0;b<c;b++)l.push(r[2*b],r[2*b+1],f,p,m,d)}0<t.lineWidth&&(0,x.default)(t,e,i)};var x=r(t("./buildLine")),_=t("../../../utils"),w=r(t("earcut"))},{"../../../utils":125,"./buildLine":61,earcut:2}],63:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i){var r=t.shape,n=r.x,o=r.y,s=r.width,a=r.height;if(t.fill){var l=(0,y.hex2rgb)(t.fillColor),u=t.fillAlpha,c=l[0]*u,h=l[1]*u,d=l[2]*u,f=e.points,p=e.indices,m=f.length/6;f.push(n,o),f.push(c,h,d,u),f.push(n+s,o),f.push(c,h,d,u),f.push(n,o+a),f.push(c,h,d,u),f.push(n+s,o+a),f.push(c,h,d,u),p.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var v=t.points;t.points=[n,o,n+s,o,n+s,o+a,n,o+a,n,o],(0,g.default)(t,e,i),t.points=v}};var r,n=t("./buildLine"),g=(r=n)&&r.__esModule?r:{default:r},y=t("../../../utils")},{"../../../utils":125,"./buildLine":61}],64:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function m(t,e,i){return t+(e-t)*i}function S(t,e,i,r,n,o){for(var s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],a=0,l=0,u=0,c=0,h=0,d=0,f=0,p=0;f<=20;++f)a=m(t,i,p=f/20),l=m(e,r,p),u=m(i,n,p),c=m(r,o,p),h=m(a,u,p),d=m(l,c,p),s.push(h,d);return s}i.__esModule=!0,i.default=function(t,e,i){var r=t.shape,n=r.x,o=r.y,s=r.width,a=r.height,l=r.radius,u=[];if(u.push(n,o+l),S(n,o+a-l,n,o+a,n+l,o+a,u),S(n+s-l,o+a,n+s,o+a,n+s,o+a-l,u),S(n+s,o+l,n+s,o,n+s-l,o,u),S(n+l,o,n,o,n,o+l+1e-10,u),t.fill){for(var c=(0,O.hex2rgb)(t.fillColor),h=t.fillAlpha,d=c[0]*h,f=c[1]*h,p=c[2]*h,m=e.points,v=e.indices,g=m.length/6,y=(0,E.default)(u,null,2),b=0,x=y.length;b<x;b+=3)v.push(y[b]+g),v.push(y[b]+g),v.push(y[b+1]+g),v.push(y[b+2]+g),v.push(y[b+2]+g);for(var _=0,w=u.length;_<w;_++)m.push(u[_],u[++_],d,f,p,h)}if(t.lineWidth){var T=t.points;t.points=u,(0,C.default)(t,e,i),t.points=T}};var E=r(t("earcut")),C=r(t("./buildLine")),O=t("../../../utils")},{"../../../utils":125,"./buildLine":61,earcut:2}],65:[function(t,e,i){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.autoDetectRenderer=i.Application=i.Filter=i.SpriteMaskFilter=i.Quad=i.RenderTarget=i.ObjectRenderer=i.WebGLManager=i.Shader=i.CanvasRenderTarget=i.TextureUvs=i.VideoBaseTexture=i.BaseRenderTexture=i.RenderTexture=i.BaseTexture=i.TextureMatrix=i.Texture=i.Spritesheet=i.CanvasGraphicsRenderer=i.GraphicsRenderer=i.GraphicsData=i.Graphics=i.TextMetrics=i.TextStyle=i.Text=i.SpriteRenderer=i.CanvasTinter=i.CanvasSpriteRenderer=i.Sprite=i.TransformBase=i.TransformStatic=i.Transform=i.Container=i.DisplayObject=i.Bounds=i.glCore=i.WebGLRenderer=i.CanvasRenderer=i.ticker=i.utils=i.settings=void 0;var o=t("./const");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./math");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return s[t]}})});var a=t("pixi-gl-core");Object.defineProperty(i,"glCore",{enumerable:!0,get:function(){return n(a).default}});var l=t("./display/Bounds");Object.defineProperty(i,"Bounds",{enumerable:!0,get:function(){return n(l).default}});var u=t("./display/DisplayObject");Object.defineProperty(i,"DisplayObject",{enumerable:!0,get:function(){return n(u).default}});var c=t("./display/Container");Object.defineProperty(i,"Container",{enumerable:!0,get:function(){return n(c).default}});var h=t("./display/Transform");Object.defineProperty(i,"Transform",{enumerable:!0,get:function(){return n(h).default}});var d=t("./display/TransformStatic");Object.defineProperty(i,"TransformStatic",{enumerable:!0,get:function(){return n(d).default}});var f=t("./display/TransformBase");Object.defineProperty(i,"TransformBase",{enumerable:!0,get:function(){return n(f).default}});var p=t("./sprites/Sprite");Object.defineProperty(i,"Sprite",{enumerable:!0,get:function(){return n(p).default}});var m=t("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(i,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return n(m).default}});var v=t("./sprites/canvas/CanvasTinter");Object.defineProperty(i,"CanvasTinter",{enumerable:!0,get:function(){return n(v).default}});var g=t("./sprites/webgl/SpriteRenderer");Object.defineProperty(i,"SpriteRenderer",{enumerable:!0,get:function(){return n(g).default}});var y=t("./text/Text");Object.defineProperty(i,"Text",{enumerable:!0,get:function(){return n(y).default}});var b=t("./text/TextStyle");Object.defineProperty(i,"TextStyle",{enumerable:!0,get:function(){return n(b).default}});var x=t("./text/TextMetrics");Object.defineProperty(i,"TextMetrics",{enumerable:!0,get:function(){return n(x).default}});var _=t("./graphics/Graphics");Object.defineProperty(i,"Graphics",{enumerable:!0,get:function(){return n(_).default}});var w=t("./graphics/GraphicsData");Object.defineProperty(i,"GraphicsData",{enumerable:!0,get:function(){return n(w).default}});var T=t("./graphics/webgl/GraphicsRenderer");Object.defineProperty(i,"GraphicsRenderer",{enumerable:!0,get:function(){return n(T).default}});var S=t("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(i,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return n(S).default}});var E=t("./textures/Spritesheet");Object.defineProperty(i,"Spritesheet",{enumerable:!0,get:function(){return n(E).default}});var C=t("./textures/Texture");Object.defineProperty(i,"Texture",{enumerable:!0,get:function(){return n(C).default}});var O=t("./textures/TextureMatrix");Object.defineProperty(i,"TextureMatrix",{enumerable:!0,get:function(){return n(O).default}});var M=t("./textures/BaseTexture");Object.defineProperty(i,"BaseTexture",{enumerable:!0,get:function(){return n(M).default}});var A=t("./textures/RenderTexture");Object.defineProperty(i,"RenderTexture",{enumerable:!0,get:function(){return n(A).default}});var P=t("./textures/BaseRenderTexture");Object.defineProperty(i,"BaseRenderTexture",{enumerable:!0,get:function(){return n(P).default}});var k=t("./textures/VideoBaseTexture");Object.defineProperty(i,"VideoBaseTexture",{enumerable:!0,get:function(){return n(k).default}});var D=t("./textures/TextureUvs");Object.defineProperty(i,"TextureUvs",{enumerable:!0,get:function(){return n(D).default}});var R=t("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(i,"CanvasRenderTarget",{enumerable:!0,get:function(){return n(R).default}});var I=t("./Shader");Object.defineProperty(i,"Shader",{enumerable:!0,get:function(){return n(I).default}});var L=t("./renderers/webgl/managers/WebGLManager");Object.defineProperty(i,"WebGLManager",{enumerable:!0,get:function(){return n(L).default}});var N=t("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(i,"ObjectRenderer",{enumerable:!0,get:function(){return n(N).default}});var B=t("./renderers/webgl/utils/RenderTarget");Object.defineProperty(i,"RenderTarget",{enumerable:!0,get:function(){return n(B).default}});var j=t("./renderers/webgl/utils/Quad");Object.defineProperty(i,"Quad",{enumerable:!0,get:function(){return n(j).default}});var F=t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(i,"SpriteMaskFilter",{enumerable:!0,get:function(){return n(F).default}});var $=t("./renderers/webgl/filters/Filter");Object.defineProperty(i,"Filter",{enumerable:!0,get:function(){return n($).default}});var U=t("./Application");Object.defineProperty(i,"Application",{enumerable:!0,get:function(){return n(U).default}});var z=t("./autoDetectRenderer");Object.defineProperty(i,"autoDetectRenderer",{enumerable:!0,get:function(){return z.autoDetectRenderer}});var W=r(t("./utils")),H=r(t("./ticker")),X=n(t("./settings")),G=n(t("./renderers/canvas/CanvasRenderer")),Y=n(t("./renderers/webgl/WebGLRenderer"));i.settings=X.default,i.utils=W,i.ticker=H,i.CanvasRenderer=G.default,i.WebGLRenderer=Y.default},{"./Application":43,"./Shader":44,"./autoDetectRenderer":45,"./const":46,"./display/Bounds":47,"./display/Container":48,"./display/DisplayObject":49,"./display/Transform":50,"./display/TransformBase":51,"./display/TransformStatic":52,"./graphics/Graphics":53,"./graphics/GraphicsData":54,"./graphics/canvas/CanvasGraphicsRenderer":55,"./graphics/webgl/GraphicsRenderer":57,"./math":70,"./renderers/canvas/CanvasRenderer":77,"./renderers/canvas/utils/CanvasRenderTarget":79,"./renderers/webgl/WebGLRenderer":84,"./renderers/webgl/filters/Filter":86,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":89,"./renderers/webgl/managers/WebGLManager":93,"./renderers/webgl/utils/ObjectRenderer":94,"./renderers/webgl/utils/Quad":95,"./renderers/webgl/utils/RenderTarget":96,"./settings":101,"./sprites/Sprite":102,"./sprites/canvas/CanvasSpriteRenderer":103,"./sprites/canvas/CanvasTinter":104,"./sprites/webgl/SpriteRenderer":106,"./text/Text":108,"./text/TextMetrics":109,"./text/TextStyle":110,"./textures/BaseRenderTexture":111,"./textures/BaseTexture":112,"./textures/RenderTexture":113,"./textures/Spritesheet":114,"./textures/Texture":115,"./textures/TextureMatrix":116,"./textures/TextureUvs":117,"./textures/VideoBaseTexture":118,"./ticker":121,"./utils":125,"pixi-gl-core":15}],66:[function(t,e,i){"use strict";function c(t){return t<0?-1:0<t?1:0}i.__esModule=!0;var r,n=t("./Matrix"),h=(r=n)&&r.__esModule?r:{default:r},d=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],f=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],p=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],m=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],v=[],g=[];!function(){for(var t=0;t<16;t++){var e=[];g.push(e);for(var i=0;i<16;i++)for(var r=c(d[t]*d[i]+p[t]*f[i]),n=c(f[t]*d[i]+m[t]*f[i]),o=c(d[t]*p[i]+p[t]*m[i]),s=c(f[t]*p[i]+m[t]*m[i]),a=0;a<16;a++)if(d[a]===r&&f[a]===n&&p[a]===o&&m[a]===s){e.push(a);break}}for(var l=0;l<16;l++){var u=new h.default;u.set(d[l],f[l],p[l],m[l],0,0),v.push(u)}}();var o={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return d[t]},uY:function(t){return f[t]},vX:function(t){return p[t]},vY:function(t){return m[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return g[t][e]},sub:function(t,e){return g[t][o.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?o.S:o.N:2*Math.abs(e)<=Math.abs(t)?0<t?o.E:o.W:0<e?0<t?o.SE:o.SW:0<t?o.NE:o.NW},matrixAppendRotationInv:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,n=v[o.inv(e)];n.tx=i,n.ty=r,t.append(n)}};i.default=o},{"./Matrix":67}],67:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("./Point"),a=(r=o)&&r.__esModule?r:{default:r},l=t("../const"),s=function(){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this.array=null}return s.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},s.prototype.set=function(t,e,i,r,n,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this},s.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0),i[8]=1,i},s.prototype.apply=function(t,e){e=e||new a.default;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},s.prototype.applyInverse=function(t,e){e=e||new a.default;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},s.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},s.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},s.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},s.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},s.prototype.setTransform=function(t,e,i,r,n,o,s,a,l){return this.a=Math.cos(s+l)*n,this.b=Math.sin(s+l)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},s.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},s.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,o=-Math.atan2(-r,n),s=Math.atan2(i,e),a=Math.abs(o+s);return a<1e-5||Math.abs(l.PI_2-a)<1e-5?(t.rotation=s,e<0&&0<=n&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},s.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*n)/o,this.ty=-(t*this.ty-e*n)/o,this},s.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},s.prototype.clone=function(){var t=new s;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},s.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n(s,null,[{key:"IDENTITY",get:function(){return new s}},{key:"TEMP_MATRIX",get:function(){return new s}}]),s}();i.default=s},{"../const":46,"./Point":69}],68:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),n=function(){function n(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.set=function(t,e){var i=t||0,r=e||(0!==e?i:0);this._x===i&&this._y===r||(this._x=i,this._y=r,this.cb.call(this.scope))},n.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},r(n,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),n}();i.default=n},{}],69:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this.x=t,this.y=e}return i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copy=function(t){this.set(t.x,t.y)},i.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},i.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},i}();i.default=r},{}],70:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./Point");Object.defineProperty(i,"Point",{enumerable:!0,get:function(){return r(n).default}});var o=t("./ObservablePoint");Object.defineProperty(i,"ObservablePoint",{enumerable:!0,get:function(){return r(o).default}});var s=t("./Matrix");Object.defineProperty(i,"Matrix",{enumerable:!0,get:function(){return r(s).default}});var a=t("./GroupD8");Object.defineProperty(i,"GroupD8",{enumerable:!0,get:function(){return r(a).default}});var l=t("./shapes/Circle");Object.defineProperty(i,"Circle",{enumerable:!0,get:function(){return r(l).default}});var u=t("./shapes/Ellipse");Object.defineProperty(i,"Ellipse",{enumerable:!0,get:function(){return r(u).default}});var c=t("./shapes/Polygon");Object.defineProperty(i,"Polygon",{enumerable:!0,get:function(){return r(c).default}});var h=t("./shapes/Rectangle");Object.defineProperty(i,"Rectangle",{enumerable:!0,get:function(){return r(h).default}});var d=t("./shapes/RoundedRectangle");Object.defineProperty(i,"RoundedRectangle",{enumerable:!0,get:function(){return r(d).default}})},{"./GroupD8":66,"./Matrix":67,"./ObservablePoint":68,"./Point":69,"./shapes/Circle":71,"./shapes/Ellipse":72,"./shapes/Polygon":73,"./shapes/Rectangle":74,"./shapes/RoundedRectangle":75}],71:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./Rectangle"),o=(r=n)&&r.__esModule?r:{default:r},s=t("../../const"),a=function(){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.x=t,this.y=e,this.radius=i,this.type=s.SHAPES.CIRC}return r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},r.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},r}();i.default=a},{"../../const":46,"./Rectangle":74}],72:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./Rectangle"),o=(r=n)&&r.__esModule?r:{default:r},s=t("../../const"),a=function(){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.x=t,this.y=e,this.width=i,this.height=r,this.type=s.SHAPES.ELIP}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},n.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},n}();i.default=a},{"../../const":46,"./Rectangle":74}],73:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../Point"),a=(r=n)&&r.__esModule?r:{default:r},l=t("../../const"),o=function(){function s(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),Array.isArray(e[0])&&(e=e[0]),e[0]instanceof a.default){for(var r=[],n=0,o=e.length;n<o;n++)r.push(e[n].x,e[n].y);e=r}this.closed=!0,this.points=e,this.type=l.SHAPES.POLY}return s.prototype.clone=function(){return new s(this.points.slice())},s.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},s.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,o=r-1;n<r;o=n++){var s=this.points[2*n],a=this.points[2*n+1],l=this.points[2*o],u=this.points[2*o+1];e<a!=e<u&&t<(e-a)/(u-a)*(l-s)+s&&(i=!i)}return i},s}();i.default=o},{"../../const":46,"../Point":69}],74:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../../const"),n=function(){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=o.SHAPES.RECT}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},n.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=i-e,this.y=r,this.height=n-r},r(n,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new n(0,0,0,0)}}]),n}();i.default=n},{"../../const":46}],75:[function(t,e,i){"use strict";i.__esModule=!0;var s=t("../../const"),r=function(){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=s.SHAPES.RREC}return o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.radius)},o.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},o}();i.default=r},{"../../const":46}],76:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=t("../utils"),l=t("../math"),u=t("../const"),c=r(t("../settings")),h=r(t("../display/Container")),d=r(t("../textures/RenderTexture")),o=r(t("eventemitter3")),f=new l.Matrix,s=function(o){function s(t,e,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this));return(0,a.sayHello)(t),"number"==typeof e&&(e=Object.assign({width:e,height:i||c.default.RENDER_OPTIONS.height},r)),e=Object.assign({},c.default.RENDER_OPTIONS,e),n.options=e,n.type=u.RENDERER_TYPE.UNKNOWN,n.screen=new l.Rectangle(0,0,e.width,e.height),n.view=e.view||document.createElement("canvas"),n.resolution=e.resolution||c.default.RESOLUTION,n.transparent=e.transparent,n.autoResize=e.autoResize||!1,n.blendModes=null,n.preserveDrawingBuffer=e.preserveDrawingBuffer,n.clearBeforeRender=e.clearBeforeRender,n.roundPixels=e.roundPixels,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,0],n._backgroundColorString="#000000",n.backgroundColor=e.backgroundColor||n._backgroundColor,n._tempDisplayObjectParent=new h.default,n._lastObjectRendered=n._tempDisplayObjectParent,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},s.prototype.generateTexture=function(t,e,i,r){r=r||t.getLocalBounds();var n=d.default.create(0|r.width,0|r.height,e,i);return f.tx=-r.x,f.ty=-r.y,this.render(t,n,!1,f,!0),n},s.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=u.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(s,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,a.hex2string)(t),(0,a.hex2rgb)(t,this._backgroundColorRgba)}}]),s}(o.default);i.default=s},{"../const":46,"../display/Container":48,"../math":70,"../settings":101,"../textures/RenderTexture":113,"../utils":125,eventemitter3:3}],77:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("../SystemRenderer")),s=r(t("./utils/CanvasMaskManager")),c=r(t("./utils/CanvasRenderTarget")),a=r(t("./utils/mapCanvasBlendModesToPixi")),o=t("../../utils"),h=t("../../const"),l=r(t("../../settings")),u=function(n){function o(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,"Canvas",t,e,i));return r.type=h.RENDERER_TYPE.CANVAS,r.rootContext=r.view.getContext("2d",{alpha:r.transparent}),r.context=r.rootContext,r.refresh=!0,r.maskManager=new s.default(r),r.smoothProperty="imageSmoothingEnabled",r.rootContext.imageSmoothingEnabled||(r.rootContext.webkitImageSmoothingEnabled?r.smoothProperty="webkitImageSmoothingEnabled":r.rootContext.mozImageSmoothingEnabled?r.smoothProperty="mozImageSmoothingEnabled":r.rootContext.oImageSmoothingEnabled?r.smoothProperty="oImageSmoothingEnabled":r.rootContext.msImageSmoothingEnabled&&(r.smoothProperty="msImageSmoothingEnabled")),r.initPlugins(),r.blendModes=(0,a.default)(),r._activeBlendMode=null,r.renderingToScreen=!1,r.resize(r.options.width,r.options.height),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype.render=function(t,e,i,r,n){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new c.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!n){var a=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;r?(r.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=a}s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=h.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(void 0!==i?i:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var u=this.context;this.context=s,t.renderCanvas(this),this.context=u,s.restore(),this.resolution=o,this.emit("postrender")}},o.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},o.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},o.prototype.destroy=function(t){this.destroyPlugins(),n.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},o.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.smoothProperty&&(this.rootContext[this.smoothProperty]=l.default.SCALE_MODE===h.SCALE_MODES.LINEAR)},o.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},o}(n.default);i.default=u,o.pluginTarget.mixin(u)},{"../../const":46,"../../settings":101,"../../utils":125,"../SystemRenderer":76,"./utils/CanvasMaskManager":78,"./utils/CanvasRenderTarget":79,"./utils/mapCanvasBlendModesToPixi":81}],78:[function(t,e,i){"use strict";i.__esModule=!0;var S=t("../../../const"),r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t}return e.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var i=t.alpha,r=t.transform.worldTransform,n=e.resolution;e.context.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=i},e.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,i=t.graphicsData.length;if(0!==i){e.beginPath();for(var r=0;r<i;r++){var n=t.graphicsData[r],o=n.shape;if(n.type===S.SHAPES.POLY){var s=o.points;e.moveTo(s[0],s[1]);for(var a=1;a<s.length/2;a++)e.lineTo(s[2*a],s[2*a+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath()}else if(n.type===S.SHAPES.RECT)e.rect(o.x,o.y,o.width,o.height),e.closePath();else if(n.type===S.SHAPES.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath();else if(n.type===S.SHAPES.ELIP){var l=2*o.width,u=2*o.height,c=o.x-l/2,h=o.y-u/2,d=l/2*.5522848,f=u/2*.5522848,p=c+l,m=h+u,v=c+l/2,g=h+u/2;e.moveTo(c,g),e.bezierCurveTo(c,g-f,v-d,h,v,h),e.bezierCurveTo(v+d,h,p,g-f,p,g),e.bezierCurveTo(p,g+f,v+d,m,v,m),e.bezierCurveTo(v-d,m,c,g+f,c,g),e.closePath()}else if(n.type===S.SHAPES.RREC){var y=o.x,b=o.y,x=o.width,_=o.height,w=o.radius,T=Math.min(x,_)/2|0;w=T<w?T:w,e.moveTo(y,b+w),e.lineTo(y,b+_-w),e.quadraticCurveTo(y,b+_,y+w,b+_),e.lineTo(y+x-w,b+_),e.quadraticCurveTo(y+x,b+_,y+x,b+_-w),e.lineTo(y+x,b+w),e.quadraticCurveTo(y+x,b,y+x-w,b),e.lineTo(y+w,b),e.quadraticCurveTo(y,b,y,b+w),e.closePath()}}}},e.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},e.prototype.destroy=function(){},e}();i.default=r},{"../../../const":46}],79:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../../../settings"),s=(r=o)&&r.__esModule?r:{default:r},a=function(){function r(t,e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||s.default.RESOLUTION,this.resize(t,e)}return r.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},r.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},r.prototype.destroy=function(){this.context=null,this.canvas=null},n(r,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),r}();i.default=a},{"../../../settings":101}],80:[function(t,e,i){"use strict";function s(t){var e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");return i.fillStyle=t,i.fillRect(0,0,6,1),e}i.__esModule=!0,i.default=function(){if("undefined"==typeof document)return!1;var t=s("#ff00ff"),e=s("#ffff00"),i=document.createElement("canvas");i.width=6,i.height=1;var r=i.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(t,0,0),r.drawImage(e,2,0);var n=r.getImageData(2,0,1,1);if(!n)return!1;var o=n.data;return 255===o[0]&&0===o[1]&&0===o[2]}},{}],81:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,s.default)()?(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="multiply",t[n.BLEND_MODES.SCREEN]="screen",t[n.BLEND_MODES.OVERLAY]="overlay",t[n.BLEND_MODES.DARKEN]="darken",t[n.BLEND_MODES.LIGHTEN]="lighten",t[n.BLEND_MODES.COLOR_DODGE]="color-dodge",t[n.BLEND_MODES.COLOR_BURN]="color-burn",t[n.BLEND_MODES.HARD_LIGHT]="hard-light",t[n.BLEND_MODES.SOFT_LIGHT]="soft-light",t[n.BLEND_MODES.DIFFERENCE]="difference",t[n.BLEND_MODES.EXCLUSION]="exclusion",t[n.BLEND_MODES.HUE]="hue",t[n.BLEND_MODES.SATURATION]="saturate",t[n.BLEND_MODES.COLOR]="color",t[n.BLEND_MODES.LUMINOSITY]="luminosity"):(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="source-over",t[n.BLEND_MODES.SCREEN]="source-over",t[n.BLEND_MODES.OVERLAY]="source-over",t[n.BLEND_MODES.DARKEN]="source-over",t[n.BLEND_MODES.LIGHTEN]="source-over",t[n.BLEND_MODES.COLOR_DODGE]="source-over",t[n.BLEND_MODES.COLOR_BURN]="source-over",t[n.BLEND_MODES.HARD_LIGHT]="source-over",t[n.BLEND_MODES.SOFT_LIGHT]="source-over",t[n.BLEND_MODES.DIFFERENCE]="source-over",t[n.BLEND_MODES.EXCLUSION]="source-over",t[n.BLEND_MODES.HUE]="source-over",t[n.BLEND_MODES.SATURATION]="source-over",t[n.BLEND_MODES.COLOR]="source-over",t[n.BLEND_MODES.LUMINOSITY]="source-over"),t[n.BLEND_MODES.NORMAL_NPM]=t[n.BLEND_MODES.NORMAL],t[n.BLEND_MODES.ADD_NPM]=t[n.BLEND_MODES.ADD],t[n.BLEND_MODES.SCREEN_NPM]=t[n.BLEND_MODES.SCREEN],t};var r,n=t("../../../const"),o=t("./canUseNewCanvasBlendModes"),s=(r=o)&&r.__esModule?r:{default:r}},{"../../../const":46,"./canUseNewCanvasBlendModes":80}],82:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../../const"),o=t("../../settings"),s=(r=o)&&r.__esModule?r:{default:r},a=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return e.prototype.update=function(){this.count++,this.mode!==n.GC_MODES.MANUAL&&++this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())},e.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n._glRenderTargets&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),i=!(e[r]=null))}if(i){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var i=t.children.length-1;0<=i;i--)this.unload(t.children[i])},e}();i.default=a},{"../../const":46,"../../settings":101}],83:[function(t,e,i){"use strict";i.__esModule=!0;var r,l=t("pixi-gl-core"),u=t("../../const"),n=t("./utils/RenderTarget"),c=(r=n)&&r.__esModule?r:{default:r},s=t("../../utils"),o=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}return e.prototype.bindTexture=function(){},e.prototype.getTexture=function(){},e.prototype.updateTexture=function(t,e){var i=this.gl,r=!!t._glRenderTargets;if(!t.hasLoaded)return null;var n=this.renderer.boundTextures;if(void 0===e)for(var o=e=0;o<n.length;++o)if(n[o]===t){e=o;break}n[e]=t,i.activeTexture(i.TEXTURE0+e);var s=t._glTextures[this.renderer.CONTEXT_UID];if(s)r?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):s.upload(t.source);else{if(r){var a=new c.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);a.resize(t.width,t.height),s=(t._glRenderTargets[this.renderer.CONTEXT_UID]=a).texture}else(s=new l.GLTexture(this.gl,null,null,null,null)).bind(e),s.premultiplyAlpha=!0,s.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=s,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&s.enableMipmap(),t.wrapMode===u.WRAP_MODES.CLAMP?s.enableWrapClamp():t.wrapMode===u.WRAP_MODES.REPEAT?s.enableWrapRepeat():s.enableWrapMirrorRepeat()):s.enableWrapClamp(),t.scaleMode===u.SCALE_MODES.NEAREST?s.enableNearestScaling():s.enableLinearScaling()}return s},e.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var i=this.renderer.CONTEXT_UID,r=t._glTextures,n=t._glRenderTargets;if(r[i]&&(this.renderer.unbindTexture(t),r[i].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete r[i],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,s.removeItems)(this._managedTextures,o,1)}n&&n[i]&&(n[i].destroy(),delete n[i])}},e.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},e.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},e}();i.default=o},{"../../const":46,"../../utils":125,"./utils/RenderTarget":96,"pixi-gl-core":15}],84:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var s=r(t("../SystemRenderer")),a=r(t("./managers/MaskManager")),l=r(t("./managers/StencilManager")),u=r(t("./managers/FilterManager")),c=r(t("./utils/RenderTarget")),h=r(t("./utils/ObjectRenderer")),d=r(t("./TextureManager")),f=r(t("../../textures/BaseTexture")),p=r(t("./TextureGarbageCollector")),m=r(t("./WebGLState")),v=r(t("./utils/mapWebGLDrawModesToPixi")),g=r(t("./utils/validateContext")),n=t("../../utils"),y=r(t("pixi-gl-core")),b=t("../../const"),x=0,o=function(n){function o(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,"WebGL",t,e,i));return r.legacy=r.options.legacy,r.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),r.type=b.RENDERER_TYPE.WEBGL,r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),r.view.addEventListener("webglcontextlost",r.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r._contextOptions={alpha:r.transparent,antialias:r.options.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:r.options.preserveDrawingBuffer,powerPreference:r.options.powerPreference},r._backgroundColorRgba[3]=r.transparent?0:1,r.maskManager=new a.default(r),r.stencilManager=new l.default(r),r.emptyRenderer=new h.default(r),r.currentRenderer=r.emptyRenderer,r.textureManager=null,r.filterManager=null,r.initPlugins(),r.options.context&&(0,g.default)(r.options.context),r.gl=r.options.context||y.default.createContext(r.view,r._contextOptions),r.CONTEXT_UID=x++,r.state=new m.default(r.gl),r.renderingToScreen=!0,r.boundTextures=null,r._activeShader=null,r._activeVao=null,r._activeRenderTarget=null,r._initContext(),r.drawModes=(0,v.default)(r.gl),r._nextTextureLocation=0,r.setBlendMode(0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new d.default(this),this.filterManager=new u.default(this),this.textureGC=new p.default(this),this.state.resetToDefault(),this.rootRenderTarget=new c.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var i=new y.default.GLTexture.fromData(t,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var n=0;n<e;n++){var o=new f.default;o._glTextures[this.CONTEXT_UID]=i,this.boundTextures[n]=r,this.emptyTextures[n]=o,this.bindTexture(null,n)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},o.prototype.render=function(t,e,i,r,n){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,r),this.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},o.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},o.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},o.prototype.resize=function(t,e){s.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},o.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},o.prototype.clear=function(t){this._activeRenderTarget.clear(t)},o.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},o.prototype.clearRenderTexture=function(t,e){var i=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return i&&i.clear(e),this},o.prototype.bindRenderTexture=function(t,e){var i=void 0;if(t){var r=t.baseTexture;r._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(r,0),this.unbindTexture(r),(i=r._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else i=this.rootRenderTarget;return i.transform=e,this.bindRenderTarget(i),this},o.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&((this._activeRenderTarget=t).activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},o.prototype.bindShader=function(t,e){return this._activeShader!==t&&((this._activeShader=t).bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},o.prototype.bindTexture=function(t,e,i){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,i)e=e||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===t)return r;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var n=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,n.activeTexture(n.TEXTURE0+e),n.bindTexture(n.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},o.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var i=0;i<this.boundTextures.length;i++)this.boundTextures[i]===t&&(this.boundTextures[i]=this.emptyTextures[i],e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture));return this},o.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},o.prototype.bindVao=function(t){return this._activeVao===t||(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t),this},o.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},o.prototype.handleContextLost=function(t){t.preventDefault()},o.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},o.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),n.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},o}(s.default);i.default=o,n.pluginTarget.mixin(o)},{"../../const":46,"../../textures/BaseTexture":112,"../../utils":125,"../SystemRenderer":76,"./TextureGarbageCollector":82,"./TextureManager":83,"./WebGLState":85,"./managers/FilterManager":90,"./managers/MaskManager":91,"./managers/StencilManager":92,"./utils/ObjectRenderer":94,"./utils/RenderTarget":96,"./utils/mapWebGLDrawModesToPixi":99,"./utils/validateContext":100,"pixi-gl-core":15}],85:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./utils/mapWebGLBlendModesToPixi"),o=(r=n)&&r.__esModule?r:{default:r},s=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return e.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},e.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},e.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},e.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},e.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},e.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},e.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var i=1;i<this.maxAttribs;i++)this.gl.disableVertexAttribArray(i)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();i.default=s},{"./utils/mapWebGLBlendModesToPixi":98}],86:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=r(t("./extractUniformsFromSrc")),a=t("../../../utils"),l=t("../../../const"),u=r(t("../../../settings")),c={},n=function(){function n(t,e,i){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this._blendMode=l.BLEND_MODES.NORMAL,this.uniformData=i||(0,s.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[r]=this.uniformData[r].value,this.uniformData[r].type&&(this.uniformData[r].type=this.uniformData[r].type.toLowerCase());this.glShaders={},c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=(0,a.uid)()),this.glShaderKey=c[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=u.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return n.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r)},o(n,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),n}();i.default=n},{"../../../const":46,"../../../settings":101,"../../../utils":125,"./extractUniformsFromSrc":87}],87:[function(t,e,i){"use strict";function o(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),i={},r=void 0,n=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<n.length;o++){var s=n[o].trim();if(-1<s.indexOf("uniform")){var a=s.split(" "),l=a[1],u=a[2],c=1;-1<u.indexOf("[")&&(u=(r=u.split(/\[|]/))[0],c*=Number(r[1])),u.match(e)||(i[u]={value:h(l,c),name:u,type:l})}}return i}i.__esModule=!0,i.default=function(t,e,i){var r=o(t),n=o(e);return Object.assign(r,n)};var r,n=t("pixi-gl-core"),h=((r=n)&&r.__esModule?r:{default:r}).default.shader.defaultValue},{"pixi-gl-core":15}],88:[function(t,e,i){"use strict";i.__esModule=!0,i.calculateScreenSpaceMatrix=function(t,e,i){var r=t.identity();return r.translate(e.x/i.width,e.y/i.height),r.scale(i.width,i.height),r},i.calculateNormalizedScreenSpaceMatrix=function(t,e,i){var r=t.identity();r.translate(e.x/i.width,e.y/i.height);var n=i.width/e.width,o=i.height/e.height;return r.scale(n,o),r},i.calculateSpriteMatrix=function(t,e,i,r){var n=r._texture.orig,o=t.set(i.width,0,0,i.height,e.x,e.y),s=r.worldTransform.copy(a.Matrix.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/n.width,1/n.height),o.translate(r.anchor.x,r.anchor.y),o};var a=t("../../../math")},{"../../../math":70}],89:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("../Filter")),o=t("../../../../math"),s=r((t("path"),t("../../../../textures/TextureMatrix"))),a=function(r){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=new o.Matrix,i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return t.renderable=!1,i.maskSprite=t,i.maskMatrix=e,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r),n.prototype.apply=function(t,e,i){var r=this.maskSprite,n=this.maskSprite.texture;n.valid&&(n.transform||(n.transform=new s.default(n,0)),n.transform.update(),this.uniforms.mask=n,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(n.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=n.transform.uClampFrame,t.applyFilter(this,e,i))},n}(n.default);i.default=a},{"../../../../math":70,"../../../../textures/TextureMatrix":116,"../Filter":86,path:8}],90:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var o=r(t("./WebGLManager")),a=r(t("../utils/RenderTarget")),s=r(t("../utils/Quad")),l=t("../../../math"),u=r(t("../../../Shader")),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../filters/filterTransforms")),h=r(t("bit-twiddle")),p=function t(){n(this,t),this.renderTarget=null,this.sourceFrame=new l.Rectangle,this.destinationFrame=new l.Rectangle,this.filters=[],this.target=null,this.resolution=1},d=function(i){function r(t){n(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.gl=e.renderer.gl,e.quad=new s.default(e.gl,t.state.attribState),e.shaderCache={},e.pool={},e.filterData=null,e.managedFilters=[],e.renderer.on("prerender",e.onPrerender,e),e._screenWidth=t.view.width,e._screenHeight=t.view.height,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.pushFilter=function(t,e){var i=this.renderer,r=this.filterData;if(!r){r=this.renderer._activeRenderTarget.filterStack;var n=new p;n.sourceFrame=n.destinationFrame=this.renderer._activeRenderTarget.size,n.renderTarget=i._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[n]},this.filterData=r}var o=r.stack[++r.index],s=r.stack[0].destinationFrame;o||(o=r.stack[r.index]=new p);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===i.screen.width&&t.filterArea.height===i.screen.height,l=e[0].resolution,u=0|e[0].padding,c=a?i.screen:t.filterArea||t.getBounds(!0),h=o.sourceFrame,d=o.destinationFrame;h.x=(c.x*l|0)/l,h.y=(c.y*l|0)/l,h.width=(c.width*l|0)/l,h.height=(c.height*l|0)/l,a||(r.stack[0].renderTarget.transform||e[0].autoFit&&h.fit(s),h.pad(u)),d.width=h.width,d.height=h.height;var f=this.getPotRenderTarget(i.gl,h.width,h.height,l);o.target=t,o.filters=e,o.resolution=l,(o.renderTarget=f).setFrame(d,h),i.bindRenderTarget(f),f.clear()},r.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],i=t.stack[t.index];this.quad.map(i.renderTarget.size,i.sourceFrame).upload();var r=i.filters;if(1===r.length)r[0].apply(this,i.renderTarget,e.renderTarget,!1,i),this.freePotRenderTarget(i.renderTarget);else{var n=i.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,i.resolution);o.setFrame(i.destinationFrame,i.sourceFrame),o.clear();var s=0;for(s=0;s<r.length-1;++s){r[s].apply(this,n,o,!0,i);var a=n;n=o,o=a}r[s].apply(this,n,e.renderTarget,!1,i),this.freePotRenderTarget(n),this.freePotRenderTarget(o)}0==--t.index&&(this.filterData=null)},r.prototype.applyFilter=function(t,e,i,r){var n=this.renderer,o=n.gl,s=t.glShaders[n.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[n.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[n.CONTEXT_UID]=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),n.bindVao(null),this.quad.initVao(s)),n.bindVao(this.quad.vao),n.bindRenderTarget(i),r&&(o.disable(o.SCISSOR_TEST),n.clear(),o.enable(o.SCISSOR_TEST)),i===n.maskManager.scissorRenderTarget&&n.maskManager.pushScissorMask(null,n.maskManager.scissorData),n.bindShader(s);var a=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=a,this.syncUniforms(s,t),n.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)},r.prototype.syncUniforms=function(t,e){var i=e.uniformData,r=e.uniforms,n=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var l in i){var u=i[l].type;if("sampler2d"===u&&0!==r[l]){if(r[l].baseTexture)t.uniforms[l]=this.renderer.bindTexture(r[l].baseTexture,n);else{t.uniforms[l]=n;var c=this.renderer.gl;this.renderer.boundTextures[n]=this.renderer.emptyTextures[n],c.activeTexture(c.TEXTURE0+n),r[l].texture.bind()}n++}else if("mat3"===u)void 0!==r[l].a?t.uniforms[l]=r[l].toArray(!0):t.uniforms[l]=r[l];else if("vec2"===u)if(void 0!==r[l].x){var h=t.uniforms[l]||new Float32Array(2);h[0]=r[l].x,h[1]=r[l].y,t.uniforms[l]=h}else t.uniforms[l]=r[l];else"float"===u?t.uniforms.data[l].value!==i[l]&&(t.uniforms[l]=r[l]):t.uniforms[l]=r[l]}},r.prototype.getRenderTarget=function(t,e){var i=this.filterData.stack[this.filterData.index],r=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,e||i.resolution);return r.setFrame(i.destinationFrame,i.sourceFrame),r},r.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},r.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return c.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},r.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return c.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},r.prototype.calculateSpriteMatrix=function(t,e){var i=this.filterData.stack[this.filterData.index];return c.calculateSpriteMatrix(t,i.sourceFrame,i.renderTarget.size,e)},r.prototype.destroy=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.renderer,i=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var r=0;r<i.length;r++)t||i[r].glShaders[e.CONTEXT_UID].destroy(),delete i[r].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},r.prototype.getPotRenderTarget=function(t,e,i,r){var n="screen";i*=r,(e*=r)===this._screenWidth&&i===this._screenHeight||(n=(65535&(e=h.default.nextPow2(e)))<<16|65535&(i=h.default.nextPow2(i))),this.pool[n]||(this.pool[n]=[]);var o=this.pool[n].pop();if(!o){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new a.default(t,e,i,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=r,o.defaultFrame.width=o.size.width=e/r,o.defaultFrame.height=o.size.height=i/r,o},r.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var i=0;i<e.length;i++)e[i].destroy(!0)}this.pool={}},r.prototype.freePotRenderTarget=function(t){var e=t.size.width*t.resolution,i=t.size.height*t.resolution,r="screen";e===this._screenWidth&&i===this._screenHeight||(r=(65535&e)<<16|65535&i),this.pool[r].push(t)},r.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},r}(o.default);i.default=d},{"../../../Shader":44,"../../../math":70,"../filters/filterTransforms":88,"../utils/Quad":95,"../utils/RenderTarget":96,"./WebGLManager":93,"bit-twiddle":1}],91:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("./WebGLManager")),o=r(t("../filters/spriteMask/SpriteMaskFilter")),s=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.scissor=!1,e.scissorData=null,e.scissorRenderTarget=null,e.enableScissor=!0,e.alphaMaskPool=[],e.alphaMaskIndex=0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var i=e.worldTransform,r=Math.atan2(i.b,i.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},r.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},r.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new o.default(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,i),this.alphaMaskIndex++},r.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},r.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},r.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},r.prototype.pushScissorMask=function(t,e){e.renderable=!0;var i=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(i.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(r.x*n,(i.root?i.size.height-r.y-r.height:r.y)*n,r.width*n,r.height*n),this.scissorRenderTarget=i,this.scissorData=e,this.scissor=!0},r.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},r}(n.default);i.default=s},{"../filters/spriteMask/SpriteMaskFilter":89,"./WebGLManager":93}],92:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./WebGLManager"),o=(r=n)&&r.__esModule?r:{default:r},s=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.stencilMaskStack=null,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},r.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,i=this.stencilMaskStack.length;0===i&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,i,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},r.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},r.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},r.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},r.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},r}(o.default);i.default=s},{"./WebGLManager":93}],93:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t,this.renderer.on("context",this.onContextChange,this)}return e.prototype.onContextChange=function(){},e.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},e}();i.default=r},{}],94:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../managers/WebGLManager"),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((r=n)&&r.__esModule?r:{default:r}).default);i.default=o},{"../managers/WebGLManager":93}],95:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("pixi-gl-core")),o=r(t("../../../utils/createIndicesForQuads")),s=function(){function r(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var i=0;i<4;i++)this.interleaved[4*i]=this.vertices[2*i],this.interleaved[4*i+1]=this.vertices[2*i+1],this.interleaved[4*i+2]=this.uvs[2*i],this.interleaved[4*i+3]=this.uvs[2*i+1];this.indices=(0,o.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t,e)}return r.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},r.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this},r.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},r.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},r}();i.default=s},{"../../../utils/createIndicesForQuads":123,"pixi-gl-core":15}],96:[function(t,e,i){"use strict";i.__esModule=!0;var r,a=t("../../../math"),l=t("../../../const"),n=t("../../../settings"),u=(r=n)&&r.__esModule?r:{default:r},c=t("pixi-gl-core"),o=function(){function s(t,e,i,r,n,o){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new a.Rectangle(0,0,1,1),this.resolution=n||u.default.RESOLUTION,this.projectionMatrix=new a.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new a.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==r?r:u.default.SCALE_MODE,this.root=o,this.root?(this.frameBuffer=new c.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=c.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===l.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,i)}return s.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},s.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},s.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},s.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},s.prototype.calculateProjection=function(t,e){var i=this.projectionMatrix;e=e||t,i.identity(),this.root?(i.a=1/t.width*2,i.d=-1/t.height*2,i.tx=-1-e.x*i.a,i.ty=1-e.y*i.d):(i.a=1/t.width*2,i.d=1/t.height*2,i.tx=-1-e.x*i.a,i.ty=-1-e.y*i.d)},s.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var i=this.frame||this.size;this.calculateProjection(i)}},s.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},s}();i.default=o},{"../../../const":46,"../../../math":70,"../../../settings":101,"pixi-gl-core":15}],97:[function(t,e,i){"use strict";function s(t){for(var e="",i=0;i<t;++i)0<i&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}i.__esModule=!0,i.default=function(t,e){var i=!e;if(i){var r=document.createElement("canvas");r.width=1,r.height=1,e=a.default.createContext(r)}for(var n=e.createShader(e.FRAGMENT_SHADER);;){var o=l.replace(/%forloop%/gi,s(t));if(e.shaderSource(n,o),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return i&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t};var r,n=t("pixi-gl-core"),a=(r=n)&&r.__esModule?r:{default:r},l=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},{"pixi-gl-core":15}],98:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return e[r.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[r.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var r=t("../../../const")},{"../../../const":46}],99:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e[r.DRAW_MODES.POINTS]=t.POINTS,e[r.DRAW_MODES.LINES]=t.LINES,e[r.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[r.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[r.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[r.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[r.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var r=t("../../../const")},{"../../../const":46}],100:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],101:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("./utils/maxRecommendedTextures")),o=r(t("./utils/canUploadSameBuffer"));i.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,o.default)(),MESH_CANVAS_PADDING:0}},{"./utils/canUploadSameBuffer":122,"./utils/maxRecommendedTextures":127}],102:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../math"),s=t("../utils"),a=t("../const"),l=r(t("../textures/Texture")),u=r(t("../display/Container")),c=new o.Point,h=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this));return e._anchor=new o.ObservablePoint(e._onAnchorUpdate,e),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=a.BLEND_MODES.NORMAL,e.shader=null,e.cachedTint=16777215,e.texture=t||l.default.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.pluginName="sprite",e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,s.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,s.sign)(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,l=this.vertexData,u=t.trim,c=t.orig,h=this._anchor,d=0,f=0,p=0,m=0;u?(d=(f=u.x-h._x*c.width)+u.width,p=(m=u.y-h._y*c.height)+u.height):(d=(f=-h._x*c.width)+c.width,p=(m=-h._y*c.height)+c.height),l[0]=i*f+n*m+s,l[1]=o*m+r*f+a,l[2]=i*d+n*m+s,l[3]=o*m+r*d+a,l[4]=i*d+n*p+s,l[5]=o*p+r*d+a,l[6]=i*f+n*p+s,l[7]=o*p+r*f+a}},r.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,l=n.d,u=n.tx,c=n.ty,h=-r._x*i.width,d=h+i.width,f=-r._y*i.height,p=f+i.height;e[0]=o*h+a*f+u,e[1]=l*f+s*h+c,e[2]=o*d+a*f+u,e[3]=l*f+s*d+c,e[4]=o*d+a*p+u,e[5]=l*p+s*d+c,e[6]=o*h+a*p+u,e[7]=l*p+s*h+c},r.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},r.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):i.prototype.getLocalBounds.call(this,t)},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return c.x>=r&&c.x<r+e&&(n=-i*this.anchor.y,c.y>=n&&c.y<n+i)},r.prototype.destroy=function(t){if(i.prototype.destroy.call(this,t),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var e="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!e)}this._texture=null,this.shader=null},r.from=function(t){return new r(l.default.from(t))},r.fromFrame=function(t){var e=s.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new r(e)},r.fromImage=function(t,e,i){return new r(l.default.fromImage(t,e,i))},n(r,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),r}(u.default);i.default=h},{"../const":46,"../display/Container":48,"../math":70,"../textures/Texture":115,"../utils":125}],103:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("../../renderers/canvas/CanvasRenderer")),c=t("../../const"),h=t("../../math"),d=r(t("./CanvasTinter")),f=new h.Matrix,o=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t}return e.prototype.render=function(t){var e=t._texture,i=this.renderer,r=e._frame.width,n=e._frame.height,o=t.transform.worldTransform,s=0,a=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(i.setBlendMode(t.blendMode),e.valid)){i.context.globalAlpha=t.worldAlpha;var l=e.baseTexture.scaleMode===c.SCALE_MODES.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==l&&(i.context[i.smoothProperty]=l),e.trim?(s=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,a=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(s=(.5-t.anchor.x)*e.orig.width,a=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(f),o=f,h.GroupD8.matrixAppendRotationInv(o,e.rotate,s,a),a=s=0),s-=r/2,a-=n/2,i.roundPixels?(i.context.setTransform(o.a,o.b,o.c,o.d,o.tx*i.resolution|0,o.ty*i.resolution|0),s|=0,a|=0):i.context.setTransform(o.a,o.b,o.c,o.d,o.tx*i.resolution,o.ty*i.resolution);var u=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=d.default.getTintedTexture(t,t.tint)),i.context.drawImage(t.tintedTexture,0,0,r*u,n*u,s*i.resolution,a*i.resolution,r*i.resolution,n*i.resolution)):i.context.drawImage(e.baseTexture.source,e._frame.x*u,e._frame.y*u,r*u,n*u,s*i.resolution,a*i.resolution,r*i.resolution,n*i.resolution)}},e.prototype.destroy=function(){this.renderer=null},e}();i.default=o,n.default.registerPlugin("sprite",o)},{"../../const":46,"../../math":70,"../../renderers/canvas/CanvasRenderer":77,"./CanvasTinter":104}],104:[function(t,e,i){"use strict";i.__esModule=!0;var r,f=t("../../utils"),n=t("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),a={getTintedTexture:function(t,e){var i=t._texture,r="#"+("00000"+(0|(e=a.roundColor(e))).toString(16)).substr(-6);i.tintCache=i.tintCache||{};var n=i.tintCache[r],o=void 0;if(n){if(n.tintId===i._updateID)return i.tintCache[r];o=i.tintCache[r]}else o=a.canvas||document.createElement("canvas");if(a.tintMethod(i,e,o),o.tintId=i._updateID,a.convertTintToImage){var s=new Image;s.src=o.toDataURL(),i.tintCache[r]=s}else i.tintCache[r]=o,a.canvas=null;return o},tintWithMultiply:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),o=t.baseTexture.resolution;n.x*=o,n.y*=o,n.width*=o,n.height*=o,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore()},tintWithOverlay:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),o=t.baseTexture.resolution;n.x*=o,n.y*=o,n.width*=o,n.height*=o,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore()},tintWithPerPixel:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),o=t.baseTexture.resolution;n.x*=o,n.y*=o,n.width*=o,n.height*=o,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore();for(var s=(0,f.hex2rgb)(e),a=s[0],l=s[1],u=s[2],c=r.getImageData(0,0,n.width,n.height),h=c.data,d=0;d<h.length;d+=4)h[d+0]*=a,h[d+1]*=l,h[d+2]*=u;r.putImageData(c,0,0)},roundColor:function(t){var e=a.cacheStepsPerColorChannel,i=(0,f.hex2rgb)(t);return i[0]=Math.min(255,i[0]/e*e),i[1]=Math.min(255,i[1]/e*e),i[2]=Math.min(255,i[2]/e*e),(0,f.rgb2hex)(i)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=n)&&r.__esModule?r:{default:r}).default)(),tintMethod:0};a.tintMethod=a.canUseMultiply?a.tintWithMultiply:a.tintWithPerPixel,i.default=a},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":80,"../../utils":125}],105:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return e.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e}();i.default=r},{}],106:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("../../renderers/webgl/utils/ObjectRenderer")),o=r(t("../../renderers/webgl/WebGLRenderer")),s=r(t("../../utils/createIndicesForQuads")),a=r(t("./generateMultiTextureShader")),l=r(t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader")),u=r(t("./BatchBuffer")),B=r(t("../../settings")),j=t("../../utils"),F=r(t("pixi-gl-core")),$=r(t("bit-twiddle")),U=0,z=0,c=function(n){function o(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));e.vertSize=5,e.vertByteSize=4*e.vertSize,e.size=B.default.SPRITE_BATCH_SIZE,e.buffers=[];for(var i=1;i<=$.default.nextPow2(e.size);i*=2)e.buffers.push(new u.default(4*i*e.vertByteSize));e.indices=(0,s.default)(e.size),e.shader=null,e.currentIndex=0,e.groups=[];for(var r=0;r<e.size;r++)e.groups[r]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return e.sprites=[],e.vertexBuffers=[],e.vaos=[],e.vaoMax=2,e.vertexCount=0,e.renderer.on("prerender",e.onPrerender,e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),B.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,l.default)(this.MAX_TEXTURES,t)),this.shader=(0,a.default)(t,this.MAX_TEXTURES),this.indexBuffer=F.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,i=0;i<this.vaoMax;i++){var r=this.vertexBuffers[i]=F.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),n=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(r,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&n.addAttribute(r,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[i]=n}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},o.prototype.onPrerender=function(){this.vertexCount=0},o.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},o.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,i=$.default.nextPow2(this.currentIndex),r=$.default.log2(i),n=this.buffers[r],o=this.sprites,s=this.groups,a=n.float32View,l=n.uint32View,u=this.boundTextures,c=this.renderer.boundTextures,h=this.renderer.textureGC.count,d=0,f=void 0,p=void 0,m=1,v=0,g=s[0],y=void 0,b=void 0,x=j.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];g.textureCount=0,g.start=0,g.blend=x,U++;var _=void 0;for(_=0;_<e;++_){var w=c[_];w._enabled!==U?((u[_]=w)._virtalBoundId=_,w._enabled=U):u[_]=this.renderer.emptyTextures[_]}for(U++,_=0;_<this.currentIndex;++_){var T=o[_];f=T._texture.baseTexture;var S=j.premultiplyBlendMode[Number(f.premultipliedAlpha)][T.blendMode];if(x!==S&&(x=S,p=null,v=e,U++),p!==f&&(p=f)._enabled!==U){if(v===e&&(U++,g.size=_-g.start,v=0,(g=s[m++]).blend=x,g.textureCount=0,g.start=_),f.touched=h,-1===f._virtalBoundId)for(var E=0;E<e;++E){var C=(E+z)%e,O=u[C];if(O._enabled!==U){z++,O._virtalBoundId=-1,u[f._virtalBoundId=C]=f;break}}f._enabled=U,g.textureCount++,g.ids[v]=f._virtalBoundId,g.textures[v++]=f}if(y=T.vertexData,b=T._texture._uvs.uvsUint32,this.renderer.roundPixels){var M=this.renderer.resolution;a[d]=(y[0]*M|0)/M,a[d+1]=(y[1]*M|0)/M,a[d+5]=(y[2]*M|0)/M,a[d+6]=(y[3]*M|0)/M,a[d+10]=(y[4]*M|0)/M,a[d+11]=(y[5]*M|0)/M,a[d+15]=(y[6]*M|0)/M,a[d+16]=(y[7]*M|0)/M}else a[d]=y[0],a[d+1]=y[1],a[d+5]=y[2],a[d+6]=y[3],a[d+10]=y[4],a[d+11]=y[5],a[d+15]=y[6],a[d+16]=y[7];l[d+2]=b[0],l[d+7]=b[1],l[d+12]=b[2],l[d+17]=b[3];var A=Math.min(T.worldAlpha,1),P=A<1&&f.premultipliedAlpha?(0,j.premultiplyTint)(T._tintRGB,A):T._tintRGB+(255*A<<24);l[d+3]=l[d+8]=l[d+13]=l[d+18]=P,a[d+4]=a[d+9]=a[d+14]=a[d+19]=f._virtalBoundId,d+=20}if(g.size=_-g.start,B.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(n.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var k=this.shader.attributes,D=this.vertexBuffers[this.vertexCount]=F.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),R=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(D,k.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(D,k.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(D,k.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);k.aTextureId&&R.addAttribute(D,k.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=R}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(n.vertices,0,!1),this.vertexCount++}for(_=0;_<e;++_)c[_]._virtalBoundId=-1;for(_=0;_<m;++_){for(var I=s[_],L=I.textureCount,N=0;N<L;N++)p=I.textures[N],c[I.ids[N]]!==p&&this.renderer.bindTexture(p,I.ids[N],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(I.blend),t.drawElements(t.TRIANGLES,6*I.size,t.UNSIGNED_SHORT,6*I.start*2)}this.currentIndex=0}},o.prototype.start=function(){this.renderer.bindShader(this.shader),B.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},o.prototype.stop=function(){this.flush()},o.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var e=0;e<this.buffers.length;++e)this.buffers[e].destroy()},o}(n.default);i.default=c,o.default.registerPlugin("sprite",c)},{"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":97,"../../settings":101,"../../utils":125,"../../utils/createIndicesForQuads":123,"./BatchBuffer":105,"./generateMultiTextureShader":107,"bit-twiddle":1,"pixi-gl-core":15}],107:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e){var i=a;i=(i=i.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)0<i&&(e+="\nelse "),i<t-1&&(e+="if(textureId == "+i+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var r=new s.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",i),n=[],o=0;o<e;o++)n[o]=o;return r.bind(),r.uniforms.uSamplers=n,r};var r,n=t("../../Shader"),s=(r=n)&&r.__esModule?r:{default:r},a=(t("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},{"../../Shader":44,path:8}],108:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=r(t("../sprites/Sprite")),a=r(t("../textures/Texture")),l=t("../math"),u=t("../utils"),m=t("../const"),c=r(t("../settings")),h=r(t("./TextStyle")),g=r(t("./TextMetrics")),d=r(t("../utils/trimCanvas")),f={texture:!0,children:!1,baseTexture:!0},s=function(o){function s(t,e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),(i=i||document.createElement("canvas")).width=3,i.height=3;var r=a.default.fromCanvas(i,c.default.SCALE_MODE,"text");r.orig=new l.Rectangle,r.trim=new l.Rectangle;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,r));return a.default.addToCache(n._texture,n._texture.baseTexture.textureCacheIds[0]),n.canvas=i,n.context=n.canvas.getContext("2d"),n.resolution=c.default.RESOLUTION,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=t,n.style=e,n.localStyleID=-1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i=this.context,r=g.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),n=r.width,o=r.height,s=r.lines,a=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,n)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),i.scale(this.resolution,this.resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.strokeStyle=e.stroke,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;var h=void 0,d=void 0;if(e.dropShadow){i.fillStyle=e.dropShadowColor,i.globalAlpha=e.dropShadowAlpha,i.shadowBlur=e.dropShadowBlur,0<e.dropShadowBlur&&(i.shadowColor=e.dropShadowColor);for(var f=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,p=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,m=0;m<s.length;m++)h=e.strokeThickness/2,d=e.strokeThickness/2+m*a+c.ascent,"right"===e.align?h+=u-l[m]:"center"===e.align&&(h+=(u-l[m])/2),e.fill&&(this.drawLetterSpacing(s[m],h+f+e.padding,d+p+e.padding),e.stroke&&e.strokeThickness&&(i.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[m],h+f+e.padding,d+p+e.padding,!0),i.strokeStyle=e.stroke))}i.shadowBlur=0,i.globalAlpha=1,i.fillStyle=this._generateFillStyle(e,s);for(var v=0;v<s.length;v++)h=e.strokeThickness/2,d=e.strokeThickness/2+v*a+c.ascent,"right"===e.align?h+=u-l[v]:"center"===e.align&&(h+=(u-l[v])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[v],h+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[v],h+e.padding,d+e.padding);this.updateTexture()}},s.prototype.drawLetterSpacing=function(t,e,i){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=this._style.letterSpacing;if(0!==n)for(var o=String.prototype.split.call(t,""),s=e,a=0,l="";a<t.length;)l=o[a++],r?this.context.strokeText(l,s,i):this.context.fillText(l,s,i),s+=this.context.measureText(l).width+n;else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},s.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,d.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var i=this._texture,r=this._style,n=r.trim?0:r.padding,o=i.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,i.trim.width=i._frame.width=t.width/this.resolution,i.trim.height=i._frame.height=t.height/this.resolution,i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},s.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),o.prototype.renderWebGL.call(this,t)},s.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),o.prototype._renderCanvas.call(this,t)},s.prototype.getLocalBounds=function(t){return this.updateText(!0),o.prototype.getLocalBounds.call(this,t)},s.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},s.prototype._onStyleChange=function(){this.dirty=!0},s.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var i=void 0,r=void 0,n=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,l=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var c=l.length+1,h=1;h<c;++h)u.push(h/c);if(l.unshift(t.fill[0]),u.unshift(0),l.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===m.TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(s/2,0,s/2,a),r=(l.length+1)*e.length;for(var d=n=0;d<e.length;d++){n+=1;for(var f=0;f<l.length;f++)o="number"==typeof u[f]?u[f]/e.length+d/e.length:n/r,i.addColorStop(o,l[f]),n++}}else{i=this.context.createLinearGradient(0,a/2,s,a/2),r=l.length+1,n=1;for(var p=0;p<l.length;p++)o="number"==typeof u[p]?u[p]:n/r,i.addColorStop(o,l[p]),n++}return i},s.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},f,t),o.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},n(s,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,u.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,u.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof h.default?this._style=t:this._style=new h.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),s}(o.default);i.default=s},{"../const":46,"../math":70,"../settings":101,"../sprites/Sprite":102,"../textures/Texture":115,"../utils":125,"../utils/trimCanvas":130,"./TextMetrics":109,"./TextStyle":110}],109:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function y(t,e,i,r,n,o,s,a,l){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,y),this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=l}return y.measureText=function(t,e,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:y._canvas;i=i||e.wordWrap;var n=e.toFontString(),o=y.measureFont(n),s=r.getContext("2d");s.font=n;for(var a=(i?y.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),l=new Array(a.length),u=0,c=0;c<a.length;c++){var h=s.measureText(a[c]).width+(a[c].length-1)*e.letterSpacing;l[c]=h,u=Math.max(u,h)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var f=e.lineHeight||o.fontSize+e.strokeThickness,p=Math.max(f,o.fontSize+e.strokeThickness)+(a.length-1)*(f+e.leading);return e.dropShadow&&(p+=e.dropShadowDistance),new y(t,e,d,p,a,l,f+e.leading,u,o)},y.wordWrap=function(t,e){for(var i=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:y._canvas).getContext("2d"),r="",n=0,o="",s={},a=e.letterSpacing,l=e.wordWrapWidth+e.letterSpacing,u=y.getFromCache(" ",a,s,i),c=t.split(" "),h=0;h<c.length;h++){var d=c[h],f=y.getFromCache(d,a,s,i);if(l<f)if(e.breakWords)for(var p=(0<r.length?" "+d:d).split(""),m=0;m<p.length;m++){var v=p[m],g=y.getFromCache(v,a,s,i);l<g+n&&(o+=y.addLine(r),r="",n=0),r+=v,n+=g}else 0<r.length&&(o+=y.addLine(r),r="",n=0),o+=y.addLine(d),r="",n=0;else l<f+n&&(o+=y.addLine(r),r="",n=0),0<r.length?r+=" "+d:r+=d,n+=f+u}return o+y.addLine(r,!1)},y.addLine=function(t){return 1<arguments.length&&void 0!==arguments[1]&&!arguments[1]?t:t+"\n"},y.getFromCache=function(t,e,i,r){var n=i[t];if(void 0===n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},y.measureFont=function(t){if(y._fonts[t])return y._fonts[t];var e={},i=y._canvas,r=y._context;r.font=t;var n=Math.ceil(r.measureText("|MÉq").width),o=Math.ceil(r.measureText("M").width),s=2*o;o=1.4*o|0,i.width=n,i.height=s,r.fillStyle="#f00",r.fillRect(0,0,n,s),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText("|MÉq",0,o);var a=r.getImageData(0,0,n,s).data,l=a.length,u=4*n,c=0,h=0,d=!1;for(c=0;c<o;++c){for(var f=0;f<u;f+=4)if(255!==a[h+f]){d=!0;break}if(d)break;h+=u}for(e.ascent=o-c,h=l-u,d=!1,c=s;o<c;--c){for(var p=0;p<u;p+=4)if(255!==a[h+p]){d=!0;break}if(d)break;h-=u}return e.descent=c-o,e.fontSize=e.ascent+e.descent,y._fonts[t]=e},y}();i.default=r;var n=document.createElement("canvas");n.width=n.height=10,r._canvas=n,r._context=n.getContext("2d"),r._fonts={}},{}],110:[function(t,e,i){"use strict";function r(t){return"number"==typeof t?(0,l.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function n(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=r(t[e]);return t}return r(t)}function o(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}i.__esModule=!0;var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=t("../const"),l=t("../utils"),u={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:a.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},c=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.styleID=0,this.reset(),o(this,t,t)}return e.prototype.clone=function(){var t={};return o(t,this,u),new e(t)},e.prototype.reset=function(){o(this,u,u)},e.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;0<=i;i--){var r=e[i].trim();/([\"\'])[^\'\"]+\1/.test(r)||(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},s(e,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=n(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=n(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=n(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),e}();i.default=c},{"../const":46,"../utils":125}],111:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("./BaseTexture")),a=r(t("../settings")),o=function(o){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=arguments[2],r=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,null,i));return n.resolution=r||a.default.RESOLUTION,n.width=Math.ceil(t),n.height=Math.ceil(e),n.realWidth=n.width*n.resolution,n.realHeight=n.height*n.resolution,n.scaleMode=void 0!==i?i:a.default.SCALE_MODE,n.hasLoaded=!0,n._glRenderTargets={},n._canvasRenderTarget=null,n.valid=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=0<t&&0<e,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},s.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.renderer=null},s}(n.default);i.default=o},{"../settings":101,"./BaseTexture":112}],112:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var a=t("../utils"),o=r(t("../settings")),n=r(t("eventemitter3")),l=r(t("../utils/determineCrossOrigin")),u=r(t("bit-twiddle")),s=function(n){function s(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this));return r.uid=(0,a.uid)(),r.touched=0,r.resolution=i||o.default.RESOLUTION,r.width=100,r.height=100,r.realWidth=100,r.realHeight=100,r.scaleMode=void 0!==e?e:o.default.SCALE_MODE,r.hasLoaded=!1,r.isLoading=!1,r.source=null,r.origSource=null,r.imageType=null,r.sourceScale=1,r.premultipliedAlpha=!0,r.imageUrl=null,r.isPowerOfTwo=!1,r.mipmap=o.default.MIPMAP_TEXTURES,r.wrapMode=o.default.WRAP_MODE,r._glTextures={},r._enabled=0,r._virtalBoundId=-1,r._destroyed=!1,r.textureCacheIds=[],t&&r.loadSource(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,n),s.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},s.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=u.default.isPow2(this.realWidth)&&u.default.isPow2(this.realHeight)},s.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var i=!this.source;if(((this.source=t).src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),i&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var r=this;if(t.onload=function(){if(r._updateImageType(),t.onload=null,t.onerror=null,r.isLoading){if(r.isLoading=!1,r._sourceLoaded(),"svg"===r.imageType)return void r._loadSvgSource();r.emit("loaded",r)}},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===r.imageType)return void r._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},s.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,a.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var i=t.subType.split("+")[0];if(!(e=(0,a.getUrlFileExtension)("."+i)))throw new Error("Invalid image type in data URI.")}else(e=(0,a.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},s.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,a.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},s.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},s.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},s.prototype._loadSvgSourceUsingString=function(t){var e=(0,a.getSvgSize)(t),i=e.width,r=e.height;if(!i||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(r*this.sourceScale),this._updateDimensions();var n=document.createElement("canvas");n.width=this.realWidth,n.height=this.realHeight,n._pixiId="canvas_"+(0,a.uid)(),n.getContext("2d").drawImage(this.source,0,0,i,r,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=n,s.addToCache(this,n._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},s.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},s.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),s.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},s.prototype.dispose=function(){this.emit("dispose",this)},s.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},s.fromImage=function(t,e,i,r){var n=a.BaseTextureCache[t];if(!n){var o=new Image;void 0===e&&0!==t.indexOf("data:")?o.crossOrigin=(0,l.default)(t):e&&(o.crossOrigin="string"==typeof e?e:"anonymous"),(n=new s(o,i)).imageUrl=t,r&&(n.sourceScale=r),n.resolution=(0,a.getResolutionOfUrl)(t),o.src=t,s.addToCache(n,t)}return n},s.fromCanvas=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,a.uid)());var r=a.BaseTextureCache[t._pixiId];return r||(r=new s(t,e),s.addToCache(r,t._pixiId)),r},s.from=function(t,e,i){if("string"==typeof t)return s.fromImage(t,void 0,e,i);if(t instanceof HTMLImageElement){var r=t.src,n=a.BaseTextureCache[r];return n||((n=new s(t,e)).imageUrl=r,i&&(n.sourceScale=i),n.resolution=(0,a.getResolutionOfUrl)(r),s.addToCache(n,r)),n}return t instanceof HTMLCanvasElement?s.fromCanvas(t,e):t},s.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.BaseTextureCache[e]=t)},s.removeFromCache=function(t){if("string"==typeof t){var e=a.BaseTextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete a.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete a.BaseTextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},s}(n.default);i.default=s},{"../settings":101,"../utils":125,"../utils/determineCrossOrigin":124,"bit-twiddle":1,eventemitter3:3}],113:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var c=r(t("./BaseRenderTexture")),n=function(l){function u(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var i=null;if(!(t instanceof c.default)){var r=e,n=arguments[2],o=arguments[3],s=arguments[4];console.warn("Please use RenderTexture.create("+r+", "+n+") instead of the ctor directly."),i=t,e=null,t=new c.default(r,n,o,s)}var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,l.call(this,t,e));return a.legacyRenderer=i,a.valid=!0,a._updateUvs(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,l),u.prototype.resize=function(t,e,i){t=Math.ceil(t),e=Math.ceil(e),this.valid=0<t&&0<e,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i||this.baseTexture.resize(t,e),this._updateUvs()},u.create=function(t,e,i,r){return new u(new c.default(t,e,i,r))},u}(r(t("./Texture")).default);i.default=n},{"./BaseRenderTexture":111,"./Texture":115}],114:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),d=t("../"),n=t("../utils"),o=function(){function h(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,h),this.baseTexture=t,this.textures={},this.data=e,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r(h,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),h.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=(0,n.getResolutionOfUrl)(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&(this.baseTexture.resolution=i,this.baseTexture.update()),i},h.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=h.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},h.prototype._processFrames=function(t){for(var e=t,i=h.BATCH_SIZE,r=this.baseTexture.sourceScale;e-t<i&&e<this._frameKeys.length;){var n=this._frameKeys[e],o=this._frames[n],s=o.frame;if(s){var a,l=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new d.Rectangle(0,0,Math.floor(u.w*r)/this.resolution,Math.floor(u.h*r)/this.resolution);a=o.rotated?new d.Rectangle(Math.floor(s.x*r)/this.resolution,Math.floor(s.y*r)/this.resolution,Math.floor(s.h*r)/this.resolution,Math.floor(s.w*r)/this.resolution):new d.Rectangle(Math.floor(s.x*r)/this.resolution,Math.floor(s.y*r)/this.resolution,Math.floor(s.w*r)/this.resolution,Math.floor(s.h*r)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new d.Rectangle(Math.floor(o.spriteSourceSize.x*r)/this.resolution,Math.floor(o.spriteSourceSize.y*r)/this.resolution,Math.floor(s.w*r)/this.resolution,Math.floor(s.h*r)/this.resolution)),this.textures[n]=new d.Texture(this.baseTexture,a,c,l,o.rotated?2:0),d.Texture.addToCache(this.textures[n],n)}e++}},h.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},h.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*h.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*h.BATCH_SIZE<t._frameKeys.length?t._nextBatch():t._parseComplete()},0)},h.prototype.destroy=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},h}();i.default=o},{"../":65,"../utils":125}],115:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}i.__esModule=!0;var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),l=r(t("./BaseTexture")),u=r(t("./VideoBaseTexture")),c=r(t("./TextureUvs")),s=r(t("eventemitter3")),h=t("../math"),d=t("../utils"),f=r(t("../settings")),a=function(s){function a(t,e,i,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this));if(o.noFrame=!1,e||(o.noFrame=!0,e=new h.Rectangle(0,0,1,1)),t instanceof a&&(t=t.baseTexture),o.baseTexture=t,o._frame=e,o.trim=r,o.valid=!1,o.requiresUpdate=!1,o._uvs=null,o.orig=i||e,o._rotate=Number(n||0),!0===n)o._rotate=2;else if(o._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return t.hasLoaded?(o.noFrame&&(e=new h.Rectangle(0,0,t.width,t.height),t.on("update",o.onBaseTextureUpdated,o)),o.frame=e):t.once("loaded",o.onBaseTextureLoaded,o),o._updateID=0,o.transform=null,o.textureCacheIds=[],o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,s),a.prototype.update=function(){this.baseTexture.update()},a.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new h.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},a.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},a.prototype.destroy=function(t){this.baseTexture&&(t&&(d.TextureCache[this.baseTexture.imageUrl]&&a.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,a.removeFromCache(this),this.textureCacheIds=null},a.prototype.clone=function(){return new a(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},a.prototype._updateUvs=function(){this._uvs||(this._uvs=new c.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},a.fromImage=function(t,e,i,r){var n=d.TextureCache[t];return n||(n=new a(l.default.fromImage(t,e,i,r)),a.addToCache(n,t)),n},a.fromFrame=function(t){var e=d.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},a.fromCanvas=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";return new a(l.default.fromCanvas(t,e,i))},a.fromVideo=function(t,e){return"string"==typeof t?a.fromVideoUrl(t,e):new a(u.default.fromVideo(t,e))},a.fromVideoUrl=function(t,e){return new a(u.default.fromUrl(t,e))},a.from=function(t){if("string"==typeof t){var e=d.TextureCache[t];return e||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?a.fromVideoUrl(t):a.fromImage(t))}return t instanceof HTMLImageElement?new a(l.default.from(t)):t instanceof HTMLCanvasElement?a.fromCanvas(t,f.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?a.fromVideo(t):t instanceof l.default?new a(t):t},a.fromLoader=function(t,e,i){var r=new l.default(t,void 0,(0,d.getResolutionOfUrl)(e)),n=new a(r);return r.imageUrl=e,i||(i=e),l.default.addToCache(n.baseTexture,i),a.addToCache(n,i),i!==e&&(l.default.addToCache(n.baseTexture,e),a.addToCache(n,e)),n},a.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),d.TextureCache[e]=t)},a.removeFromCache=function(t){if("string"==typeof t){var e=d.TextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete d.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)d.TextureCache[t.textureCacheIds[r]]===t&&delete d.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},o(a,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,o=e+r>this.baseTexture.width,s=i+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",l="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+a+" "+u)}this.valid=r&&n&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),a}(s.default);(i.default=a).EMPTY=new a(new l.default),n(a.EMPTY),n(a.EMPTY.baseTexture),a.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new a(new l.default(t))}(),n(a.WHITE),n(a.WHITE.baseTexture)},{"../math":70,"../settings":101,"../utils":125,"./BaseTexture":112,"./TextureUvs":117,"./VideoBaseTexture":118,eventemitter3:3}],116:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../math/Matrix"),s=(r=o)&&r.__esModule?r:{default:r},u=new s.default,a=function(){function i(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this._texture=t,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e}return i.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[r]=n*i.a+o*i.c+i.tx,e[r+1]=n*i.b+o*i.d+i.ty}return e},i.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(u.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(u));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(e._frame.x+a+l)/o.width,s[1]=(e._frame.y+a+l)/o.height,s[2]=(e._frame.x+e._frame.width-a+l)/o.width,s[3]=(e._frame.y+e._frame.height-a+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},n(i,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),i}();i.default=a},{"../math/Matrix":67}],117:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../math/GroupD8"),u=(r=n)&&r.__esModule?r:{default:r},o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var o=t.width/2/r,s=t.height/2/n,a=t.x/r+o,l=t.y/n+s;i=u.default.add(i,u.default.NW),this.x0=a+o*u.default.uX(i),this.y0=l+s*u.default.uY(i),i=u.default.add(i,2),this.x1=a+o*u.default.uX(i),this.y1=l+s*u.default.uY(i),i=u.default.add(i,2),this.x2=a+o*u.default.uX(i),this.y2=l+s*u.default.uY(i),i=u.default.add(i,2),this.x3=a+o*u.default.uX(i),this.y3=l+s*u.default.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();i.default=o},{"../math/GroupD8":66}],118:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=t,i.type=e,i}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=r(t("./BaseTexture")),l=t("../utils"),u=t("../ticker"),c=t("../const"),h=r(t("../utils/determineCrossOrigin")),s=function(r){function s(t,e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,t,e));return i.width=t.videoWidth,i.height=t.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),t.addEventListener("play",i._onPlayStart.bind(i)),t.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(t.addEventListener("canplay",i._onCanPlay),t.addEventListener("canplaythrough",i._onCanPlay)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,r),s.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},s.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},s.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(u.shared.add(this.update,this,c.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},s.prototype._onPlayStop=function(){this._isAutoUpdating&&(u.shared.remove(this.update,this),this._isAutoUpdating=!1)},s.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},s.prototype.destroy=function(){this._isAutoUpdating&&u.shared.remove(this.update,this),this.source&&this.source._pixiId&&(o.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),r.prototype.destroy.call(this)},s.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+(0,l.uid)());var i=l.BaseTextureCache[t._pixiId];return i||(i=new s(t,e),o.default.addToCache(i,t._pixiId)),i},s.fromUrl=function(t,e,i){var r=document.createElement("video");r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","");var n=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===i&&0!==n.indexOf("data:")?r.crossOrigin=(0,h.default)(n):i&&(r.crossOrigin="string"==typeof i?i:"anonymous"),Array.isArray(t))for(var o=0;o<t.length;++o)r.appendChild(a(t[o].src||t[o],t[o].mime));else r.appendChild(a(n,t.mime));return r.load(),s.fromVideo(r,e)},n(s,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(u.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(u.shared.add(this.update,this,c.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),s}(o.default);(i.default=s).fromUrls=s.fromUrl},{"../const":46,"../ticker":121,"../utils":125,"../utils/determineCrossOrigin":124,"./BaseTexture":112}],119:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=r(t("../settings")),s=t("../const"),a=r(t("./TickerListener")),l=function(){function t(){var e=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,i))},t.prototype.addOnce=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}e=(i=e).next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*o.default.TARGET_FPMS*this.speed;for(var i=this._head,r=i.next;r;)r=r.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},n(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,o.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();i.default=l},{"../const":46,"../settings":101,"./TickerListener":120}],120:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return n.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.previous;return this.next=t?null:e,this.previous=null,e},n}();i.default=r},{}],121:[function(t,e,i){"use strict";i.__esModule=!0,i.Ticker=i.shared=void 0;var r,n=t("./Ticker"),o=(r=n)&&r.__esModule?r:{default:r},s=new o.default;s.autoStart=!0,s.destroy=function(){},i.shared=s,i.Ticker=o.default},{"./Ticker":119}],122:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},{}],123:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){for(var e=6*t,i=new Uint16Array(e),r=0,n=0;r<e;r+=6,n+=4)i[r+0]=n+0,i[r+1]=n+1,i[r+2]=n+2,i[r+3]=n+0,i[r+4]=n+2,i[r+5]=n+3;return i}},{}],124:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a")),s.href=t;var i=!(t=o.default.parse(s.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&i&&t.protocol===e.protocol?"":"anonymous"};var r,n=t("url"),o=(r=n)&&r.__esModule?r:{default:r},s=void 0},{url:38}],125:[function(t,e,i){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.premultiplyBlendMode=i.BaseTextureCache=i.TextureCache=i.earcut=i.mixins=i.pluginTarget=i.EventEmitter=i.removeItems=i.isMobile=void 0,i.uid=function(){return++p},i.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},i.hex2string=function(t){return t=t.toString(16),"#"+("000000".substr(0,6-t.length)+t)},i.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},i.getResolutionOfUrl=function(t,e){var i=s.default.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1},i.decomposeDataUri=function(t){var e=o.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]}},i.getUrlFileExtension=function(t){var e=o.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()},i.getSvgSize=function(t){var e=o.SVG_SIZE.exec(t),i={};return e&&(i[e[1]]=Math.round(parseFloat(e[3])),i[e[5]]=Math.round(parseFloat(e[7]))),i},i.skipHello=function(){m=!0},i.sayHello=function(t){if(!m){if(-1<navigator.userAgent.toLowerCase().indexOf("chrome")){var e=["\n %c %c %c PixiJS "+o.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+o.VERSION+" - "+t+" - http://www.pixijs.com/");m=!0}},i.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(t){return!1}},i.sign=function(t){return 0===t?0:t<0?-1:1},i.destroyTextureCache=function(){var t=void 0;for(t in v)v[t].destroy();for(t in g)g[t].destroy()},i.clearTextureCache=function(){var t=void 0;for(t in v)delete v[t];for(t in g)delete g[t]},i.correctBlendMode=function(t,e){return y[e?1:0][t]},i.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,n=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(n=n*e+.5|0)},i.premultiplyRgba=function(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i},i.premultiplyTintToRgba=function(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(r||void 0===r)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i};var o=t("../const"),s=n(t("../settings")),a=n(t("eventemitter3")),l=n(t("./pluginTarget")),u=r(t("./mixin")),c=r(t("ismobilejs")),h=n(t("remove-array-items")),d=n(t("./mapPremultipliedBlendModes")),f=n(t("earcut")),p=0,m=!1;i.isMobile=c,i.removeItems=h.default,i.EventEmitter=a.default,i.pluginTarget=l.default,i.mixins=u,i.earcut=f.default;var v=i.TextureCache=Object.create(null),g=i.BaseTextureCache=Object.create(null),y=i.premultiplyBlendMode=(0,d.default)()},{"../const":46,"../settings":101,"./mapPremultipliedBlendModes":126,"./mixin":128,"./pluginTarget":129,earcut:2,eventemitter3:3,ismobilejs:4,"remove-array-items":31}],126:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){for(var t=[],e=[],i=0;i<32;i++)e[t[i]=i]=i;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r};var n=t("../const")},{"../const":46}],127:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){return o.default.tablet||o.default.phone?4:t};var r,n=t("ismobilejs"),o=(r=n)&&r.__esModule?r:{default:r}},{ismobilejs:4}],128:[function(t,e,i){"use strict";function r(t,e){if(t&&e)for(var i=Object.keys(e),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}}i.__esModule=!0,i.mixin=r,i.delayMixin=function(t,e){n.push(t,e)},i.performMixins=function(){for(var t=0;t<n.length;t+=2)r(n[t],n[t+1]);n.length=0};var n=[]},{}],129:[function(t,e,i){"use strict";i.__esModule=!0,i.default={mixin:function(t){var i;(i=t).__plugins={},i.registerPlugin=function(t,e){i.__plugins[t]=e},i.prototype.initPlugins=function(){for(var t in this.plugins=this.plugins||{},i.__plugins)this.plugins[t]=new i.__plugins[t](this)},i.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}}},{}],130:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=t.width,i=t.height,r=t.getContext("2d"),n=r.getImageData(0,0,e,i).data,o=n.length,s={top:null,left:null,right:null,bottom:null},a=void 0,l=void 0,u=void 0;for(a=0;a<o;a+=4)0!==n[a+3]&&(l=a/4%e,u=~~(a/4/e),null===s.top&&(s.top=u),null===s.left?s.left=l:l<s.left&&(s.left=l),null===s.right?s.right=l+1:s.right<l&&(s.right=l+1),null===s.bottom?s.bottom=u:s.bottom<u&&(s.bottom=u));return e=s.right-s.left,{height:i=s.bottom-s.top+1,width:e,data:r.getImageData(s.left,s.top,e,i)}}},{}],131:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(i){var t=i.mesh,e=i.particles,r=i.extras,n=i.filters,o=i.prepare,s=i.loaders,a=i.interaction;Object.defineProperties(i,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return i.Container}},DisplayObjectContainer:{get:function(){return i.Container}},Strip:{get:function(){return t.Mesh}},Rope:{get:function(){return t.Rope}},ParticleContainer:{get:function(){return e.ParticleContainer}},MovieClip:{get:function(){return r.AnimatedSprite}},TilingSprite:{get:function(){return r.TilingSprite}},BitmapText:{get:function(){return r.BitmapText}},blendModes:{get:function(){return i.BLEND_MODES}},scaleModes:{get:function(){return i.SCALE_MODES}},BaseTextureCache:{get:function(){return i.utils.BaseTextureCache}},TextureCache:{get:function(){return i.utils.TextureCache}},math:{get:function(){return i}},AbstractFilter:{get:function(){return i.Filter}},TransformManual:{get:function(){return i.TransformBase}},TARGET_FPMS:{get:function(){return i.settings.TARGET_FPMS},set:function(t){i.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{get:function(){return i.settings.FILTER_RESOLUTION},set:function(t){i.settings.FILTER_RESOLUTION=t}},RESOLUTION:{get:function(){return i.settings.RESOLUTION},set:function(t){i.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{get:function(){return i.settings.MIPMAP_TEXTURES},set:function(t){i.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{get:function(){return i.settings.SPRITE_BATCH_SIZE},set:function(t){i.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{get:function(){return i.settings.SPRITE_MAX_TEXTURES},set:function(t){i.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{get:function(){return i.settings.RETINA_PREFIX},set:function(t){i.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{get:function(){return i.settings.RENDER_OPTIONS}}});for(var l=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],u=0;u<l.length;u++)!function(t){var e=l[u];Object.defineProperty(i[e.parent],"DEFAULT",{get:function(){return e.parent,e.target,i.settings[e.target]},set:function(t){e.parent,e.target,i.settings[e.target]=t}})}();Object.defineProperties(i.settings,{PRECISION:{get:function(){return i.settings.PRECISION_FRAGMENT},set:function(t){i.settings.PRECISION_FRAGMENT=t}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return r.AnimatedSprite}}}),r&&Object.defineProperties(r,{TextureTransform:{get:function(){return i.TextureMatrix}}}),i.DisplayObject.prototype.generateTexture=function(t,e,i){return t.generateTexture(this,e,i)},i.Graphics.prototype.generateTexture=function(t,e){return this.generateCanvasTexture(t,e)},i.GroupD8.isSwapWidthHeight=function(t){return i.GroupD8.isVertical(t)},i.RenderTexture.prototype.render=function(t,e,i,r){this.legacyRenderer.render(t,this,i,e,!r)},i.RenderTexture.prototype.getImage=function(t){return this.legacyRenderer.extract.image(t)},i.RenderTexture.prototype.getBase64=function(t){return this.legacyRenderer.extract.base64(t)},i.RenderTexture.prototype.getCanvas=function(t){return this.legacyRenderer.extract.canvas(t)},i.RenderTexture.prototype.getPixels=function(t){return this.legacyRenderer.pixels(t)},i.Sprite.prototype.setTexture=function(t){this.texture=t},r.BitmapText&&(r.BitmapText.prototype.setText=function(t){this.text=t}),i.Text.prototype.setText=function(t){this.text=t},i.Text.calculateFontProperties=function(t){return i.TextMetrics.measureFont(t)},Object.defineProperties(i.Text,{fontPropertiesCache:{get:function(){return i.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i.TextMetrics._context}}}),i.Text.prototype.setStyle=function(t){this.style=t},i.Text.prototype.determineFontProperties=function(t){return i.TextMetrics.measureFont(t)},i.Text.getFontStyle=function(t){return(t=t||{})instanceof i.TextStyle||(t=new i.TextStyle(t)),t.toFontString()},Object.defineProperties(i.TextStyle.prototype,{font:{get:function(){var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){1<t.indexOf("italic")?this._fontStyle="italic":-1<t.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal",-1<t.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),i=-1;this._fontSize=26;for(var r=0;r<e.length;++r)if(e[r].match(/(px|pt|em|%)/)){i=r,this._fontSize=e[r];break}this._fontWeight="normal";for(var n=0;n<i;++n)if(e[n].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[n];break}if(-1<i&&i<e.length-1){this._fontFamily="";for(var o=i+1;o<e.length;++o)this._fontFamily+=e[o]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),i.Texture.prototype.setFrame=function(t){this.frame=t},i.Texture.addTextureToCache=function(t,e){i.Texture.addToCache(t,e)},i.Texture.removeTextureFromCache=function(t){return i.BaseTexture.removeFromCache(t),i.Texture.removeFromCache(t)},Object.defineProperties(n,{AbstractFilter:{get:function(){return i.AbstractFilter}},SpriteMaskFilter:{get:function(){return i.SpriteMaskFilter}},VoidFilter:{get:function(){return n.AlphaFilter}}}),i.utils.uuid=function(){return i.utils.uid()},i.utils.canUseNewCanvasBlendModes=function(){return i.CanvasTinter.canUseMultiply};var c=!0;if(Object.defineProperty(i.utils,"_saidHello",{set:function(t){t&&this.skipHello(),c=t},get:function(){return c}}),o.BasePrepare&&(o.BasePrepare.prototype.register=function(t,e){return t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),o.canvas&&Object.defineProperty(o.canvas,"UPLOADS_PER_FRAME",{set:function(){},get:function(){return NaN}}),o.webgl&&Object.defineProperty(o.webgl,"UPLOADS_PER_FRAME",{set:function(){},get:function(){return NaN}}),s.Loader){var h=s.Resource,d=s.Loader;Object.defineProperties(h.prototype,{isJson:{get:function(){return this.type===h.TYPE.JSON}},isXml:{get:function(){return this.type===h.TYPE.XML}},isImage:{get:function(){return this.type===h.TYPE.IMAGE}},isAudio:{get:function(){return this.type===h.TYPE.AUDIO}},isVideo:{get:function(){return this.type===h.TYPE.VIDEO}}}),Object.defineProperties(d.prototype,{before:{get:function(){return this.pre}},after:{get:function(){return this.use}}})}a.interactiveTarget&&Object.defineProperty(a.interactiveTarget,"defaultCursor",{set:function(t){this.cursor=t},get:function(){return this.cursor}}),a.InteractionManager&&(Object.defineProperty(a.InteractionManager,"defaultCursorStyle",{set:function(t){this.cursorStyles.default=t},get:function(){return this.cursorStyles.default}}),Object.defineProperty(a.InteractionManager,"currentCursorStyle",{set:function(t){this.currentCursorMode=t},get:function(){return this.currentCursorMode}}))}},{}],132:[function(t,e,i){"use strict";i.__esModule=!0;var c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),h=new c.Rectangle,r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(this.renderer=t).extract=this}return e.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},e.prototype.base64=function(t){return this.canvas(t).toDataURL()},e.prototype.canvas=function(t){var e=this.renderer,i=void 0,r=void 0,n=void 0,o=void 0;t&&(o=t instanceof c.RenderTexture?t:e.generateTexture(t)),o?(i=o.baseTexture._canvasRenderTarget.context,r=o.baseTexture._canvasRenderTarget.resolution,n=o.frame):(i=e.rootContext,(n=h).width=this.renderer.width,n.height=this.renderer.height);var s=n.width*r,a=n.height*r,l=new c.CanvasRenderTarget(s,a),u=i.getImageData(n.x*r,n.y*r,s,a);return l.context.putImageData(u,0,0),l.canvas},e.prototype.pixels=function(t){var e=this.renderer,i=void 0,r=void 0,n=void 0,o=void 0;return t&&(o=t instanceof c.RenderTexture?t:e.generateTexture(t)),o?(i=o.baseTexture._canvasRenderTarget.context,r=o.baseTexture._canvasRenderTarget.resolution,n=o.frame):(i=e.rootContext,(n=h).width=e.width,n.height=e.height),i.getImageData(0,0,n.width*r,n.height*r).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();i.default=r,c.CanvasRenderer.registerPlugin("extract",r)},{"../../core":65}],133:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./webgl/WebGLExtract");Object.defineProperty(i,"webgl",{enumerable:!0,get:function(){return r(n).default}});var o=t("./canvas/CanvasExtract");Object.defineProperty(i,"canvas",{enumerable:!0,get:function(){return r(o).default}})},{"./canvas/CanvasExtract":132,"./webgl/WebGLExtract":134}],134:[function(t,e,i){"use strict";i.__esModule=!0;var p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),m=new p.Rectangle,r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(this.renderer=t).extract=this}return e.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},e.prototype.base64=function(t){return this.canvas(t).toDataURL()},e.prototype.canvas=function(t){var e=this.renderer,i=void 0,r=void 0,n=void 0,o=!1,s=void 0,a=!1;t&&(t instanceof p.RenderTexture?s=t:(s=this.renderer.generateTexture(t),a=!0)),s?(r=(i=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,n=s.frame,o=!1):(r=(i=this.renderer.rootRenderTarget).resolution,o=!0,(n=m).width=i.size.width,n.height=i.size.height);var l=n.width*r,u=n.height*r,c=new p.CanvasRenderTarget(l,u);if(i){e.bindRenderTarget(i);var h=new Uint8Array(4*l*u),d=e.gl;d.readPixels(n.x*r,n.y*r,l,u,d.RGBA,d.UNSIGNED_BYTE,h);var f=c.context.getImageData(0,0,l,u);f.data.set(h),c.context.putImageData(f,0,0),o&&(c.context.scale(1,-1),c.context.drawImage(c.canvas,0,-u))}return a&&s.destroy(!0),c.canvas},e.prototype.pixels=function(t){var e=this.renderer,i=void 0,r=void 0,n=void 0,o=void 0,s=!1;t&&(t instanceof p.RenderTexture?o=t:(o=this.renderer.generateTexture(t),s=!0)),o?(r=(i=o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,n=o.frame):(r=(i=this.renderer.rootRenderTarget).resolution,(n=m).width=i.size.width,n.height=i.size.height);var a=n.width*r,l=n.height*r,u=new Uint8Array(4*a*l);if(i){e.bindRenderTarget(i);var c=e.gl;c.readPixels(n.x*r,n.y*r,a,l,c.RGBA,c.UNSIGNED_BYTE,u)}return s&&o.destroy(!0),u},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();i.default=r,p.WebGLRenderer.registerPlugin("extract",r)},{"../../core":65}],135:[function(t,e,i){"use strict";i.__esModule=!0;var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),r=function(r){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,t[0]instanceof s.Texture?t[0]:t[0].texture));return i._textures=null,i._durations=null,i.textures=t,i._autoUpdate=!1!==e,i.animationSpeed=1,i.loop=!0,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i.playing=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r),n.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&s.ticker.shared.remove(this.update,this))},n.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&s.ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH))},n.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},n.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},n.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())},n.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},n.prototype.destroy=function(t){this.stop(),r.prototype.destroy.call(this,t)},n.fromFrames=function(t){for(var e=[],i=0;i<t.length;++i)e.push(s.Texture.fromFrame(t[i]));return new n(e)},n.fromImages=function(t){for(var e=[],i=0;i<t.length;++i)e.push(s.Texture.fromImage(t[i]));return new n(e)},o(n,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof s.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),n}(s.Sprite);i.default=r},{"../core":65}],136:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),C=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=r(t("../core/math/ObservablePoint")),y=t("../core/utils"),b=r(t("../core/settings")),s=function(r){function E(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,E);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},i.font=e.font,i._text=t,i._maxWidth=0,i._maxLineHeight=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(E,r),E.prototype.updateText=function(){for(var t=E.fonts[this._font.name],e=this._font.size/t.size,i=new C.Point,r=[],n=[],o=null,s=0,a=0,l=0,u=-1,c=0,h=0,d=0,f=0;f<this.text.length;f++){var p=this.text.charCodeAt(f);if(/(\s)/.test(this.text.charAt(f))&&(u=f,c=s),/(?:\r\n|\r|\n)/.test(this.text.charAt(f)))n.push(s),a=Math.max(a,s),l++,i.x=0,i.y+=t.lineHeight,o=null;else if(-1!==u&&0<this._maxWidth&&i.x*e>this._maxWidth)C.utils.removeItems(r,u-h,f-u),f=u,u=-1,++h,n.push(c),a=Math.max(a,c),l++,i.x=0,i.y+=t.lineHeight,o=null;else{var m=t.chars[p];m&&(o&&m.kerning[o]&&(i.x+=m.kerning[o]),r.push({texture:m.texture,line:l,charCode:p,position:new C.Point(i.x+m.xOffset,i.y+m.yOffset)}),s=i.x+(m.texture.width+m.xOffset),i.x+=m.xAdvance,d=Math.max(d,m.yOffset+m.texture.height),o=p)}}n.push(s),a=Math.max(a,s);for(var v=[],g=0;g<=l;g++){var y=0;"right"===this._font.align?y=a-n[g]:"center"===this._font.align&&(y=(a-n[g])/2),v.push(y)}for(var b=r.length,x=this.tint,_=0;_<b;_++){var w=this._glyphs[_];w?w.texture=r[_].texture:(w=new C.Sprite(r[_].texture),this._glyphs.push(w)),w.position.x=(r[_].position.x+v[r[_].line])*e,w.position.y=r[_].position.y*e,w.scale.x=w.scale.y=e,w.tint=x,w.parent||this.addChild(w)}for(var T=b;T<this._glyphs.length;++T)this.removeChild(this._glyphs[T]);if(this._textWidth=a*e,this._textHeight=(i.y+t.lineHeight)*e,0!==this.anchor.x||0!==this.anchor.y)for(var S=0;S<b;S++)this._glyphs[S].x-=this._textWidth*this.anchor.x,this._glyphs[S].y-=this._textHeight*this.anchor.y;this._maxLineHeight=d*e},E.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},E.prototype.getLocalBounds=function(){return this.validate(),r.prototype.getLocalBounds.call(this)},E.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},E.registerFont=function(t,e){var i={},r=t.getElementsByTagName("info")[0],n=t.getElementsByTagName("common")[0],o=t.getElementsByTagName("page")[0].getAttribute("file"),s=(0,y.getResolutionOfUrl)(o,b.default.RESOLUTION);i.font=r.getAttribute("face"),i.size=parseInt(r.getAttribute("size"),10),i.lineHeight=parseInt(n.getAttribute("lineHeight"),10)/s,i.chars={};for(var a=t.getElementsByTagName("char"),l=0;l<a.length;l++){var u=a[l],c=parseInt(u.getAttribute("id"),10),h=new C.Rectangle(parseInt(u.getAttribute("x"),10)/s+e.frame.x/s,parseInt(u.getAttribute("y"),10)/s+e.frame.y/s,parseInt(u.getAttribute("width"),10)/s,parseInt(u.getAttribute("height"),10)/s);i.chars[c]={xOffset:parseInt(u.getAttribute("xoffset"),10)/s,yOffset:parseInt(u.getAttribute("yoffset"),10)/s,xAdvance:parseInt(u.getAttribute("xadvance"),10)/s,kerning:{},texture:new C.Texture(e.baseTexture,h)}}for(var d=t.getElementsByTagName("kerning"),f=0;f<d.length;f++){var p=d[f],m=parseInt(p.getAttribute("first"),10)/s,v=parseInt(p.getAttribute("second"),10)/s,g=parseInt(p.getAttribute("amount"),10)/s;i.chars[v]&&(i.chars[v].kerning[m]=g)}return E.fonts[i.font]=i},n(E,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&0<=t?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=2<=t.length?parseInt(t[0],10):E.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),E}(C.Container);(i.default=s).fonts={}},{"../core":65,"../core/math/ObservablePoint":68,"../core/settings":101,"../core/utils":125}],137:[function(t,e,i){"use strict";i.__esModule=!0;var r,s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),n=t("../core/sprites/canvas/CanvasTinter"),f=(r=n)&&r.__esModule?r:{default:r},a=new d.Point,o=function(n){function o(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));return r.tileTransform=new d.TransformStatic,r._width=e,r._height=i,r._canvasPattern=null,r.uvTransform=t.transform||new d.TextureMatrix(t),r.pluginName="tilingSprite",r.uvRespectAnchor=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},o.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},o.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var i=t.context,r=this.worldTransform,n=t.resolution,o=e.baseTexture,s=o.resolution,a=this.tilePosition.x/this.tileScale.x%e._frame.width*s,l=this.tilePosition.y/this.tileScale.y%e._frame.height*s;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var u=new d.CanvasRenderTarget(e._frame.width,e._frame.height,s);16777215!==this.tint?(this.tintedTexture=f.default.getTintedTexture(this,this.tint),u.context.drawImage(this.tintedTexture,0,0)):u.context.drawImage(o.source,-e._frame.x*s,-e._frame.y*s),this.cachedTint=this.tint,this._canvasPattern=u.context.createPattern(u.canvas,"repeat")}i.globalAlpha=this.worldAlpha,i.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),t.setBlendMode(this.blendMode),i.fillStyle=this._canvasPattern,i.scale(this.tileScale.x/s,this.tileScale.y/s);var c=this.anchor.x*-this._width,h=this.anchor.y*-this._height;this.uvRespectAnchor?(i.translate(a,l),i.fillRect(-a+c,-l+h,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s)):(i.translate(a+c,l+h),i.fillRect(-a,-l,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s))}},o.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},o.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),t||(this._localBoundsRect||(this._localBoundsRect=new d.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):n.prototype.getLocalBounds.call(this,t)},o.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,a);var e=this._width,i=this._height,r=-e*this.anchor._x;if(a.x>=r&&a.x<r+e){var n=-i*this.anchor._y;if(a.y>=n&&a.y<n+i)return!0}return!1},o.prototype.destroy=function(t){n.prototype.destroy.call(this,t),this.tileTransform=null,this.uvTransform=null},o.from=function(t,e,i){return new o(d.Texture.from(t),e,i)},o.fromFrame=function(t,e,i){var r=d.utils.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new o(r,e,i)},o.fromImage=function(t,e,i,r,n){return new o(d.Texture.fromImage(t,r,n),e,i)},s(o,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),o}(d.Sprite);i.default=o},{"../core":65,"../core/sprites/canvas/CanvasTinter":104}],138:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),h=r(t("../core/textures/Texture")),d=r(t("../core/textures/BaseTexture")),f=t("../core/utils"),n=c.DisplayObject,p=new c.Matrix;n.prototype._cacheAsBitmap=!1,n.prototype._cacheData=!1;var o=function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(n.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){var e=void 0;(this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new o),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),n.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},n.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var i=this.getLocalBounds().clone();if(this._filters){var r=this._filters[0].padding;i.pad(r)}var n=t._activeRenderTarget,o=t.filterManager.filterStack,s=c.RenderTexture.create(0|i.width,0|i.height),a="cacheAsBitmap_"+(0,f.uid)();this._cacheData.textureCacheId=a,d.default.addToCache(s.baseTexture,a),h.default.addToCache(s,a);var l=p;l.tx=-i.x,l.ty=-i.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,s,!0,l,!0),t.bindRenderTarget(n),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var u=new c.Sprite(s);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-i.x/i.width,u.anchor.y=-i.y/i.height,u.alpha=e,u._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},n.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},n.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var r=t.context,n=c.RenderTexture.create(0|e.width,0|e.height),o="cacheAsBitmap_"+(0,f.uid)();this._cacheData.textureCacheId=o,d.default.addToCache(n.baseTexture,o),h.default.addToCache(n,o);var s=p;this.transform.localTransform.copy(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=r,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var a=new c.Sprite(n);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a._bounds=this._bounds,a.alpha=i,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=a,this.containsPoint=a.containsPoint.bind(a)}},n.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},n.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},n.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,d.default.removeFromCache(this._cacheData.textureCacheId),h.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},n.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},{"../core":65,"../core/textures/BaseTexture":112,"../core/textures/Texture":115,"../core/utils":125}],139:[function(t,e,i){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core"));r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":65}],140:[function(t,e,i){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core"));r.DisplayObject.prototype.getGlobalPosition=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new r.Point,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":65}],141:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.BitmapText=i.TilingSpriteRenderer=i.TilingSprite=i.AnimatedSprite=void 0;var n=t("./AnimatedSprite");Object.defineProperty(i,"AnimatedSprite",{enumerable:!0,get:function(){return r(n).default}});var o=t("./TilingSprite");Object.defineProperty(i,"TilingSprite",{enumerable:!0,get:function(){return r(o).default}});var s=t("./webgl/TilingSpriteRenderer");Object.defineProperty(i,"TilingSpriteRenderer",{enumerable:!0,get:function(){return r(s).default}});var a=t("./BitmapText");Object.defineProperty(i,"BitmapText",{enumerable:!0,get:function(){return r(a).default}}),t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition")},{"./AnimatedSprite":135,"./BitmapText":136,"./TilingSprite":137,"./cacheAsBitmap":138,"./getChildByName":139,"./getGlobalPosition":140,"./webgl/TilingSpriteRenderer":142}],142:[function(t,e,i){"use strict";i.__esModule=!0;var p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),m=t("../../core/const"),v=(t("path"),new p.Matrix),r=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.shader=null,e.simpleShader=null,e.quad=null,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new p.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new p.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new p.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},r.prototype.render=function(t){var e=this.renderer,i=this.quad;e.bindVao(i.vao);var r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.upload();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvTransform,l=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;l&&(o._glTextures[e.CONTEXT_UID]?l=o.wrapMode!==m.WRAP_MODES.CLAMP:o.wrapMode===m.WRAP_MODES.CLAMP&&(o.wrapMode=m.WRAP_MODES.REPEAT));var u=l?this.simpleShader:this.shader;e.bindShader(u);var c=n.width,h=n.height,d=t._width,f=t._height;v.set(s.a*c/d,s.b*c/f,s.c*h/d,s.d*h/f,s.tx/d,s.ty/f),v.invert(),l?v.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=v.toArray(!0),u.uniforms.uColor=p.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,u.uniforms.uColor,o.premultipliedAlpha),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=e.bindTexture(n),e.setBlendMode(p.utils.correctBlendMode(t.blendMode,o.premultipliedAlpha)),i.vao.draw(this.renderer.gl.TRIANGLES,6,0)},r}(p.ObjectRenderer);i.default=r,p.WebGLRenderer.registerPlugin("tilingSprite",r)},{"../../core":65,"../../core/const":46,path:8}],143:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=(t("path"),function(i){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return e.alpha=t,e.glShaderKey="alpha",e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),n(r,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),r}(r.Filter));i.default=o},{"../../core":65,path:8}],144:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),l=r(t("./BlurXFilter")),u=r(t("./BlurYFilter")),o=function(o){function s(t,e,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this));return n.blurXFilter=new l.default(t,e,i,r),n.blurYFilter=new u.default(t,e,i,r),n.padding=0,n.resolution=i||a.settings.RESOLUTION,n.quality=e||4,n.blur=t||8,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s.prototype.apply=function(t,e,i){var r=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,r,!0),this.blurYFilter.apply(t,r,i,!1),t.returnRenderTarget(r)},n(s,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),s}(a.Filter);i.default=o},{"../../core":65,"./BlurXFilter":145,"./BlurYFilter":146}],145:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),h=r(t("./generateBlurVertSource")),d=r(t("./generateBlurFragSource")),f=r(t("./getMaxBlurKernelSize")),o=function(a){function l(t,e,i,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,l),r=r||5;var n=(0,h.default)(r,!0),o=(0,d.default)(r),s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,n,o));return s.resolution=i||u.settings.RESOLUTION,s._quality=0,s.quality=e||4,s.strength=t||8,s.firstRun=!0,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,a),l.prototype.apply=function(t,e,i,r){if(this.firstRun){var n=t.renderer.gl,o=(0,f.default)(n);this.vertexSrc=(0,h.default)(o,!0),this.fragmentSrc=(0,d.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/i.size.width*(i.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{for(var s=t.getRenderTarget(!0),a=e,l=s,u=0;u<this.passes-1;u++){t.applyFilter(this,a,l,!0);var c=l;l=a,a=c}t.applyFilter(this,a,i,r),t.returnRenderTarget(s)}},n(l,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),l}(u.Filter);i.default=o},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],146:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),h=r(t("./generateBlurVertSource")),d=r(t("./generateBlurFragSource")),f=r(t("./getMaxBlurKernelSize")),o=function(a){function l(t,e,i,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,l),r=r||5;var n=(0,h.default)(r,!1),o=(0,d.default)(r),s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,n,o));return s.resolution=i||u.settings.RESOLUTION,s._quality=0,s.quality=e||4,s.strength=t||8,s.firstRun=!0,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,a),l.prototype.apply=function(t,e,i,r){if(this.firstRun){var n=t.renderer.gl,o=(0,f.default)(n);this.vertexSrc=(0,h.default)(o,!1),this.fragmentSrc=(0,d.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/i.size.height*(i.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{for(var s=t.getRenderTarget(!0),a=e,l=s,u=0;u<this.passes-1;u++){t.applyFilter(this,a,l,!0);var c=l;l=a,a=c}t.applyFilter(this,a,i,r),t.returnRenderTarget(s)}},n(l,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),l}(u.Filter);i.default=o},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],147:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){for(var e=l[t],i=e.length,r=u,n="",o=void 0,s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);i<=(o=s)&&(o=t-s-1),n+=a=a.replace("%value%",e[o]),n+="\n"}return(r=r.replace("%blur%",n)).replace("%size%",t)};var l={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},u=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],148:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e){var i=Math.ceil(t/2),r=l,n="",o=void 0;o=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=o.replace("%index%",s);n+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),n+="\n"}return(r=r.replace("%blur%",n)).replace("%size%",t)};var l=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],149:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),i=15;e<i;)i-=2;return i}},{}],150:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=(t("path"),function(e){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return t.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],t.alpha=1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i.prototype._loadMatrix=function(t){var e=t;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},i.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},i.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},i.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},i.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},i.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},i.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=(0,Math.sqrt)(1/3),o=[i+1/3*(1-i),1/3*(1-i)-n*r,1/3*(1-i)+n*r,0,0,1/3*(1-i)+n*r,i+1/3*(1-i),1/3*(1-i)-n*r,0,0,1/3*(1-i)-n*r,1/3*(1-i)+n*r,i+1/3*(1-i),0,0,0,0,0,1,0];this._loadMatrix(o,e)},i.prototype.contrast=function(t,e){var i=(t||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.saturate=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],i=2*t/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.desaturate=function(){this.saturate(-1)},i.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},i.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},i.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},i.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},i.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},i.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},i.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},i.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},i.prototype.colorTone=function(t,e,i,r,n){var o=((i=i||16770432)>>16&255)/255,s=(i>>8&255)/255,a=(255&i)/255,l=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,l,u,c,e=e||.15,0,o-l,s-u,a-c,0,0];this._loadMatrix(h,n)},i.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},i.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},i.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},i.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r(i,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),i}(n.Filter));(i.default=o).prototype.grayscale=o.prototype.greyscale},{"../../core":65,path:8}],151:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),n=(t("path"),function(n){function o(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var i=new s.Matrix;t.renderable=!1;var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return r.maskSprite=t,r.maskMatrix=i,r.uniforms.mapSampler=t._texture,r.uniforms.filterMatrix=i,r.uniforms.scale={x:1,y:1},null!=e||(e=20),r.scale=new s.Point(e,e),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype.apply=function(t,e,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,i)},r(o,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),o}(s.Filter));i.default=n},{"../../core":65,path:8}],152:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),n=(t("path"),function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.Filter));i.default=n},{"../../core":65,path:8}],153:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./fxaa/FXAAFilter");Object.defineProperty(i,"FXAAFilter",{enumerable:!0,get:function(){return r(n).default}});var o=t("./noise/NoiseFilter");Object.defineProperty(i,"NoiseFilter",{enumerable:!0,get:function(){return r(o).default}});var s=t("./displacement/DisplacementFilter");Object.defineProperty(i,"DisplacementFilter",{enumerable:!0,get:function(){return r(s).default}});var a=t("./blur/BlurFilter");Object.defineProperty(i,"BlurFilter",{enumerable:!0,get:function(){return r(a).default}});var l=t("./blur/BlurXFilter");Object.defineProperty(i,"BlurXFilter",{enumerable:!0,get:function(){return r(l).default}});var u=t("./blur/BlurYFilter");Object.defineProperty(i,"BlurYFilter",{enumerable:!0,get:function(){return r(u).default}});var c=t("./colormatrix/ColorMatrixFilter");Object.defineProperty(i,"ColorMatrixFilter",{enumerable:!0,get:function(){return r(c).default}});var h=t("./alpha/AlphaFilter");Object.defineProperty(i,"AlphaFilter",{enumerable:!0,get:function(){return r(h).default}})},{"./alpha/AlphaFilter":143,"./blur/BlurFilter":144,"./blur/BlurXFilter":145,"./blur/BlurYFilter":146,"./colormatrix/ColorMatrixFilter":150,"./displacement/DisplacementFilter":151,"./fxaa/FXAAFilter":152,"./noise/NoiseFilter":154}],154:[function(t,e,i){"use strict";i.__esModule=!0;var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),n=(t("path"),function(r){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=t,i.seed=e,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r),o(n,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),n}(r.Filter));i.default=n},{"../../core":65,path:8}],155:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.global=new n.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},r(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();i.default=o},{"../core":65}],156:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();i.default=r},{}],157:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),a=r(t("./InteractionData")),l=r(t("./InteractionEvent")),h=r(t("./InteractionTrackingData")),n=r(t("eventemitter3")),u=r(t("./interactiveTarget"));s.utils.mixins.delayMixin(s.DisplayObject.prototype,u.default);var c=1,d={target:null,data:{global:null}},f=function(r){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this));return e=e||{},i.renderer=t,i.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,i.interactionFrequency=e.interactionFrequency||10,i.mouse=new a.default,i.mouse.identifier=c,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[c]=i.mouse,i.interactionDataPool=[],i.eventData=new l.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new s.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r),n.prototype.hitTest=function(t,e){return d.target=null,d.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(d,e,null,!0),d.target},n.prototype.setTargetElement=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},n.prototype.addEvents=function(){this.interactionDOMElement&&(s.ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},n.prototype.removeEvents=function(){this.interactionDOMElement&&(s.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},n.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},n.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":o(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},n.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},n.prototype.mapPositionToPoint=function(t,e,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},n.prototype.processInteractive=function(t,e,i,r,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,l=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:l=r=!1),a=!1):e._mask&&r&&(e._mask.containsPoint(o)||(l=r=!1)),l&&e.interactiveChildren&&e.children)for(var u=e.children,c=u.length-1;0<=c;c--){var h=u[c],d=this.processInteractive(t,h,i,r,a);if(d){if(!h.parent)continue;a=!1,d&&(t.target&&(r=!1),s=!0)}}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),i&&i(t,e,!!s))),s},n.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},n.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;if(i)if(e.trackedPointers[n]||(e.trackedPointers[n]=new h.default(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},n.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=r[s],l=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,l);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,i,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var c=2===a.button;this.emit(c?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId,l))}},n.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},n.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},n.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},n.prototype.processPointerUp=function(t,e,i){var r=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===r.pointerType;if("mouse"===r.pointerType||"pen"===r.pointerType){var a=2===r.button,l=h.default.FLAGS,u=a?l.RIGHT_DOWN:l.LEFT_DOWN,c=void 0!==o&&o.flags&u;i?(this.dispatchEvent(e,a?"rightup":"mouseup",t),c&&this.dispatchEvent(e,a?"rightclick":"click",t)):c&&this.dispatchEvent(e,a?"rightupoutside":"mouseupoutside",t),o&&(a?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},n.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t;var a="touch"!==n.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},n.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},n.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},n.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[n];i&&!s&&(s=e.trackedPointers[n]=new h.default(n)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},n.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);"mouse"===(r.data.originalEvent=e).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},n.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,i=void 0;return e===c||"mouse"===t.pointerType?i=this.mouse:this.activeInteractionData[e]?i=this.activeInteractionData[e]:((i=this.interactionDataPool.pop()||new a.default).identifier=e,this.activeInteractionData[e]=i),i.copyEvent(t),i},n.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},n.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(i.global.x=i.global.x/this.resolution,i.global.y=i.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},n.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,r=t.changedTouches.length;i<r;i++){var n=t.changedTouches[i];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),n.twist=0,void(n.tangentialPressure=0)===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent||(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0),e.push(t);return e},n.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},n}(n.default);i.default=f,s.WebGLRenderer.registerPlugin("interaction",f),s.CanvasRenderer.registerPlugin("interaction",f)},{"../core":65,"./InteractionData":155,"./InteractionEvent":156,"./InteractionTrackingData":158,"./interactiveTarget":160,eventemitter3:3}],158:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),n=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},r(e,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),e}();(i.default=n).FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],159:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./InteractionData");Object.defineProperty(i,"InteractionData",{enumerable:!0,get:function(){return r(n).default}});var o=t("./InteractionManager");Object.defineProperty(i,"InteractionManager",{enumerable:!0,get:function(){return r(o).default}});var s=t("./interactiveTarget");Object.defineProperty(i,"interactiveTarget",{enumerable:!0,get:function(){return r(s).default}});var a=t("./InteractionTrackingData");Object.defineProperty(i,"InteractionTrackingData",{enumerable:!0,get:function(){return r(a).default}});var l=t("./InteractionEvent");Object.defineProperty(i,"InteractionEvent",{enumerable:!0,get:function(){return r(l).default}})},{"./InteractionData":155,"./InteractionEvent":156,"./InteractionManager":157,"./InteractionTrackingData":158,"./interactiveTarget":160}],160:[function(t,e,i){"use strict";i.__esModule=!0,i.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],161:[function(t,e,i){"use strict";function o(t,e){t.bitmapFont=r.BitmapText.registerFont(t.data,e)}i.__esModule=!0,i.parse=o,i.default=function(){return function(e,i){if(e.data&&e.type===l.Resource.TYPE.XML)if(0!==e.data.getElementsByTagName("page").length&&0!==e.data.getElementsByTagName("info").length&&null!==e.data.getElementsByTagName("info")[0].getAttribute("face")){var t=e.isDataUrl?"":s.dirname(e.url);e.isDataUrl&&("."===t&&(t=""),this.baseUrl&&t&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(t+="/")),(t=t.replace(this.baseUrl,""))&&"/"!==t.charAt(t.length-1)&&(t+="/");var r=t+e.data.getElementsByTagName("page")[0].getAttribute("file");if(a.utils.TextureCache[r])o(e,a.utils.TextureCache[r]),i();else{var n={crossOrigin:e.crossOrigin,loadType:l.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e};this.add(e.name+"_image",r,n,function(t){o(e,t.texture),i()})}}else i();else i()}};var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("path")),a=t("../core"),l=t("resource-loader"),r=t("../extras")},{"../core":65,"../extras":141,path:8,"resource-loader":36}],162:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.shared=i.Resource=i.textureParser=i.getResourcePath=i.spritesheetParser=i.parseBitmapFontData=i.bitmapFontParser=i.Loader=void 0;var n=t("./bitmapFontParser");Object.defineProperty(i,"bitmapFontParser",{enumerable:!0,get:function(){return r(n).default}}),Object.defineProperty(i,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var o=t("./spritesheetParser");Object.defineProperty(i,"spritesheetParser",{enumerable:!0,get:function(){return r(o).default}}),Object.defineProperty(i,"getResourcePath",{enumerable:!0,get:function(){return o.getResourcePath}});var s=t("./textureParser");Object.defineProperty(i,"textureParser",{enumerable:!0,get:function(){return r(s).default}});var a=t("resource-loader");Object.defineProperty(i,"Resource",{enumerable:!0,get:function(){return a.Resource}});var l=r(t("../core/Application")),u=r(t("./loader"));i.Loader=u.default;var c=new u.default;c.destroy=function(){},i.shared=c;var h=l.default.prototype;h._loader=null,Object.defineProperty(h,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?c:new u.default}return this._loader}}),h._parentDestroy=h.destroy,h.destroy=function(t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t)}},{"../core/Application":43,"./bitmapFontParser":161,"./loader":163,"./spritesheetParser":164,"./textureParser":165,"resource-loader":36}],163:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("resource-loader")),o=t("resource-loader/lib/middlewares/parsing/blob"),s=r(t("eventemitter3")),a=r(t("./textureParser")),l=r(t("./spritesheetParser")),u=r(t("./bitmapFontParser")),c=function(n){function o(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t,e));s.default.call(r);for(var i=0;i<o._pixiMiddleware.length;++i)r.use(o._pixiMiddleware[i]());return r.onStart.add(function(t){return r.emit("start",t)}),r.onProgress.add(function(t,e){return r.emit("progress",t,e)}),r.onError.add(function(t,e,i){return r.emit("error",t,e,i)}),r.onLoad.add(function(t,e){return r.emit("load",t,e)}),r.onComplete.add(function(t,e){return r.emit("complete",t,e)}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.addPixiMiddleware=function(t){o._pixiMiddleware.push(t)},o.prototype.destroy=function(){this.removeAllListeners(),this.reset()},o}(n.default);for(var h in i.default=c,s.default.prototype)c.prototype[h]=s.default.prototype[h];c._pixiMiddleware=[o.blobMiddlewareFactory,a.default,l.default,u.default];var d=n.default.Resource;d.setExtensionXhrType("fnt",d.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":161,"./spritesheetParser":164,"./textureParser":165,eventemitter3:3,"resource-loader":36,"resource-loader/lib/middlewares/parsing/blob":37}],164:[function(t,e,i){"use strict";function o(t,e){return t.isDataUrl?t.data.meta.image:a.default.resolve(t.url.replace(e,""),t.data.meta.image)}i.__esModule=!0,i.default=function(){return function(i,r){var t=i.name+"_image";if(i.data&&i.type===s.Resource.TYPE.JSON&&i.data.frames&&!this.resources[t]){var e={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},n=o(i,this.baseUrl);this.add(t,n,e,function(t){if(t.error)r(t.error);else{var e=new l.Spritesheet(t.texture.baseTexture,i.data,i.url);e.parse(function(){i.spritesheet=e,i.textures=e.textures,r()})}})}else r()}},i.getResourcePath=o;var r,s=t("resource-loader"),n=t("url"),a=(r=n)&&r.__esModule?r:{default:r},l=t("../core")},{"../core":65,"resource-loader":36,url:38}],165:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){return function(t,e){t.data&&t.type===n.Resource.TYPE.IMAGE&&(t.texture=s.default.fromLoader(t.data,t.url,t.name)),e()}};var r,n=t("resource-loader"),o=t("../core/textures/Texture"),s=(r=o)&&r.__esModule?r:{default:r}},{"../core/textures/Texture":115,"resource-loader":36}],166:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=t("../core/textures/Texture"),l=(r=o)&&r.__esModule?r:{default:r},h=new a.Point,d=new a.Polygon,s=function(s){function c(t,e,i,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this));return o._texture=t||l.default.EMPTY,o.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),o.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),o.indices=r||new Uint16Array([0,1,3,2]),o.dirty=0,o.indexDirty=0,o.blendMode=a.BLEND_MODES.NORMAL,o.canvasPadding=a.settings.MESH_CANVAS_PADDING,o.drawMode=n||c.DRAW_MODES.TRIANGLE_MESH,o.shader=null,o.tintRgb=new Float32Array([1,1,1]),o._glDatas={},o._uvTransform=new a.TextureMatrix(o._texture),o.uploadUvTransform=!1,o.pluginName="mesh",o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,s),c.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},c.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},c.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},c.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},c.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},c.prototype._refresh=function(){},c.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},c.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,h);for(var e=this.vertices,i=d.points,r=this.indices,n=this.indices.length,o=this.drawMode===c.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<n;s+=o){var a=2*r[s],l=2*r[s+1],u=2*r[s+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[l],i[3]=e[l+1],i[4]=e[u],i[5]=e[u+1],d.contains(h.x,h.y))return!0}return!1},n(c,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&((this._texture=t)&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return a.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=a.utils.hex2rgb(t,this.tintRgb)}}]),c}(a.Container);(i.default=s).DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":65,"../core/textures/Texture":115}],167:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("./Plane"),s=(r=o)&&r.__esModule?r:{default:r},l=10,a=function(s){function a(t,e,i,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this,t,4,4));return o._origWidth=t.orig.width,o._origHeight=t.orig.height,o._width=o._origWidth,o._height=o._origHeight,o.leftWidth=void 0!==e?e:l,o.rightWidth=void 0!==r?r:l,o.topHeight=void 0!==i?i:l,o.bottomHeight=void 0!==n?n:l,o.refresh(!0),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,s),a.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},a.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},a.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var i=this.worldTransform,r=t.resolution;t.roundPixels?e.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r|0,i.ty*r|0):e.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r,i.ty*r);var n=this._texture.baseTexture,o=n.source,s=n.width*n.resolution,a=n.height*n.resolution;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},a.prototype.drawSegment=function(t,e,i,r,n,o,s,a){var l=this.uvs,u=this.vertices,c=(l[s]-l[n])*i,h=(l[a]-l[o])*r,d=u[s]-u[n],f=u[a]-u[o];c<1&&(c=1),h<1&&(h=1),d<1&&(d=1),f<1&&(f=1),t.drawImage(e,l[n]*i,l[o]*r,c,h,u[n],u[o],d,f)},a.prototype._refresh=function(){s.prototype._refresh.call(this);var t=this.uvs,e=this._texture;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var i=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=i*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-i*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},n(a,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),a}(s.default);i.default=a},{"./Plane":168}],168:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./Mesh"),s=(r=n)&&r.__esModule?r:{default:r},o=function(n){function o(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));return r._ready=!0,r.verticesX=e||10,r.verticesY=i||10,r.drawMode=s.default.DRAW_MODES.TRIANGLES,r.refresh(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,i=[],r=[],n=[],o=this.verticesX-1,s=this.verticesY-1,a=t.width/o,l=t.height/s,u=0;u<e;u++){var c=u%this.verticesX,h=u/this.verticesX|0;i.push(c*a,h*l),r.push(c/o,h/s)}for(var d=o*s,f=0;f<d;f++){var p=f%o,m=f/o|0,v=m*this.verticesX+p,g=m*this.verticesX+p+1,y=(m+1)*this.verticesX+p,b=(m+1)*this.verticesX+p+1;n.push(v,g,y),n.push(g,b,y)}this.vertices=new Float32Array(i),this.uvs=new Float32Array(r),this.colors=new Float32Array([]),this.indices=new Uint16Array(n),this.dirty++,this.indexDirty++,this.multiplyUvs()},o.prototype._onTextureUpdate=function(){s.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},o}(s.default);i.default=o},{"./Mesh":166}],169:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./Mesh"),o=function(r){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,t));return i.points=e,i.vertices=new Float32Array(4*e.length),i.uvs=new Float32Array(4*e.length),i.colors=new Float32Array(2*e.length),i.indices=new Uint16Array(2*e.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r),n.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,i=this.indices,r=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,r[0]=1,r[1]=1,i[0]=0,i[1]=1;for(var n=t.length,o=1;o<n;o++){var s=4*o,a=o/(n-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,r[s=2*o]=1,r[s+1]=1,i[s=2*o]=s,i[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},n.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],i=void 0,r=0,n=0,o=this.vertices,s=t.length,a=0;a<s;a++){var l=t[a],u=4*a;n=-((i=a<t.length-1?t[a+1]:l).x-e.x),r=i.y-e.y;var c=10*(1-a/(s-1));1<c&&(c=1);var h=Math.sqrt(r*r+n*n),d=this._texture.height/2;r/=h,n/=h,r*=d,n*=d,o[u]=l.x+r,o[u+1]=l.y+n,o[u+2]=l.x-r,o[u+3]=l.y-n,e=l}},n.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},n}(((r=n)&&r.__esModule?r:{default:r}).default);i.default=o},{"./Mesh":166}],170:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=t("../Mesh"),s=(r=o)&&r.__esModule?r:{default:r},a=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t}return e.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldTransform,n=e.resolution;e.roundPixels?i.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):i.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},e.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,i=0;i<e-2;i++){var r=2*i;this._renderDrawTriangle(t,r,r+2,r+4)}},e.prototype._renderTriangles=function(t){for(var e=t.indices,i=e.length,r=0;r<i;r+=3){var n=2*e[r],o=2*e[r+1],s=2*e[r+2];this._renderDrawTriangle(t,n,o,s)}},e.prototype._renderDrawTriangle=function(t,e,i,r){var n=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var l=a.baseTexture,u=l.source,c=l.width,h=l.height,d=void 0,f=void 0,p=void 0,m=void 0,v=void 0,g=void 0;if(t.uploadUvTransform){var y=t._uvTransform.mapCoord;d=(o[e]*y.a+o[e+1]*y.c+y.tx)*l.width,f=(o[i]*y.a+o[i+1]*y.c+y.tx)*l.width,p=(o[r]*y.a+o[r+1]*y.c+y.tx)*l.width,m=(o[e]*y.b+o[e+1]*y.d+y.ty)*l.height,v=(o[i]*y.b+o[i+1]*y.d+y.ty)*l.height,g=(o[r]*y.b+o[r+1]*y.d+y.ty)*l.height}else d=o[e]*l.width,f=o[i]*l.width,p=o[r]*l.width,m=o[e+1]*l.height,v=o[i+1]*l.height,g=o[r+1]*l.height;var b=s[e],x=s[i],_=s[r],w=s[e+1],T=s[i+1],S=s[r+1],E=t.canvasPadding/this.renderer.resolution;if(0<E){var C=E/Math.abs(t.worldTransform.a),O=E/Math.abs(t.worldTransform.d),M=(b+x+_)/3,A=(w+T+S)/3,P=b-M,k=w-A,D=Math.sqrt(P*P+k*k);b=M+P/D*(D+C),w=A+k/D*(D+O),k=T-A,x=M+(P=x-M)/(D=Math.sqrt(P*P+k*k))*(D+C),T=A+k/D*(D+O),k=S-A,_=M+(P=_-M)/(D=Math.sqrt(P*P+k*k))*(D+C),S=A+k/D*(D+O)}n.save(),n.beginPath(),n.moveTo(b,w),n.lineTo(x,T),n.lineTo(_,S),n.closePath(),n.clip();var R=d*v+m*p+f*g-v*p-m*f-d*g,I=b*v+m*_+x*g-v*_-m*x-b*g,L=d*x+b*p+f*_-x*p-b*f-d*_,N=d*v*_+m*x*p+b*f*g-b*v*p-m*f*_-d*x*g,B=w*v+m*S+T*g-v*S-m*T-w*g,j=d*T+w*p+f*S-T*p-w*f-d*S,F=d*v*S+m*T*p+w*f*g-w*v*p-m*f*S-d*T*g;n.transform(I/R,B/R,L/R,j/R,N/R,F/R),n.drawImage(u,0,0,c*l.resolution,h*l.resolution,0,0,c,h),n.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.vertices,r=i.length/2;e.beginPath();for(var n=1;n<r-2;++n){var o=2*n,s=i[o],a=i[o+1],l=i[o+2],u=i[o+3],c=i[o+4],h=i[o+5];e.moveTo(s,a),e.lineTo(l,u),e.lineTo(c,h)}e.fillStyle="#FF0000",e.fill(),e.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();i.default=a,n.CanvasRenderer.registerPlugin("mesh",a)},{"../../core":65,"../Mesh":166}],171:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./Mesh");Object.defineProperty(i,"Mesh",{enumerable:!0,get:function(){return r(n).default}});var o=t("./webgl/MeshRenderer");Object.defineProperty(i,"MeshRenderer",{enumerable:!0,get:function(){return r(o).default}});var s=t("./canvas/CanvasMeshRenderer");Object.defineProperty(i,"CanvasMeshRenderer",{enumerable:!0,get:function(){return r(s).default}});var a=t("./Plane");Object.defineProperty(i,"Plane",{enumerable:!0,get:function(){return r(a).default}});var l=t("./NineSlicePlane");Object.defineProperty(i,"NineSlicePlane",{enumerable:!0,get:function(){return r(l).default}});var u=t("./Rope");Object.defineProperty(i,"Rope",{enumerable:!0,get:function(){return r(u).default}})},{"./Mesh":166,"./NineSlicePlane":167,"./Plane":168,"./Rope":169,"./canvas/CanvasMeshRenderer":170,"./webgl/MeshRenderer":172}],172:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),a=r(t("pixi-gl-core")),l=r(t("../Mesh")),u=(t("path"),s.Matrix.IDENTITY),n=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.shader=null,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},r.prototype.render=function(t){var e=this.renderer,i=e.gl,r=t._texture;if(r.valid){var n=t._glDatas[e.CONTEXT_UID];n||(e.bindVao(null),(n={shader:this.shader,vertexBuffer:a.default.GLBuffer.createVertexBuffer(i,t.vertices,i.STREAM_DRAW),uvBuffer:a.default.GLBuffer.createVertexBuffer(i,t.uvs,i.STREAM_DRAW),indexBuffer:a.default.GLBuffer.createIndexBuffer(i,t.indices,i.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty}).vao=new a.default.VertexArrayObject(i).addIndex(n.indexBuffer).addAttribute(n.vertexBuffer,n.shader.attributes.aVertexPosition,i.FLOAT,!1,8,0).addAttribute(n.uvBuffer,n.shader.attributes.aTextureCoord,i.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=n),e.bindVao(n.vao),t.dirty!==n.dirty&&(n.dirty=t.dirty,n.uvBuffer.upload(t.uvs)),t.indexDirty!==n.indexDirty&&(n.indexDirty=t.indexDirty,n.indexBuffer.upload(t.indices)),n.vertexBuffer.upload(t.vertices),e.bindShader(n.shader),n.shader.uniforms.uSampler=e.bindTexture(r),e.state.setBlendMode(s.utils.correctBlendMode(t.blendMode,r.baseTexture.premultipliedAlpha)),n.shader.uniforms.uTransform&&(t.uploadUvTransform?n.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):n.shader.uniforms.uTransform=u.toArray(!0)),n.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),n.shader.uniforms.uColor=s.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,n.shader.uniforms.uColor,r.baseTexture.premultipliedAlpha);var o=t.drawMode===l.default.DRAW_MODES.TRIANGLE_MESH?i.TRIANGLE_STRIP:i.TRIANGLES;n.vao.draw(o,t.indices.length,0)}},r}(s.ObjectRenderer);i.default=n,s.WebGLRenderer.registerPlugin("mesh",n)},{"../../core":65,"../Mesh":166,path:8,"pixi-gl-core":15}],173:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),n=t("../core/utils"),o=function(o){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,e=arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this));return 16384<i&&(i=16384),t<i&&(i=t),n._properties=[!1,!0,!1,!1,!1],n._maxSize=t,n._batchSize=i,n._glBuffers={},n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=a.BLEND_MODES.NORMAL,n.autoResize=r,n.roundPixels=!0,n.baseTexture=null,n.setProperties(e),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},s.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},s.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},s.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},s.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,r=!0,n=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var u=this.children[l];if(u.visible){var c=u._texture.frame;if(e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0)r&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx*t.resolution,i.ty*t.resolution),r=!1),n=u.anchor.x*(-c.width*u.scale.x)+u.position.x+.5,o=u.anchor.y*(-c.height*u.scale.y)+u.position.y+.5,s=c.width*u.scale.x,a=c.height*u.scale.y;else{r||(r=!0),u.displayObjectUpdateTransform();var h=u.worldTransform;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution|0,h.ty*t.resolution|0):e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution,h.ty*t.resolution),n=u.anchor.x*-c.width+.5,o=u.anchor.y*-c.height+.5,s=c.width,a=c.height}var d=u._texture.baseTexture.resolution;e.drawImage(u._texture.baseTexture.source,c.x*d,c.y*d,c.width*d,c.height*d,n*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},s.prototype.destroy=function(t){if(o.prototype.destroy.call(this,t),this._buffers)for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r(s,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,n.hex2rgb)(t,this.tintRgb)}}]),s}(a.Container);i.default=o},{"../core":65,"../core/utils":125}],174:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./ParticleContainer");Object.defineProperty(i,"ParticleContainer",{enumerable:!0,get:function(){return r(n).default}});var o=t("./webgl/ParticleRenderer");Object.defineProperty(i,"ParticleRenderer",{enumerable:!0,get:function(){return r(o).default}})},{"./ParticleContainer":173,"./webgl/ParticleRenderer":176}],175:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var f=r(t("pixi-gl-core")),p=r(t("../../core/utils/createIndicesForQuads")),n=function(){function s(t,e,i,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),this.gl=t,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;++n){var o=e[n];o={attribute:o.attribute,size:o.size,uploadFunction:o.uploadFunction,unsignedByte:o.unsignedByte,offset:o.offset},i[n]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return s.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,p.default)(this.size),this.indexBuffer=f.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW);for(var i=this.dynamicStride=0;i<this.dynamicProperties.length;++i){var r=this.dynamicProperties[i];r.offset=e,e+=r.size,this.dynamicStride+=r.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=f.default.GLBuffer.createVertexBuffer(t,n,t.STREAM_DRAW);for(var o=0,s=this.staticStride=0;s<this.staticProperties.length;++s){var a=this.staticProperties[s];a.offset=o,o+=a.size,this.staticStride+=a.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=f.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new f.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var u=0;u<this.dynamicProperties.length;++u){var c=this.dynamicProperties[u];c.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,c.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*c.offset):this.vao.addAttribute(this.dynamicBuffer,c.attribute,t.FLOAT,!1,4*this.dynamicStride,4*c.offset)}for(var h=0;h<this.staticProperties.length;++h){var d=this.staticProperties[h];d.unsignedByte?this.vao.addAttribute(this.staticBuffer,d.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*d.offset):this.vao.addAttribute(this.staticBuffer,d.attribute,t.FLOAT,!1,4*this.staticStride,4*d.offset)}},s.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer.upload()},s.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer.upload()},s.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},s}();i.default=n},{"../../core/utils/createIndicesForQuads":123,"pixi-gl-core":15}],176:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),n=r(t("./ParticleShader")),a=r(t("./ParticleBuffer")),h=t("../../core/utils"),o=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.shader=null,e.indexBuffer=null,e.properties=null,e.tempMatrix=new v.Matrix,e.CONTEXT_UID=0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new n.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},r.prototype.start=function(){this.renderer.bindShader(this.shader)},r.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,o=e.length;if(0!==o){i<o&&(o=i);var s=t._glBuffers[n.CONTEXT_UID];s||(s=t._glBuffers[n.CONTEXT_UID]=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.setBlendMode(v.utils.correctBlendMode(t.blendMode,a.premultipliedAlpha));var l=n.gl,u=t.worldTransform.copy(this.tempMatrix);u.prepend(n._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=u.toArray(!0),this.shader.uniforms.uColor=v.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.premultipliedAlpha),this.shader.uniforms.uSampler=n.bindTexture(a);for(var c=!1,h=0,d=0;h<o;h+=r,d+=1){var f=o-h;if(r<f&&(f=r),d>=s.length){if(!t.autoResize)break;s.push(this._generateOneMoreBuffer(t))}var p=s[d];p.uploadDynamic(e,h,f);var m=t._bufferUpdateIDs[h]||0;(c=c||p._updateID<m)&&(p._updateID=t._updateID,p.uploadStatic(e,h,f)),n.bindVao(p.vao),p.vao.draw(l.TRIANGLES,6*f)}}},r.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,i=[],r=t._maxSize,n=t._batchSize,o=t._properties,s=0;s<r;s+=n)i.push(new a.default(e,this.properties,o,n));return i},r.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,i=t._batchSize,r=t._properties;return new a.default(e,this.properties,r,i)},r.prototype.uploadVertices=function(t,e,i,r,n,o){for(var s=0,a=0,l=0,u=0,c=0;c<i;++c){var h=t[e+c],d=h._texture,f=h.scale.x,p=h.scale.y,m=d.trim,v=d.orig;m?(s=(a=m.x-h.anchor.x*v.width)+m.width,l=(u=m.y-h.anchor.y*v.height)+m.height):(s=v.width*(1-h.anchor.x),a=v.width*-h.anchor.x,l=v.height*(1-h.anchor.y),u=v.height*-h.anchor.y),r[o]=a*f,r[o+1]=u*p,r[o+n]=s*f,r[o+n+1]=u*p,r[o+2*n]=s*f,r[o+2*n+1]=l*p,r[o+3*n]=a*f,r[o+3*n+1]=l*p,o+=4*n}},r.prototype.uploadPosition=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+n]=a.x,r[o+n+1]=a.y,r[o+2*n]=a.x,r[o+2*n+1]=a.y,r[o+3*n]=a.x,r[o+3*n+1]=a.y,o+=4*n}},r.prototype.uploadRotation=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].rotation;r[o]=a,r[o+n]=a,r[o+2*n]=a,r[o+3*n]=a,o+=4*n}},r.prototype.uploadUvs=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+n]=a.x1,r[o+n+1]=a.y1,r[o+2*n]=a.x2,r[o+2*n+1]=a.y2,r[o+3*n]=a.x3,r[o+3*n+1]=a.y3):(r[o]=0,r[o+1]=0,r[o+n]=0,r[o+n+1]=0,r[o+2*n]=0,r[o+2*n+1]=0,r[o+3*n]=0,r[o+3*n+1]=0),o+=4*n}},r.prototype.uploadTint=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s],l=a._texture.baseTexture.premultipliedAlpha,u=a.alpha,c=u<1&&l?(0,h.premultiplyTint)(a._tintRGB,u):a._tintRGB+(255*u<<24);r[o]=c,r[o+n]=c,r[o+2*n]=c,r[o+3*n]=c,o+=4*n}},r.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},r}(v.ObjectRenderer);i.default=o,v.WebGLRenderer.registerPlugin("particle",o)},{"../../core":65,"../../core/utils":125,"./ParticleBuffer":175,"./ParticleShader":177}],177:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../../core/Shader"),o=function(e){function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i}(((r=n)&&r.__esModule?r:{default:r}).default);i.default=o},{"../../core/Shader":44}],178:[function(t,e,i){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1})},{}],179:[function(t,e,i){"use strict";var r,n=t("object-assign"),o=(r=n)&&r.__esModule?r:{default:r};Object.assign||(Object.assign=o.default)},{"object-assign":6}],180:[function(t,e,i){"use strict";t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":178,"./Object.assign":179,"./requestAnimationFrame":181}],181:[function(t,e,i){(function(t){"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n){var o=i[n];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+r-e;return i<0&&(i=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],182:[function(t,e,i){"use strict";function r(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof h.Texture){var n=t._textures[r].baseTexture;-1===e.indexOf(n)&&(e.push(n),i=!0)}return i}function n(t,e){return t instanceof h.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function o(t,e){if(t._texture&&t._texture instanceof h.Texture){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function s(t,e){return e instanceof h.Text&&(e.updateText(!0),!0)}function a(t,e){if(e instanceof h.TextStyle){var i=e.toFontString();return h.TextMetrics.measureFont(i),!0}return!1}function l(t,e){if(t instanceof h.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function u(t,e){return t instanceof h.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}i.__esModule=!0;var c,h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),d=t("./limiters/CountLimiter"),f=(c=d)&&c.__esModule?c:{default:c},p=h.ticker.shared;h.settings.UPLOADS_PER_FRAME=4;var m=function(){function i(t){var e=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this.limiter=new f.default(h.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(l),this.registerFindHook(u),this.registerFindHook(r),this.registerFindHook(n),this.registerFindHook(o),this.registerUploadHook(s),this.registerUploadHook(a)}return i.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,p.addOnce(this.tick,this,h.UPDATE_PRIORITY.UTILITY))):e&&e()},i.prototype.tick=function(){setTimeout(this.delayedTick,0)},i.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)p.addOnce(this.tick,this,h.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var n=this.completes.slice(0),o=this.completes.length=0,s=n.length;o<s;o++)n[o]()}},i.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},i.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},i.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof h.Container)for(var r=t.children.length-1;0<=r;r--)this.add(t.children[r]);return this},i.prototype.destroy=function(){this.ticking&&p.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},i}();i.default=m},{"../core":65,"./limiters/CountLimiter":185}],183:[function(t,e,i){"use strict";function n(t,e){if(e instanceof o.BaseTexture){var i=e.source,r=0===i.width?t.canvas.width:Math.min(t.canvas.width,i.width),n=0===i.height?t.canvas.height:Math.min(t.canvas.height,i.height);return t.ctx.drawImage(i,0,0,r,n,0,0,t.canvas.width,t.canvas.height),!0}return!1}i.__esModule=!0;var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),s=t("../BasePrepare"),a=(r=s)&&r.__esModule?r:{default:r},l=16,u=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return(e.uploadHookHelper=e).canvas=document.createElement("canvas"),e.canvas.width=l,e.canvas.height=l,e.ctx=e.canvas.getContext("2d"),e.registerUploadHook(n),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.destroy=function(){i.prototype.destroy.call(this),this.ctx=null,this.canvas=null},r}(a.default);i.default=u,o.CanvasRenderer.registerPlugin("prepare",u)},{"../../core":65,"../BasePrepare":182}],184:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./webgl/WebGLPrepare");Object.defineProperty(i,"webgl",{enumerable:!0,get:function(){return r(n).default}});var o=t("./canvas/CanvasPrepare");Object.defineProperty(i,"canvas",{enumerable:!0,get:function(){return r(o).default}});var s=t("./BasePrepare");Object.defineProperty(i,"BasePrepare",{enumerable:!0,get:function(){return r(s).default}});var a=t("./limiters/CountLimiter");Object.defineProperty(i,"CountLimiter",{enumerable:!0,get:function(){return r(a).default}});var l=t("./limiters/TimeLimiter");Object.defineProperty(i,"TimeLimiter",{enumerable:!0,get:function(){return r(l).default}})},{"./BasePrepare":182,"./canvas/CanvasPrepare":183,"./limiters/CountLimiter":185,"./limiters/TimeLimiter":186,"./webgl/WebGLPrepare":187}],185:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},e}();i.default=r},{}],186:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();i.default=r},{}],187:[function(t,e,i){"use strict";function n(t,e){return e instanceof a.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function o(t,e){return e instanceof a.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function s(t,e){return t instanceof a.Graphics&&(e.push(t),!0)}i.__esModule=!0;var r,a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),l=t("../BasePrepare"),u=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.uploadHookHelper=e.renderer,e.registerFindHook(s),e.registerUploadHook(n),e.registerUploadHook(o),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r}(((r=l)&&r.__esModule?r:{default:r}).default);i.default=u,a.WebGLRenderer.registerPlugin("prepare",u)},{"../../core":65,"../BasePrepare":182}],188:[function(g,t,y){(function(t){"use strict";function e(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}y.__esModule=!0,y.loader=y.prepare=y.particles=y.mesh=y.loaders=y.interaction=y.filters=y.extras=y.extract=y.accessibility=void 0;var i=g("./polyfill");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(y,t,{enumerable:!0,get:function(){return i[t]}})});var r=g("./core");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(y,t,{enumerable:!0,get:function(){return r[t]}})});var n,o=g("./deprecation"),s=(n=o)&&n.__esModule?n:{default:n},a=e(g("./accessibility")),l=e(g("./extract")),u=e(g("./extras")),c=e(g("./filters")),h=e(g("./interaction")),d=e(g("./loaders")),f=e(g("./mesh")),p=e(g("./particles")),m=e(g("./prepare"));r.utils.mixins.performMixins();var v=d.shared||null;y.accessibility=a,y.extract=l,y.extras=u,y.filters=c,y.interaction=h,y.loaders=d,y.mesh=f,y.particles=p,y.prepare=m,y.loader=v,"function"==typeof s.default&&(0,s.default)(y),t.PIXI=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":42,"./core":65,"./deprecation":131,"./extract":133,"./extras":141,"./filters":153,"./interaction":159,"./loaders":162,"./mesh":171,"./particles":174,"./polyfill":180,"./prepare":184}]},{},[188])(188)});var saveAs=saveAs||function(a){"use strict";if(!(void 0===a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=a.document,l=function(){return a.URL||a.webkitURL||a},u=t.createElementNS("http://www.w3.org/1999/xhtml","a"),c="download"in u,h=/constructor/i.test(a.HTMLElement)||a.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),f=a.setImmediate||a.setTimeout,p=function(t){f(function(){throw t},0)},m=function(t){setTimeout(function(){"string"==typeof t?l().revokeObjectURL(t):t.remove()},4e4)},v=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},r=function(t,i,e){e||(t=v(t));var r,n=this,o="application/octet-stream"===t.type,s=function(){!function(t,e,i){for(var r=(e=[].concat(e)).length;r--;){var n=t["on"+e[r]];if("function"==typeof n)try{n.call(t,i||t)}catch(t){p(t)}}}(n,"writestart progress write writeend".split(" "))};if(n.readyState=n.INIT,c)return r=l().createObjectURL(t),void f(function(){var t,e;u.href=r,u.download=i,t=u,e=new MouseEvent("click"),t.dispatchEvent(e),s(),m(r),n.readyState=n.DONE},0);!function(){if((d||o&&h)&&a.FileReader){var e=new FileReader;return e.onloadend=function(){var t=d?e.result:e.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(t,"_blank")||(a.location.href=t),t=void 0,n.readyState=n.DONE,s()},e.readAsDataURL(t),n.readyState=n.INIT}r||(r=l().createObjectURL(t)),o?a.location.href=r:a.open(r,"_blank")||(a.location.href=r);n.readyState=n.DONE,s(),m(r)}()},e=r.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=v(t)),navigator.msSaveOrOpenBlob(t,e)}:(e.abort=function(){},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(t,e,i){return new r(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);!function(t){"use strict";var c,h=t.Uint8Array,e=t.HTMLCanvasElement,i=e&&e.prototype,l=/\s*;\s*base64\s*(?:;|$)/i,u="toDataURL";h&&(c=new h([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!e||i.toBlob&&i.toBlobHD||(i.toBlob||(i.toBlob=function(t,e){if(e||(e="image/png"),this.mozGetAsFile)t(this.mozGetAsFile("canvas",e));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(e))t(this.msToBlob());else{var i,r=Array.prototype.slice.call(arguments,1),n=this[u].apply(this,r),o=n.indexOf(","),s=n.substring(o+1),a=l.test(n.substring(0,o));Blob.fake?((i=new Blob).encoding=a?"base64":"URI",i.data=s,i.size=s.length):h&&(i=a?new Blob([function(t){for(var e,i,r=t.length,n=new h(r/4*3|0),o=0,s=0,a=[0,0],l=0,u=0;r--;)i=t.charCodeAt(o++),255!==(e=c[i-43])&&void 0!==e&&(a[1]=a[0],a[0]=i,u=u<<6|e,4==++l&&(n[s++]=u>>>16,61!==a[1]&&(n[s++]=u>>>8),61!==a[0]&&(n[s++]=u),l=0));return n}(s)],{type:e}):new Blob([decodeURIComponent(s)],{type:e})),t(i)}}),!i.toBlobHD&&i.toDataURLHD?i.toBlobHD=function(){u="toDataURLHD";var t=this.toBlob();return u="toDataURL",t}:i.toBlobHD=i.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var C=!1,O=!1,M=0,A=2e3,P=0,k=t,D=document,R=window,I=k(R),L=[],N=R.requestAnimationFrame||R.webkitRequestAnimationFrame||R.mozRequestAnimationFrame||!1,B=R.cancelAnimationFrame||R.webkitCancelAnimationFrame||R.mozCancelAnimationFrame||!1;if(N)R.cancelAnimationFrame||(B=function(t){});else{var o=0;N=function(t,e){var i=(new Date).getTime(),r=Math.max(0,16-(i-o)),n=R.setTimeout(function(){t(i+r)},r);return o=i+r,n},B=function(t){R.clearTimeout(t)}}var e,i,r,j=R.MutationObserver||R.WebKitMutationObserver||!1,F=Date.now||function(){return(new Date).getTime()},$={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:(i=D.currentScript||!!(e=D.getElementsByTagName("script")).length&&e[e.length-1],r=i?i.src.split("?")[0]:"",0<r.split("/").length?r.split("/").slice(0,-1).join("/")+"/":""),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},U=!1,a=function(t,e){function i(){var t=b.doc.css(w.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function s(t,e,i){var r=t.css(e),n=parseFloat(r);if(isNaN(n)){var o=3==(n=d[r]||0)?i?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1;return b.isie8&&n&&(n+=1),o?n:0}return n}function o(i,r,n,t){b._bind(i,r,function(t){var e={original:t=t||R.event,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},stopImmediatePropagation:function(){t.stopImmediatePropagation?t.stopImmediatePropagation():t.cancelBubble=!0}};return"mousewheel"==r?(t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX),t.wheelDeltaY&&(e.deltaY=-.025*t.wheelDeltaY),!e.deltaY&&!e.deltaX&&(e.deltaY=-.025*t.wheelDelta)):e.deltaY=t.detail,n.call(i,e)},t)}function a(t,e,i,r){b.scrollrunning||(b.newscrolly=b.getScrollTop(),b.newscrollx=b.getScrollLeft(),y=F());var n=F()-y;if(y=F(),350<n?T=1:T+=(2-T)/10,e=e*T|0,t=t*T|0){if(r)if(t<0){if(b.getScrollLeft()>=b.page.maxw)return!0}else if(b.getScrollLeft()<=0)return!0;var o=0<t?1:-1;g!==o&&(b.scrollmom&&b.scrollmom.stop(),b.newscrollx=b.getScrollLeft(),g=o),b.lastdeltax-=t}if(e){if(function(){var t=b.getScrollTop();if(e<0){if(t>=b.page.maxh)return!0}else if(t<=0)return!0}()){if(_.nativeparentscrolling&&i&&!b.ispage&&!b.zoomactive)return!0;var s=b.view.h>>1;b.newscrolly<-s?(b.newscrolly=-s,e=-1):b.newscrolly>b.page.maxh+s?(b.newscrolly=b.page.maxh+s,e=1):e=0}var a=0<e?1:-1;v!==a&&(b.scrollmom&&b.scrollmom.stop(),b.newscrolly=b.getScrollTop(),v=a),b.lastdeltay-=e}(e||t)&&b.synched("relativexy",function(){var t=b.lastdeltay+b.newscrolly;b.lastdeltay=0;var e=b.lastdeltax+b.newscrollx;b.lastdeltax=0,b.rail.drag||b.doScrollPos(e,t)})}function n(t,e,i){var r,n;return!(i||!S)||(0===t.deltaMode?(r=-t.deltaX*(_.mousescrollstep/54)|0,n=-t.deltaY*(_.mousescrollstep/54)|0):1===t.deltaMode&&(r=-t.deltaX*_.mousescrollstep*50/80|0,n=-t.deltaY*_.mousescrollstep*50/80|0),e&&_.oneaxismousemode&&0===r&&n&&(r=n,n=0,i&&(r<0?b.getScrollLeft()>=b.page.maxw:b.getScrollLeft()<=0)&&(n=r,r=0)),b.isrtlmode&&(r=-r),a(r,n,i,!0)?void(i&&(S=!0)):(S=!1,t.stopImmediatePropagation(),t.preventDefault()))}var b=this;this.version="3.7.6",this.name="nicescroll",this.me=e;var x=k("body"),_=this.opt={doc:x,win:!1};if(k.extend(_,$),_.snapbackspeed=80,t)for(var r in _)void 0!==t[r]&&(_[r]=t[r]);if(_.disablemutationobserver&&(j=!1),this.doc=_.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(_.win?_.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==_.win,this.win=_.win||(this.ispage?I:this.doc),this.docscroll=this.ispage&&!this.haswrapper?I:this.win,this.body=x,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=_.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==_.rtlmode){var l=this.win[0]==R?this.body:this.win,u=l.css("writing-mode")||l.css("-webkit-writing-mode")||l.css("-ms-writing-mode")||l.css("-moz-writing-mode");"horizontal-tb"==u||"lr-tb"==u||""===u?(this.isrtlmode="rtl"==l.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==u||"tb"==u||"tb-rl"==u||"rl-tb"==u,this.isvertical="vertical-rl"==u||"tb"==u||"tb-rl"==u)}else this.isrtlmode=!0===_.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,(this.observerbody=!1)!==_.scrollbarid)this.id=_.scrollbarid;else for(;this.id="ascrail"+A++,D.getElementById(this.id););this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=_.overflowx,this.overflowy=_.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=function(){if(U)return U;var t=D.createElement("DIV"),o=t.style,e=navigator.userAgent,i=navigator.platform,s={};return s.haspointerlock="pointerLockElement"in D||"webkitPointerLockElement"in D||"mozPointerLockElement"in D,s.isopera="opera"in R,s.isopera12=s.isopera&&"getUserMedia"in navigator,s.isoperamini="[object OperaMini]"===Object.prototype.toString.call(R.operamini),s.isie="all"in D&&"attachEvent"in t&&!s.isopera,s.isieold=s.isie&&!("msInterpolationMode"in o),s.isie7=s.isie&&!s.isieold&&(!("documentMode"in D)||7===D.documentMode),s.isie8=s.isie&&"documentMode"in D&&8===D.documentMode,s.isie9=s.isie&&"performance"in R&&9===D.documentMode,s.isie10=s.isie&&"performance"in R&&10===D.documentMode,s.isie11="msRequestFullscreen"in t&&11<=D.documentMode,s.ismsedge="msCredentials"in R,s.ismozilla="MozAppearance"in o,s.iswebkit=!s.ismsedge&&"WebkitAppearance"in o,s.ischrome=s.iswebkit&&"chrome"in R,s.ischrome38=s.ischrome&&"touchAction"in o,s.ischrome22=!s.ischrome38&&s.ischrome&&s.haspointerlock,s.ischrome26=!s.ischrome38&&s.ischrome&&"transition"in o,s.cantouch="ontouchstart"in D.documentElement||"ontouchstart"in R,s.hasw3ctouch=!!R.PointerEvent&&(0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints),s.hasmstouch=!s.hasw3ctouch&&(R.MSPointerEvent||!1),s.ismac=/^mac$/i.test(i),s.isios=s.cantouch&&/iphone|ipad|ipod/i.test(i),s.isios4=s.isios&&!("seal"in Object),s.isios7=s.isios&&"webkitHidden"in D,s.isios8=s.isios&&"hidden"in D,s.isios10=s.isios&&R.Proxy,s.isandroid=/android/i.test(e),s.haseventlistener="addEventListener"in t,s.trstyle=!1,s.hastransform=!1,s.hastranslate3d=!1,s.transitionstyle=!1,s.hastransition=!1,s.transitionend=!1,s.trstyle="transform",s.hastransform="transform"in o||function(){for(var t=["msTransform","webkitTransform","MozTransform","OTransform"],e=0,i=t.length;e<i;e++)if(void 0!==o[t[e]]){s.trstyle=t[e];break}s.hastransform=!!s.trstyle}(),s.hastransform&&(o[s.trstyle]="translate3d(1px,2px,3px)",s.hastranslate3d=/translate3d/.test(o[s.trstyle])),s.transitionstyle="transition",s.prefixstyle="",s.transitionend="transitionend",s.hastransition="transition"in o||function(){s.transitionend=!1;for(var t=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],e=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],i=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],r=0,n=t.length;r<n;r++)if(t[r]in o){s.transitionstyle=t[r],s.prefixstyle=e[r],s.transitionend=i[r];break}s.ischrome26&&(s.prefixstyle=e[1]),s.hastransition=s.transitionstyle}(),s.cursorgrabvalue=function(){var t=["grab","-webkit-grab","-moz-grab"];(s.ischrome&&!s.ischrome38||s.isie)&&(t=[]);for(var e=0,i=t.length;e<i;e++){var r=t[e];if(o.cursor=r,o.cursor==r)return r}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),s.hasmousecapture="setCapture"in t,s.hasMutationObserver=!1!==j,t=null,U=s}();var w=k.extend({},this.detected);this.canhwscroll=w.hastransform&&_.hwacceleration,this.ishwscroll=this.canhwscroll&&b.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(w.iswebkit||w.isie||w.isie11):this.hasreversehr=!(w.iswebkit||w.isie&&!w.isie10&&!w.isie11):this.hasreversehr=!1,this.istouchcapable=!1,(w.cantouch||!w.hasw3ctouch&&!w.hasmstouch)&&(!w.cantouch||w.isios||w.isandroid||!w.iswebkit&&!w.ismozilla)||(this.istouchcapable=!0),_.enablemouselockapi||(w.hasmousecapture=!1,w.haspointerlock=!1),this.debounced=function(t,e,i){b&&(b.delaylist[t]||(b.delaylist[t]={h:N(function(){b.delaylist[t].fn.call(b),b.delaylist[t]=!1},i)},e.call(b)),b.delaylist[t].fn=e)},this.synched=function(t,e){b.synclist[t]?b.synclist[t]=e:(b.synclist[t]=e,N(function(){b&&(b.synclist[t]&&b.synclist[t].call(b),b.synclist[t]=null)}))},this.unsynched=function(t){b.synclist[t]&&(b.synclist[t]=!1)},this.css=function(t,e){for(var i in e)b.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return void 0===t?b.getScrollTop():b.setScrollTop(t)},this.scrollLeft=function(t){return void 0===t?b.getScrollLeft():b.setScrollLeft(t)};var c=function(t,e,i,r,n,o,s){this.st=t,this.ed=e,this.spd=i,this.p1=r||0,this.p2=n||1,this.p3=o||0,this.p4=s||1,this.ts=F(),this.df=e-t};if(c.prototype={B2:function(t){return 3*(1-t)*(1-t)*t},B3:function(t){return 3*(1-t)*t*t},B4:function(t){return t*t*t},getPos:function(){return(F()-this.ts)/this.spd},getNow:function(){var t=(F()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 1<=t?this.ed:this.st+this.df*e|0},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=F(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},w.hastranslate3d&&w.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){var e=i();if(e)return 16==e.length?-e[13]:-e[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y},this.getScrollLeft=function(t){if(!t){var e=i();if(e)return 16==e.length?-e[12]:-e[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x},this.notifyScrollEvent=function(t){var e=D.createEvent("UIEvents");e.initUIEvent("scroll",!1,!1,R,1),e.niceevent=!0,t.dispatchEvent(e)};var h=this.isrtlmode?1:-1;w.hastranslate3d&&_.enabletranslate3d?(this.setScrollTop=function(t,e){b.doc.translate.y=t,b.doc.translate.ty=-1*t+"px",b.doc.css(w.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0)"),e||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(t,e){b.doc.translate.x=t,b.doc.translate.tx=t*h+"px",b.doc.css(w.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0)"),e||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(t,e){b.doc.translate.y=t,b.doc.translate.ty=-1*t+"px",b.doc.css(w.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),e||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(t,e){b.doc.translate.x=t,b.doc.translate.tx=t*h+"px",b.doc.css(w.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")"),e||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(t){b.docscroll.scrollTop(t)},this.getScrollLeft=function(){return b.hasreversehr?b.detected.ismozilla?b.page.maxw-Math.abs(b.docscroll.scrollLeft()):b.page.maxw-b.docscroll.scrollLeft():b.docscroll.scrollLeft()},this.setScrollLeft=function(t){return setTimeout(function(){if(b)return b.hasreversehr&&(t=b.detected.ismozilla?-(b.page.maxw-t):b.page.maxw-t),b.docscroll.scrollLeft(t)},1)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var d={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:R.pageYOffset||D.documentElement.scrollTop,left:R.pageXOffset||D.documentElement.scrollLeft}},this.getOffset=function(){if(b.isfixed){var t=b.win.offset(),e=b.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}var i=b.win.offset();if(!b.viewport)return i;var r=b.viewport.offset();return{top:i.top-r.top,left:i.left-r.left}},this.updateScrollBar=function(t){var e,i;if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()-(_.railpadding.top+_.railpadding.bottom)}),b.railh&&b.railh.css({width:b.win.innerWidth()-(_.railpadding.left+_.railpadding.right)});else{var r=b.getOffset();if((e={top:r.top,left:r.left-(_.railpadding.left+_.railpadding.right)}).top+=s(b.win,"border-top-width",!0),e.left+=b.rail.align?b.win.outerWidth()-s(b.win,"border-right-width")-b.rail.width:s(b.win,"border-left-width"),(i=_.railoffset)&&(i.top&&(e.top+=i.top),i.left&&(e.left+=i.left)),b.railslocked||b.rail.css({top:e.top,left:e.left,height:(t?t.h:b.win.innerHeight())-(_.railpadding.top+_.railpadding.bottom)}),b.zoom&&b.zoom.css({top:e.top+1,left:1==b.rail.align?e.left-20:e.left+b.rail.width+4}),b.railh&&!b.railslocked){e={top:r.top,left:r.left},(i=_.railhoffset)&&(i.top&&(e.top+=i.top),i.left&&(e.left+=i.left));var n=b.railh.align?e.top+s(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:e.top+s(b.win,"border-top-width",!0),o=e.left+s(b.win,"border-left-width");b.railh.css({top:n-(_.railpadding.top+_.railpadding.bottom),left:o,width:b.railh.width})}}},this.doRailClick=function(t,e,i){var r,n,o,s;b.railslocked||(b.cancelEvent(t),"pageY"in t||(t.pageX=t.clientX+D.documentElement.scrollLeft,t.pageY=t.clientY+D.documentElement.scrollTop),e?(r=i?b.doScrollLeft:b.doScrollTop,o=i?(t.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(t.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,b.unsynched("relativexy"),r(0|o)):(r=i?b.doScrollLeftBy:b.doScrollBy,o=i?b.scroll.x:b.scroll.y,s=i?t.pageX-b.railh.offset().left:t.pageY-b.rail.offset().top,n=i?b.view.w:b.view.h,r(s<=o?n:-n)))},b.newscrolly=b.newscrollx=0,b.hasanimationframe="requestAnimationFrame"in R,b.hascancelanimationframe="cancelAnimationFrame"in R,b.hasborderbox=!1,this.init=function(){if(b.saved.css=[],w.isoperamini)return!0;if(w.isandroid&&!("hidden"in D))return!0;_.emulatetouch=_.emulatetouch||_.touchbehavior,b.hasborderbox=R.getComputedStyle&&"border-box"===R.getComputedStyle(D.body)["box-sizing"];var i={"overflow-y":"hidden"};if((w.isie11||w.isie10)&&(i["-ms-overflow-style"]="none"),b.ishwscroll&&(this.doc.css(w.transitionstyle,w.prefixstyle+"transform 0ms ease-out"),w.transitionend&&b.bind(b.doc,w.transitionend,b.onScrollTransitionEnd,!1)),b.zindex="auto",b.ispage||"auto"!=_.zindex?b.zindex=_.zindex:b.zindex=function(){var t=b.win;if("zIndex"in t)return t.zIndex();for(;0<t.length;){if(9==t[0].nodeType)return!1;var e=t.css("zIndex");if(!isNaN(e)&&0!==e)return parseInt(e);t=t.parent()}return!1}()||"auto",!b.ispage&&"auto"!=b.zindex&&b.zindex>P&&(P=b.zindex),b.isie&&0===b.zindex&&"auto"==_.zindex&&(b.zindex="auto"),!b.ispage||!w.isieold){var t=b.docscroll;b.ispage&&(t=b.haswrapper?b.win:b.doc),b.css(t,i),b.ispage&&(w.isie11||w.isie)&&b.css(k("html"),i),!w.isios||b.ispage||b.haswrapper||b.css(x,{"-webkit-overflow-scrolling":"touch"});var e=k(D.createElement("div"));e.css({position:"relative",top:0,float:"right",width:_.cursorwidth,height:0,"background-color":_.cursorcolor,border:_.cursorborder,"background-clip":"padding-box","-webkit-border-radius":_.cursorborderradius,"-moz-border-radius":_.cursorborderradius,"border-radius":_.cursorborderradius}),e.addClass("nicescroll-cursors"),b.cursor=e;var r=k(D.createElement("div"));r.attr("id",b.id),r.addClass("nicescroll-rails nicescroll-rails-vr");var n,o,s=["left","right","top","bottom"];for(var a in s)o=s[a],(n=_.railpadding[o]||0)&&r.css("padding-"+o,n+"px");r.append(e),r.width=Math.max(parseFloat(_.cursorwidth),e.outerWidth()),r.css({width:r.width+"px",zIndex:b.zindex,background:_.background,cursor:"default"}),r.visibility=!0,r.scrollable=!0,r.align="left"==_.railalign?0:1,b.rail=r;var l,u=b.rail.drag=!1;if(!_.boxzoom||b.ispage||w.isieold||(u=D.createElement("div"),b.bind(u,"click",b.doZoom),b.bind(u,"mouseenter",function(){b.zoom.css("opacity",_.cursoropacitymax)}),b.bind(u,"mouseleave",function(){b.zoom.css("opacity",_.cursoropacitymin)}),b.zoom=k(u),b.zoom.css({cursor:"pointer",zIndex:b.zindex,backgroundImage:"url("+_.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),_.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),w.cantouch&&_.gesturezoom&&(b.ongesturezoom=function(t){return 1.5<t.scale&&b.doZoomIn(t),t.scale<.8&&b.doZoomOut(t),b.cancelEvent(t)},b.bind(b.win,"gestureend",b.ongesturezoom))),b.railh=!1,_.horizrailenabled&&(b.css(t,{overflowX:"hidden"}),(e=k(D.createElement("div"))).css({position:"absolute",top:0,height:_.cursorwidth,width:0,backgroundColor:_.cursorcolor,border:_.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":_.cursorborderradius,"-moz-border-radius":_.cursorborderradius,"border-radius":_.cursorborderradius}),w.isieold&&e.css("overflow","hidden"),e.addClass("nicescroll-cursors"),b.cursorh=e,(l=k(D.createElement("div"))).attr("id",b.id+"-hr"),l.addClass("nicescroll-rails nicescroll-rails-hr"),l.height=Math.max(parseFloat(_.cursorwidth),e.outerHeight()),l.css({height:l.height+"px",zIndex:b.zindex,background:_.background}),l.append(e),l.visibility=!0,l.scrollable=!0,l.align="top"==_.railvalign?0:1,b.railh=l,b.railh.drag=!1),b.ispage)r.css({position:"fixed",top:0,height:"100%"}),r.css(r.align?{right:0}:{left:0}),b.body.append(r),b.railh&&(l.css({position:"fixed",left:0,width:"100%"}),l.css(l.align?{bottom:0}:{top:0}),b.body.append(l));else{if(b.ishwscroll){"static"==b.win.css("position")&&b.css(b.win,{position:"relative"});var c="HTML"==b.win[0].nodeName?b.body:b.win;k(c).scrollTop(0).scrollLeft(0),b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":r.width+4}),c.append(b.zoom)),r.css({position:"absolute",top:0}),r.css(r.align?{right:0}:{left:0}),c.append(r),l&&(l.css({position:"absolute",left:0,bottom:0}),l.css(l.align?{bottom:0}:{top:0}),c.append(l))}else{b.isfixed="fixed"==b.win.css("position");var h=b.isfixed?"fixed":"absolute";b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport,/fixed|absolute/.test(b.viewport.css("position"))||b.css(b.viewport,{position:"relative"})),r.css({position:h}),b.zoom&&b.zoom.css({position:h}),b.updateScrollBar(),b.body.append(r),b.zoom&&b.body.append(b.zoom),b.railh&&(l.css({position:h}),b.body.append(l))}w.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),_.disableoutline&&(w.isie&&b.win.attr("hideFocus","true"),w.iswebkit&&b.win.css("outline","none"))}if(!1===_.autohidemode?(b.autohidedom=!1,b.rail.css({opacity:_.cursoropacitymax}),b.railh&&b.railh.css({opacity:_.cursoropacitymax})):!0===_.autohidemode||"leave"===_.autohidemode?(b.autohidedom=k().add(b.rail),w.isie8&&(b.autohidedom=b.autohidedom.add(b.cursor)),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh)),b.railh&&w.isie8&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"scroll"==_.autohidemode?(b.autohidedom=k().add(b.rail),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh))):"cursor"==_.autohidemode?(b.autohidedom=k().add(b.cursor),b.railh&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"hidden"==_.autohidemode&&(b.autohidedom=!1,b.hide(),b.railslocked=!1),w.cantouch||b.istouchcapable||_.emulatetouch||w.hasmstouch){b.scrollmom=new z(b),b.ontouchstart=function(t){if(b.locked)return!1;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;if(b.hasmoving=!1,b.scrollmom.timer&&(b.triggerScrollEnd(),b.scrollmom.stop()),!b.railslocked){var e=b.getTarget(t);if(e&&/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return b.stopPropagation(t);var i="mousedown"===t.type;if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),b.forcescreen){var r=t;(t={original:t.original?t.original:t}).clientX=r.screenX,t.clientY=r.screenY}if(b.rail.drag={x:t.clientX,y:t.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2,dl:!1,tg:e},b.ispage||!_.directionlockdeadzone)b.rail.drag.dl="f";else{var n=I.width(),o=I.height(),s=b.getContentSize(),a=s.h-o,l=s.w-n;b.rail.scrollable&&!b.railh.scrollable?b.rail.drag.ck=0<a&&"v":!b.rail.scrollable&&b.railh.scrollable?b.rail.drag.ck=0<l&&"h":b.rail.drag.ck=!1}if(_.emulatetouch&&b.isiframe&&w.isie){var u=b.win.position();b.rail.drag.x+=u.left,b.rail.drag.y+=u.top}if(b.hasmoving=!1,b.lastmouseup=!1,b.scrollmom.reset(t.clientX,t.clientY),e&&i){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(e.nodeName))return w.hasmousecapture&&e.setCapture(),_.emulatetouch?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(t){if(b.hasmoving)return!1;e._onclick.call(this,t)}),b.cancelEvent(t)):b.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(k(e).attr("type"))&&(b.preventclick={tg:e,click:!1})}}},b.ontouchend=function(t){if(!b.rail.drag)return!0;if(2==b.rail.drag.pt){if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;b.rail.drag=!1;var e="mouseup"===t.type;if(b.hasmoving&&(b.scrollmom.doMomentum(),b.lastmouseup=!0,b.hideCursor(),w.hasmousecapture&&D.releaseCapture(),e))return b.cancelEvent(t)}else if(1==b.rail.drag.pt)return b.onmouseup(t)};var p=_.emulatetouch&&b.isiframe&&!w.hasmousecapture,m=.3*_.directionlockdeadzone|0;b.ontouchmove=function(t,e){if(!b.rail.drag)return!0;if(t.targetTouches&&_.preventmultitouchscrolling&&1<t.targetTouches.length)return!0;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!0;if(2==b.rail.drag.pt){var i,r;if("changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),r=i=0,p&&!e){var n=b.win.position();r=-n.left,i=-n.top}var o=t.clientY+i,s=o-b.rail.drag.y,a=t.clientX+r,l=a-b.rail.drag.x,u=b.rail.drag.st-s;if(b.ishwscroll&&_.bouncescroll)u<0?u=Math.round(u/2):u>b.page.maxh&&(u=b.page.maxh+Math.round((u-b.page.maxh)/2));else if(u<0?o=u=0:u>b.page.maxh&&(u=b.page.maxh,o=0),0===o&&!b.hasmoving)return b.ispage||(b.rail.drag=!1),!0;var c=b.getScrollLeft();if(b.railh&&b.railh.scrollable&&(c=b.isrtlmode?l-b.rail.drag.sl:b.rail.drag.sl-l,b.ishwscroll&&_.bouncescroll?c<0?c=Math.round(c/2):c>b.page.maxw&&(c=b.page.maxw+Math.round((c-b.page.maxw)/2)):(c<0&&(a=c=0),c>b.page.maxw&&(c=b.page.maxw,a=0))),!b.hasmoving){if(b.rail.drag.y===t.clientY&&b.rail.drag.x===t.clientX)return b.cancelEvent(t);var h=Math.abs(s),d=Math.abs(l),f=_.directionlockdeadzone;if(b.rail.drag.ck?"v"==b.rail.drag.ck?f<d&&h<=m?b.rail.drag=!1:f<h&&(b.rail.drag.dl="v"):"h"==b.rail.drag.ck&&(f<h&&d<=m?b.rail.drag=!1:f<d&&(b.rail.drag.dl="h")):f<h&&f<d?b.rail.drag.dl="f":f<h?b.rail.drag.dl=m<d?"f":"v":f<d&&(b.rail.drag.dl=m<h?"f":"h"),!b.rail.drag.dl)return b.cancelEvent(t);b.triggerScrollStart(t.clientX,t.clientY,0,0,0),b.hasmoving=!0}return b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick),b.rail.drag.dl&&("v"==b.rail.drag.dl?c=b.rail.drag.sl:"h"==b.rail.drag.dl&&(u=b.rail.drag.st)),b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.resetTransition(),b.rail.scrollable&&b.setScrollTop(u),b.scrollmom.update(a,o),b.railh&&b.railh.scrollable?(b.setScrollLeft(c),b.showCursor(u,c)):b.showCursor(u),w.isie10&&D.selection.clear())}),b.cancelEvent(t)}return 1==b.rail.drag.pt?b.onmousemove(t):void 0},b.ontouchstartCursor=function(t,e){if(!b.rail.drag||3==b.rail.drag.pt){if(b.locked)return b.cancelEvent(t);b.cancelScroll(),b.rail.drag={x:t.touches[0].clientX,y:t.touches[0].clientY,sx:b.scroll.x,sy:b.scroll.y,pt:3,hr:!!e};var i=b.getTarget(t);return!b.ispage&&w.hasmousecapture&&i.setCapture(),b.isiframe&&!w.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"})),b.cancelEvent(t)}},b.ontouchendCursor=function(t){if(b.rail.drag){if(w.hasmousecapture&&D.releaseCapture(),b.isiframe&&!w.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),3!=b.rail.drag.pt)return;return b.rail.drag=!1,b.cancelEvent(t)}},b.ontouchmoveCursor=function(t){if(b.rail.drag){if(3!=b.rail.drag.pt)return;if(b.cursorfreezed=!0,b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(t.touches[0].clientX-b.rail.drag.x),b.scroll.x<0&&(b.scroll.x=0);var e=b.scrollvaluemaxw;b.scroll.x>e&&(b.scroll.x=e)}else{b.scroll.y=b.rail.drag.sy+(t.touches[0].clientY-b.rail.drag.y),b.scroll.y<0&&(b.scroll.y=0);var i=b.scrollvaluemax;b.scroll.y>i&&(b.scroll.y=i)}return b.synched("touchmove",function(){b.rail.drag&&3==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x),_.cursordragspeed):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y),_.cursordragspeed))}),b.cancelEvent(t)}}}if(b.onmousedown=function(t,e){if(!b.rail.drag||1==b.rail.drag.pt){if(b.railslocked)return b.cancelEvent(t);b.cancelScroll(),b.rail.drag={x:t.clientX,y:t.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:e||!1};var i=b.getTarget(t);return w.hasmousecapture&&i.setCapture(),b.isiframe&&!w.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"})),b.hasmoving=!1,b.cancelEvent(t)}},b.onmouseup=function(t){if(b.rail.drag)return 1!=b.rail.drag.pt||(w.hasmousecapture&&D.releaseCapture(),b.isiframe&&!w.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),b.rail.drag=!1,b.cursorfreezed=!1,b.hasmoving&&b.triggerScrollEnd(),b.cancelEvent(t))},b.onmousemove=function(t){if(b.rail.drag){if(1!==b.rail.drag.pt)return;if(w.ischrome&&0===t.which)return b.onmouseup(t);if(b.cursorfreezed=!0,b.hasmoving||b.triggerScrollStart(t.clientX,t.clientY,0,0,0),b.hasmoving=!0,b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(t.clientX-b.rail.drag.x),b.scroll.x<0&&(b.scroll.x=0);var e=b.scrollvaluemaxw;b.scroll.x>e&&(b.scroll.x=e)}else{b.scroll.y=b.rail.drag.sy+(t.clientY-b.rail.drag.y),b.scroll.y<0&&(b.scroll.y=0);var i=b.scrollvaluemax;b.scroll.y>i&&(b.scroll.y=i)}return b.synched("mousemove",function(){b.cursorfreezed&&(b.showCursor(),b.rail.drag.hr?b.scrollLeft(Math.round(b.scroll.x*b.scrollratio.x)):b.scrollTop(Math.round(b.scroll.y*b.scrollratio.y)))}),b.cancelEvent(t)}b.checkarea=0},w.cantouch||_.emulatetouch)b.onpreventclick=function(t){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=!1,b.cancelEvent(t)},b.onclick=!w.isios&&function(t){return!b.lastmouseup||(b.lastmouseup=!1,b.cancelEvent(t))},_.grabcursorenabled&&w.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:w.cursorgrabvalue}),b.css(b.rail,{cursor:w.cursorgrabvalue}));else{var d=function(t){if(b.selectiondrag){if(t){var e=b.win.outerHeight(),i=t.pageY-b.selectiondrag.top;0<i&&i<e&&(i=0),e<=i&&(i-=e),b.selectiondrag.df=i}if(0!==b.selectiondrag.df){var r=-2*b.selectiondrag.df/6|0;b.doScrollBy(r),b.debounced("doselectionscroll",function(){d()},50)}}};b.hasTextSelected="getSelection"in D?function(){return 0<D.getSelection().rangeCount}:"selection"in D?function(){return"None"!=D.selection.type}:function(){return!1},b.onselectionstart=function(t){b.ispage||(b.selectiondrag=b.win.offset())},b.onselectionend=function(t){b.selectiondrag=!1},b.onselectiondrag=function(t){b.selectiondrag&&b.hasTextSelected()&&b.debounced("selectionscroll",function(){d(t)},250)}}if(w.hasw3ctouch?(b.css(b.ispage?k("html"):b.win,{"touch-action":"none"}),b.css(b.rail,{"touch-action":"none"}),b.css(b.cursor,{"touch-action":"none"}),b.bind(b.win,"pointerdown",b.ontouchstart),b.bind(D,"pointerup",b.ontouchend),b.delegate(D,"pointermove",b.ontouchmove)):w.hasmstouch?(b.css(b.ispage?k("html"):b.win,{"-ms-touch-action":"none"}),b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(D,"MSPointerUp",b.ontouchend),b.delegate(D,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(t){t.preventDefault()}),b.bind(b.cursor,"contextmenu",function(t){t.preventDefault()})):w.cantouch&&(b.bind(b.win,"touchstart",b.ontouchstart,!1,!0),b.bind(D,"touchend",b.ontouchend,!1,!0),b.bind(D,"touchcancel",b.ontouchend,!1,!0),b.delegate(D,"touchmove",b.ontouchmove,!1,!0)),_.emulatetouch&&(b.bind(b.win,"mousedown",b.ontouchstart,!1,!0),b.bind(D,"mouseup",b.ontouchend,!1,!0),b.bind(D,"mousemove",b.ontouchmove,!1,!0)),(_.cursordragontouch||!w.cantouch&&!_.emulatetouch)&&(b.rail.css({cursor:"default"}),b.railh&&b.railh.css({cursor:"default"}),b.jqbind(b.rail,"mouseenter",function(){if(!b.ispage&&!b.win.is(":visible"))return!1;b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.rail,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),_.sensitiverail&&(b.bind(b.rail,"click",function(t){b.doRailClick(t,!1,!1)}),b.bind(b.rail,"dblclick",function(t){b.doRailClick(t,!0,!1)}),b.bind(b.cursor,"click",function(t){b.cancelEvent(t)}),b.bind(b.cursor,"dblclick",function(t){b.cancelEvent(t)})),b.railh&&(b.jqbind(b.railh,"mouseenter",function(){if(!b.ispage&&!b.win.is(":visible"))return!1;b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.railh,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}),_.sensitiverail&&(b.bind(b.railh,"click",function(t){b.doRailClick(t,!1,!0)}),b.bind(b.railh,"dblclick",function(t){b.doRailClick(t,!0,!0)}),b.bind(b.cursorh,"click",function(t){b.cancelEvent(t)}),b.bind(b.cursorh,"dblclick",function(t){b.cancelEvent(t)})))),_.cursordragontouch&&(this.istouchcapable||w.cantouch)&&(b.bind(b.cursor,"touchstart",b.ontouchstartCursor),b.bind(b.cursor,"touchmove",b.ontouchmoveCursor),b.bind(b.cursor,"touchend",b.ontouchendCursor),b.cursorh&&b.bind(b.cursorh,"touchstart",function(t){b.ontouchstartCursor(t,!0)}),b.cursorh&&b.bind(b.cursorh,"touchmove",b.ontouchmoveCursor),b.cursorh&&b.bind(b.cursorh,"touchend",b.ontouchendCursor)),_.emulatetouch||w.isandroid||w.isios?(b.bind(w.hasmousecapture?b.win:D,"mouseup",b.ontouchend),b.onclick&&b.bind(D,"click",b.onclick),_.cursordragontouch?(b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.cursorh&&b.bind(b.cursorh,"mousedown",function(t){b.onmousedown(t,!0)}),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onmouseup)):(b.bind(b.rail,"mousedown",function(t){t.preventDefault()}),b.railh&&b.bind(b.railh,"mousedown",function(t){t.preventDefault()}))):(b.bind(w.hasmousecapture?b.win:D,"mouseup",b.onmouseup),b.bind(D,"mousemove",b.onmousemove),b.onclick&&b.bind(D,"click",b.onclick),b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mouseup",b.onmouseup),b.railh&&(b.bind(b.cursorh,"mousedown",function(t){b.onmousedown(t,!0)}),b.bind(b.cursorh,"mouseup",b.onmouseup)),!b.ispage&&_.enablescrollonselection&&(b.bind(b.win[0],"mousedown",b.onselectionstart),b.bind(D,"mouseup",b.onselectionend),b.bind(b.cursor,"mouseup",b.onselectionend),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onselectionend),b.bind(D,"mousemove",b.onselectiondrag)),b.zoom&&(b.jqbind(b.zoom,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor(),b.rail.active=!0}),b.jqbind(b.zoom,"mouseleave",function(){b.rail.active=!1,b.rail.drag||b.hideCursor()}))),_.enablemousewheel&&(b.isiframe||b.mousewheel(w.isie&&b.ispage?D:b.win,b.onmousewheel),b.mousewheel(b.rail,b.onmousewheel),b.railh&&b.mousewheel(b.railh,b.onmousewheelhr)),b.ispage||w.cantouch||/HTML|^BODY/.test(b.win[0].nodeName)||(b.win.attr("tabindex")||b.win.attr({tabindex:++M}),b.bind(b.win,"focus",function(t){C=b.getTarget(t).id||b.getTarget(t)||!1,b.hasfocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.bind(b.win,"blur",function(t){C=!1,b.hasfocus=!1}),b.bind(b.win,"mouseenter",function(t){O=b.getTarget(t).id||b.getTarget(t)||!1,b.hasmousefocus=!0,b.canshowonmouseevent&&b.noticeCursor()}),b.bind(b.win,"mouseleave",function(t){O=!1,b.hasmousefocus=!1,b.rail.drag||b.hideCursor()})),b.onkeypress=function(t){if(b.railslocked&&0===b.page.maxh)return!0;t=t||R.event;var e=b.getTarget(t);if(e&&/INPUT|TEXTAREA|SELECT|OPTION/.test(e.nodeName)&&(!e.getAttribute("type")&&!e.type||!/submit|button|cancel/i.tp))return!0;if(k(e).attr("contenteditable"))return!0;if(b.hasfocus||b.hasmousefocus&&!C||b.ispage&&!C&&!O){var i=t.keyCode;if(b.railslocked&&27!=i)return b.cancelEvent(t);var r=t.ctrlKey||!1,n=t.shiftKey||!1,o=!1;switch(i){case 38:case 63233:b.doScrollBy(72),o=!0;break;case 40:case 63235:b.doScrollBy(-72),o=!0;break;case 37:case 63232:b.railh&&(r?b.doScrollLeft(0):b.doScrollLeftBy(72),o=!0);break;case 39:case 63234:b.railh&&(r?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),o=!0);break;case 33:case 63276:b.doScrollBy(b.view.h),o=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h),o=!0;break;case 36:case 63273:b.railh&&r?b.doScrollPos(0,0):b.doScrollTo(0),o=!0;break;case 35:case 63275:b.railh&&r?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh),o=!0;break;case 32:_.spacebarenabled&&(n?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),o=!0);break;case 27:b.zoomactive&&(b.doZoom(),o=!0)}if(o)return b.cancelEvent(t)}},_.enablekeyboard&&b.bind(D,w.isopera&&!w.isopera12?"keypress":"keydown",b.onkeypress),b.bind(D,"keydown",function(t){t.ctrlKey&&(b.wheelprevented=!0)}),b.bind(D,"keyup",function(t){t.ctrlKey||(b.wheelprevented=!1)}),b.bind(R,"blur",function(t){b.wheelprevented=!1}),b.bind(R,"resize",b.onscreenresize),b.bind(R,"orientationchange",b.onscreenresize),b.bind(R,"load",b.lazyResize),w.ischrome&&!b.ispage&&!b.haswrapper){var f=b.win.attr("style"),v=parseFloat(b.win.css("width"))+1;b.win.css("width",v),b.synched("chromefix",function(){b.win.attr("style",f)})}if(b.onAttributeChange=function(t){b.lazyResize(b.isieold?250:30)},_.enableobserver&&(b.isie11||!1===j||(b.observerbody=new j(function(t){if(t.forEach(function(t){if("attributes"==t.type)return x.hasClass("modal-open")&&x.hasClass("modal-dialog")&&!k.contains(k(".modal-dialog")[0],b.doc[0])?b.hide():b.show()}),b.me.clientWidth!=b.page.width||b.me.clientHeight!=b.page.height)return b.lazyResize(30)}),b.observerbody.observe(D.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!b.ispage&&!b.haswrapper)){var g=b.win[0];!1!==j?(b.observer=new j(function(t){t.forEach(b.onAttributeChange)}),b.observer.observe(g,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),b.observerremover=new j(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(b&&t.removedNodes[e]===g)return b.remove()})}),b.observerremover.observe(g.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(b.bind(g,w.isie&&!w.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),w.isie9&&g.attachEvent("onpropertychange",b.onAttributeChange),b.bind(g,"DOMNodeRemoved",function(t){t.target===g&&b.remove()}))}!b.ispage&&_.boxzoom&&b.bind(R,"resize",b.resizeZoom),b.istextarea&&(b.bind(b.win,"keydown",b.lazyResize),b.bind(b.win,"mouseup",b.lazyResize)),b.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var y=function(){var e;b.iframexd=!1;try{(e="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(t){e=!(b.iframexd=!0)}if(b.iframexd)return"console"in R&&console.log("NiceScroll error: policy restriced iframe"),!0;if(b.forcescreen=!0,b.isiframe&&(b.iframe={doc:k(e),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=k(b.iframe.body)),!w.isios&&_.iframeautoresize&&!b.isiframe){b.win.scrollTop(0),b.doc.height("");var t=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);b.doc.height(t)}b.lazyResize(30),b.css(k(b.iframe.body),i),w.isios&&b.haswrapper&&b.css(k(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(e,"scroll",b.onscroll),_.enablemousewheel&&b.mousewheel(e,b.onmousewheel),_.enablekeyboard&&b.bind(e,w.isopera?"keypress":"keydown",b.onkeypress),w.cantouch?(b.bind(e,"touchstart",b.ontouchstart),b.bind(e,"touchmove",b.ontouchmove)):_.emulatetouch&&(b.bind(e,"mousedown",b.ontouchstart),b.bind(e,"mousemove",function(t){return b.ontouchmove(t,!0)}),_.grabcursorenabled&&w.cursorgrabvalue&&b.css(k(e.body),{cursor:w.cursorgrabvalue})),b.bind(e,"mouseup",b.ontouchend),b.zoom&&(_.dblclickzoom&&b.bind(e,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(e,"gestureend",b.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){y.call(b.doc[0],!1)},500),b.bind(this.doc,"load",y)}},this.showCursor=function(t,e){if(b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0),b.rail){if(b.autohidedom&&(b.autohidedom.stop().css({opacity:_.cursoropacitymax}),b.cursoractive=!0),b.rail.drag&&1==b.rail.drag.pt||(void 0!==t&&!1!==t&&(b.scroll.y=t/b.scrollratio.y|0),void 0!==e&&(b.scroll.x=e/b.scrollratio.x|0)),b.cursor.css({height:b.cursorheight,top:b.scroll.y}),b.cursorh){var i=b.hasreversehr?b.scrollvaluemaxw-b.scroll.x:b.scroll.x;b.cursorh.css({width:b.cursorwidth,left:!b.rail.align&&b.rail.visibility?i+b.rail.width:i}),b.cursoractive=!0}b.zoom&&b.zoom.stop().css({opacity:_.cursoropacitymax})}},this.hideCursor=function(t){b.cursortimeout||b.rail&&b.autohidedom&&(b.hasmousefocus&&"leave"===_.autohidemode||(b.cursortimeout=setTimeout(function(){b.rail.active&&b.showonmouseevent||(b.autohidedom.stop().animate({opacity:_.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:_.cursoropacitymin}),b.cursoractive=!1),b.cursortimeout=0},t||_.hidecursordelay)))},this.noticeCursor=function(t,e,i){b.showCursor(e,i),b.rail.active||b.hideCursor(t)},this.getContentSize=b.ispage?function(){return{w:Math.max(D.body.scrollWidth,D.documentElement.scrollWidth),h:Math.max(D.body.scrollHeight,D.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc[0].offsetWidth,h:b.doc[0].offsetHeight}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!b||!b.win)return!1;var i=b.page.maxh,r=b.page.maxw,n=b.view.h,o=b.view.w;if(b.view={w:b.ispage?b.win.width():b.win[0].clientWidth,h:b.ispage?b.win.height():b.win[0].clientHeight},b.page=e||b.getContentSize(),b.page.maxh=Math.max(0,b.page.h-b.view.h),b.page.maxw=Math.max(0,b.page.w-b.view.w),b.page.maxh==i&&b.page.maxw==r&&b.view.w==o&&b.view.h==n){if(b.ispage)return b;var s=b.win.offset();if(b.lastposition){var a=b.lastposition;if(a.top==s.top&&a.left==s.left)return b}b.lastposition=s}return 0===b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail&&(b.rail.scrollable=!1)):(b.page.maxh-=_.railpadding.top+_.railpadding.bottom,b.rail.scrollable=!0),0===b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh&&(b.railh.scrollable=!1)):(b.page.maxw-=_.railpadding.left+_.railpadding.right,b.railh&&(b.railh.scrollable=_.horizrailenabled)),b.railslocked=b.locked||0===b.page.maxh&&0===b.page.maxw,b.railslocked?(b.ispage||b.updateScrollBar(b.view),!1):(b.hidden||(b.rail.visibility||b.showRail(),b.railh&&!b.railh.visibility&&b.showRailHr()),b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20),b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h))),b.cursorheight=_.cursorfixedheight?_.cursorfixedheight:Math.max(_.cursorminheight,b.cursorheight),b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w*(b.view.w/b.page.w))),b.cursorwidth=_.cursorfixedheight?_.cursorfixedheight:Math.max(_.cursorminheight,b.cursorwidth),b.scrollvaluemax=b.view.h-b.cursorheight-(_.railpadding.top+_.railpadding.bottom),b.hasborderbox||(b.scrollvaluemax-=b.cursor[0].offsetHeight-b.cursor[0].clientHeight),b.railh&&(b.railh.width=0<b.page.maxh?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-(_.railpadding.left+_.railpadding.right)),b.ispage||b.updateScrollBar(b.view),b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax},b.getScrollTop()>b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=b.getScrollTop()/b.scrollratio.y|0,b.scroll.x=b.getScrollLeft()/b.scrollratio.x|0,b.cursoractive&&b.noticeCursor()),b.scroll.y&&0===b.getScrollTop()&&b.doScrollTo(b.scroll.y*b.scrollratio.y|0),b)},this.resize=b.onResize;var f=0;this.onscreenresize=function(t){clearTimeout(f);var e=!b.ispage&&!b.haswrapper;e&&b.hideRails(),f=setTimeout(function(){b&&(e&&b.showRails(),b.resize()),f=0},120)},this.lazyResize=function(t){return clearTimeout(f),t=isNaN(t)?240:t,f=setTimeout(function(){b&&b.resize(),f=0},t),b},this.jqbind=function(t,e,i){b.events.push({e:t,n:e,f:i,q:!0}),k(t).on(e,i)};var p=!(this.mousewheel=function(t,e,i){var r="jquery"in t?t[0]:t;if("onwheel"in D.createElement("div"))b._bind(r,"wheel",e,i||!1);else{var n=void 0!==D.onmousewheel?"mousewheel":"DOMMouseScroll";o(r,n,e,i||!1),"DOMMouseScroll"==n&&o(r,"MozMousePixelScroll",e,i||!1)}});if(w.haseventlistener){try{var m=Object.defineProperty({},"passive",{get:function(){p=!0}});R.addEventListener("test",null,m)}catch(t){}this.stopPropagation=function(t){return!!t&&((t=t.original?t.original:t).stopPropagation(),!1)},this.cancelEvent=function(t){return t.cancelable&&t.preventDefault(),t.stopImmediatePropagation(),t.preventManipulation&&t.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},R.constructor.prototype.addEventListener=D.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(t,e,i){this.attachEvent("on"+t,e)},R.constructor.prototype.removeEventListener=D.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(t,e,i){this.detachEvent("on"+t,e)},this.cancelEvent=function(t){return(t=t||R.event)&&(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1),!1},this.stopPropagation=function(t){return(t=t||R.event)&&(t.cancelBubble=!0),!1};this.delegate=function(t,e,i,r,n){var o=L[e]||!1;o||(o={a:[],l:[],f:function(t){for(var e=o.l,i=!1,r=e.length-1;0<=r;r--)if(!1===(i=e[r].call(t.target,t)))return!1;return i}},b.bind(t,e,o.f,r,n),L[e]=o),b.ispage?(o.a=[b.id].concat(o.a),o.l=[i].concat(o.l)):(o.a.push(b.id),o.l.push(i))},this.undelegate=function(t,e,i,r,n){var o=L[e]||!1;if(o&&o.l)for(var s=0,a=o.l.length;s<a;s++)o.a[s]===b.id&&(o.a.splice(s),o.l.splice(s),0===o.a.length&&(b._unbind(t,e,o.l.f),L[e]=null))},this.bind=function(t,e,i,r,n){var o="jquery"in t?t[0]:t;b._bind(o,e,i,r||!1,n||!1)},this._bind=function(t,e,i,r,n){b.events.push({e:t,n:e,f:i,b:r,q:!1}),p&&n?t.addEventListener(e,i,{passive:!1,capture:r}):t.addEventListener(e,i,r||!1)},this._unbind=function(t,e,i,r){L[e]?b.undelegate(t,e,i,r):t.removeEventListener(e,i,r)},this.unbindAll=function(){for(var t=0;t<b.events.length;t++){var e=b.events[t];e.q?e.e.unbind(e.n,e.f):b._unbind(e.e,e.n,e.f,e.b)}},this.showRails=function(){return b.showRail().showRailHr()},this.showRail=function(){return 0===b.page.maxh||!b.ispage&&"none"==b.win.css("display")||(b.rail.visibility=!0,b.rail.css("display","block")),b},this.showRailHr=function(){return b.railh&&(0===b.page.maxw||!b.ispage&&"none"==b.win.css("display")||(b.railh.visibility=!0,b.railh.css("display","block"))),b},this.hideRails=function(){return b.hideRail().hideRailHr()},this.hideRail=function(){return b.rail.visibility=!1,b.rail.css("display","none"),b},this.hideRailHr=function(){return b.railh&&(b.railh.visibility=!1,b.railh.css("display","none")),b},this.show=function(){return b.hidden=!1,b.railslocked=!1,b.showRails()},this.hide=function(){return b.hidden=!0,b.railslocked=!0,b.hideRails()},this.toggle=function(){return b.hidden?b.show():b.hide()},this.remove=function(){for(var t in b.stop(),b.cursortimeout&&clearTimeout(b.cursortimeout),b.delaylist)b.delaylist[t]&&B(b.delaylist[t].h);b.doZoomOut(),b.unbindAll(),w.isie9&&b.win[0].detachEvent("onpropertychange",b.onAttributeChange),!1!==b.observer&&b.observer.disconnect(),!1!==b.observerremover&&b.observerremover.disconnect(),!1!==b.observerbody&&b.observerbody.disconnect(),b.events=null,b.cursor&&b.cursor.remove(),b.cursorh&&b.cursorh.remove(),b.rail&&b.rail.remove(),b.railh&&b.railh.remove(),b.zoom&&b.zoom.remove();for(var e=0;e<b.saved.css.length;e++){var i=b.saved.css[e];i[0].css(i[1],void 0===i[2]?"":i[2])}b.saved=!1,b.me.data("__nicescroll","");var r=k.nicescroll;for(var n in r.each(function(t){if(this&&this.id===b.id){delete r[t];for(var e=++t;e<r.length;e++,t++)r[t]=r[e];--r.length&&delete r[r.length]}}),b)b[n]=null,delete b[n];b=null},this.scrollstart=function(t){return this.onscrollstart=t,b},this.scrollend=function(t){return this.onscrollend=t,b},this.scrollcancel=function(t){return this.onscrollcancel=t,b},this.zoomin=function(t){return this.onzoomin=t,b},this.zoomout=function(t){return this.onzoomout=t,b},this.isScrollable=function(t){var e=t.target?t.target:t;if("OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&e!==this.me[0]&&!/^BODY|HTML/.test(e.nodeName);){var i=k(e),r=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(r))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(t){for(var e=!(!t||!t.parentNode)&&t.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=k(e);if(/fixed|absolute/.test(i.css("position")))return i;var r=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(r)&&e.clientHeight!=e.scrollHeight)return i;if(0<i.getNiceScroll().length)return i;e=!!e.parentNode&&e.parentNode}return!1},this.triggerScrollStart=function(t,e,i,r,n){if(b.onscrollstart){var o={type:"scrollstart",current:{x:t,y:e},request:{x:i,y:r},end:{x:b.newscrollx,y:b.newscrolly},speed:n};b.onscrollstart.call(b,o)}},this.triggerScrollEnd=function(){if(b.onscrollend){var t=b.getScrollLeft(),e=b.getScrollTop(),i={type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}};b.onscrollend.call(b,i)}};var v=0,g=0,y=0,T=1,S=!1;if(this.onmousewheel=function(t){if(b.wheelprevented||b.locked)return!1;if(b.railslocked)return b.debounced("checkunlock",b.resize,250),!1;if(b.rail.drag)return b.cancelEvent(t);if("auto"===_.oneaxismousemode&&0!==t.deltaX&&(_.oneaxismousemode=!1),_.oneaxismousemode&&0===t.deltaX&&!b.rail.scrollable)return!b.railh||!b.railh.scrollable||b.onmousewheelhr(t);var e=F(),i=!1;if(_.preservenativescrolling&&b.checkarea+600<e&&(b.nativescrollingarea=b.isScrollable(t),i=!0),b.checkarea=e,b.nativescrollingarea)return!0;var r=n(t,!1,i);return r&&(b.checkarea=0),r},this.onmousewheelhr=function(t){if(!b.wheelprevented){if(b.railslocked||!b.railh.scrollable)return!0;if(b.rail.drag)return b.cancelEvent(t);var e=F(),i=!1;return _.preservenativescrolling&&b.checkarea+600<e&&(b.nativescrollingarea=b.isScrollable(t),i=!0),b.checkarea=e,!!b.nativescrollingarea||(b.railslocked?b.cancelEvent(t):n(t,!0,i))}},this.stop=function(){return b.cancelScroll(),b.scrollmon&&b.scrollmon.stop(),b.cursorfreezed=!1,b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.noticeCursor(),b},this.getTransitionSpeed=function(t){return 80+t/72*_.scrollspeed|0},_.smoothscroll)if(b.ishwscroll&&w.hastransition&&_.usetransition&&_.smoothscroll){var E="";this.resetTransition=function(){E="",b.doc.css(w.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(t,e){var i=e?t:b.getTransitionSpeed(t),r=i+"ms";return E!==r&&(E=r,b.doc.css(w.prefixstyle+"transition-duration",r)),i},this.doScrollLeft=function(t,e){var i=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(i,t,e)},this.cursorupdate={running:!1,start:function(){var t=this;if(!t.running){t.running=!0;var e=function(){t.running&&N(e),b.showCursor(b.getScrollTop(),b.getScrollLeft()),b.notifyScrollEvent(b.win[0])};N(e)}},stop:function(){this.running=!1}},this.doScrollPos=function(t,e,i){var r=b.getScrollTop(),n=b.getScrollLeft();if(((b.newscrolly-r)*(e-r)<0||(b.newscrollx-n)*(t-n)<0)&&b.cancelScroll(),_.bouncescroll?(e<0?e=e/2|0:e>b.page.maxh&&(e=b.page.maxh+(e-b.page.maxh)/2|0),t<0?t=t/2|0:t>b.page.maxw&&(t=b.page.maxw+(t-b.page.maxw)/2|0)):(e<0?e=0:e>b.page.maxh&&(e=b.page.maxh),t<0?t=0:t>b.page.maxw&&(t=b.page.maxw)),b.scrollrunning&&t==b.newscrollx&&e==b.newscrolly)return!1;b.newscrolly=e,b.newscrollx=t;var o=b.getScrollTop(),s=b.getScrollLeft(),a={};a.x=t-s,a.y=e-o;var l=0|Math.sqrt(a.x*a.x+a.y*a.y),u=b.prepareTransition(l);b.scrollrunning||(b.scrollrunning=!0,b.triggerScrollStart(s,o,t,e,u),b.cursorupdate.start()),b.scrollendtrapped=!0,w.transitionend||(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollTransitionEnd,u)),b.setScrollTop(b.newscrolly),b.setScrollLeft(b.newscrollx)},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var t=b.getScrollTop(),e=b.getScrollLeft();return b.scrollrunning=!1,w.transitionend||clearTimeout(w.transitionend),b.scrollendtrapped=!1,b.resetTransition(),b.setScrollTop(t),b.railh&&b.setScrollLeft(e),b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm),b.timerscroll=!1,b.cursorfreezed=!1,b.cursorupdate.stop(),b.showCursor(t,e),b},this.onScrollTransitionEnd=function(){if(b.scrollendtrapped){var t=b.getScrollTop(),e=b.getScrollLeft();if(t<0?t=0:t>b.page.maxh&&(t=b.page.maxh),e<0?e=0:e>b.page.maxw&&(e=b.page.maxw),t!=b.newscrolly||e!=b.newscrollx)return b.doScrollPos(e,t,_.snapbackspeed);b.scrollrunning&&b.triggerScrollEnd(),b.scrollrunning=!1,b.scrollendtrapped=!1,b.resetTransition(),b.timerscroll=!1,b.setScrollTop(t),b.railh&&b.setScrollLeft(e),b.cursorupdate.stop(),b.noticeCursor(!1,t,e),b.cursorfreezed=!1}}}else this.doScrollLeft=function(t,e){var i=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var r=b.getScrollTop(),n=b.getScrollLeft();((b.newscrolly-r)*(e-r)<0||(b.newscrollx-n)*(t-n)<0)&&b.cancelScroll();var o=!1;if(b.bouncescroll&&b.rail.visibility||(e<0?o=!(e=0):e>b.page.maxh&&(e=b.page.maxh,o=!0)),b.bouncescroll&&b.railh.visibility||(t<0?o=!(t=0):t>b.page.maxw&&(t=b.page.maxw,o=!0)),b.scrollrunning&&b.newscrolly===e&&b.newscrollx===t)return!0;b.newscrolly=e,b.newscrollx=t,b.dst={},b.dst.x=t-n,b.dst.y=e-r,b.dst.px=n,b.dst.py=r;var s=0|Math.sqrt(b.dst.x*b.dst.x+b.dst.y*b.dst.y),a=b.getTransitionSpeed(s);b.bzscroll={};var l=o?1:.58;b.bzscroll.x=new c(n,b.newscrollx,a,0,0,l,1),b.bzscroll.y=new c(r,b.newscrolly,a,0,0,l,1),F();var u=function(){if(b.scrollrunning){var t=b.bzscroll.y.getPos();b.setScrollLeft(b.bzscroll.x.getNow()),b.setScrollTop(b.bzscroll.y.getNow()),t<=1?b.timer=N(u):(b.scrollrunning=!1,b.timer=0,b.triggerScrollEnd())}};b.scrollrunning||(b.triggerScrollStart(n,r,t,e,a),b.scrollrunning=!0,b.timer=N(u))},this.cancelScroll=function(){return b.timer&&B(b.timer),b.timer=0,b.bzscroll=!1,b.scrollrunning=!1,b};else this.doScrollLeft=function(t,e){var i=b.getScrollTop();b.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=b.getScrollLeft();b.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var r=t>b.page.maxw?b.page.maxw:t;r<0&&(r=0);var n=e>b.page.maxh?b.page.maxh:e;n<0&&(n=0),b.synched("scroll",function(){b.setScrollTop(n),b.setScrollLeft(r)})},this.cancelScroll=function(){};this.doScrollBy=function(t,e){a(0,t)},this.doScrollLeftBy=function(t,e){a(t,0)},this.doScrollTo=function(t,e){var i=e?Math.round(t*b.scrollratio.y):t;i<0?i=0:i>b.page.maxh&&(i=b.page.maxh),b.cursorfreezed=!1,b.doScrollTop(t)},this.checkContentSize=function(){var t=b.getContentSize();t.h==b.page.h&&t.w==b.page.w||b.resize(!1,t)},b.onscroll=function(t){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()/b.scrollratio.y),b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()/b.scrollratio.x)),b.noticeCursor()})},b.bind(b.docscroll,"scroll",b.onscroll),this.doZoomIn=function(t){if(!b.zoomactive){b.zoomactive=!0,b.zoomrestore={style:{}};var e=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=b.win[0].style;for(var r in e){var n=e[r];b.zoomrestore.style[n]=void 0!==i[n]?i[n]:""}b.zoomrestore.style.width=b.win.css("width"),b.zoomrestore.style.height=b.win.css("height"),b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()},w.isios4&&(b.zoomrestore.scrollTop=I.scrollTop(),I.scrollTop(0)),b.win.css({position:w.isios4?"absolute":"fixed",top:0,left:0,zIndex:P+100,margin:0});var o=b.win.css("backgroundColor");return(""===o||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(o))&&b.win.css("backgroundColor","#fff"),b.rail.css({zIndex:P+101}),b.zoom.css({zIndex:P+102}),b.zoom.css("backgroundPosition","0 -18px"),b.resizeZoom(),b.onzoomin&&b.onzoomin.call(b),b.cancelEvent(t)}},this.doZoomOut=function(t){if(b.zoomactive)return b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),w.isios4&&I.scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.zindex}),b.zoom.css({"z-index":b.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0 0"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(t)},this.doZoom=function(t){return b.zoomactive?b.doZoomOut(t):b.doZoomIn(t)},this.resizeZoom=function(){if(b.zoomactive){var t=b.getScrollTop();b.win.css({width:I.width()-b.zoomrestore.padding.w+"px",height:I.height()-b.zoomrestore.padding.h+"px"}),b.onResize(),b.setScrollTop(Math.min(b.page.maxh,t))}},this.init(),k.nicescroll.push(this)},z=function(t){var m=this;this.nc=t,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(t,e){m.stop(),m.steptime=0,m.lasttime=F(),m.speedx=0,m.speedy=0,m.lastx=t,m.lasty=e,m.lastscrollx=-1,m.lastscrolly=-1},this.update=function(t,e){var i=F();m.steptime=i-m.lasttime,m.lasttime=i;var r=e-m.lasty,n=t-m.lastx,o=m.nc.getScrollTop()+r,s=m.nc.getScrollLeft()+n;m.snapx=s<0||s>m.nc.page.maxw,m.snapy=o<0||o>m.nc.page.maxh,m.speedx=n,m.speedy=r,m.lastx=t,m.lasty=e},this.stop=function(){m.nc.unsynched("domomentum2d"),m.timer&&clearTimeout(m.timer),m.timer=0,m.lastscrollx=-1,m.lastscrolly=-1},this.doSnapy=function(t,e){var i=!1;e<0?i=!(e=0):e>m.nc.page.maxh&&(e=m.nc.page.maxh,i=!0),t<0?i=!(t=0):t>m.nc.page.maxw&&(t=m.nc.page.maxw,i=!0),i?m.nc.doScrollPos(t,e,m.nc.opt.snapbackspeed):m.nc.triggerScrollEnd()},this.doMomentum=function(t){var e=F(),i=t?e+t:m.lasttime,r=m.nc.getScrollLeft(),n=m.nc.getScrollTop(),o=m.nc.page.maxh,s=m.nc.page.maxw;m.speedx=0<s?Math.min(60,m.speedx):0,m.speedy=0<o?Math.min(60,m.speedy):0;var a=i&&e-i<=60;(n<0||o<n||r<0||s<r)&&(a=!1);var l=!(!m.speedy||!a)&&m.speedy,u=!(!m.speedx||!a)&&m.speedx;if(l||u){var c=Math.max(16,m.steptime);if(50<c){var h=c/50;m.speedx*=h,m.speedy*=h,c=50}m.demulxy=0,m.lastscrollx=m.nc.getScrollLeft(),m.chkx=m.lastscrollx,m.lastscrolly=m.nc.getScrollTop(),m.chky=m.lastscrolly;var d=m.lastscrollx,f=m.lastscrolly,p=function(){var t=600<F()-e?.04:.02;m.speedx&&(d=Math.floor(m.lastscrollx-m.speedx*(1-m.demulxy)),((m.lastscrollx=d)<0||s<d)&&(t=.1)),m.speedy&&(f=Math.floor(m.lastscrolly-m.speedy*(1-m.demulxy)),((m.lastscrolly=f)<0||o<f)&&(t=.1)),m.demulxy=Math.min(1,m.demulxy+t),m.nc.synched("domomentum2d",function(){m.speedx&&(m.nc.getScrollLeft(),m.chkx=d,m.nc.setScrollLeft(d)),m.speedy&&(m.nc.getScrollTop(),m.chky=f,m.nc.setScrollTop(f)),m.timer||(m.nc.hideCursor(),m.doSnapy(d,f))}),m.demulxy<1?m.timer=setTimeout(p,c):(m.stop(),m.nc.hideCursor(),m.doSnapy(d,f))};p()}else m.doSnapy(m.nc.getScrollLeft(),m.nc.getScrollTop())}},n=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(t,e,i){var r=k.data(t,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollTop():n.call(t)},set:function(t,e){var i=k.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(e)):n.call(t,e),this}},t.fn.scrollTop=function(e){if(void 0===e){var t=!!this[0]&&(k.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():n.call(this)}return this.each(function(){var t=k.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):n.call(k(this),e)})};var s=t.fn.scrollLeft;k.cssHooks.pageXOffset={get:function(t,e,i){var r=k.data(t,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollLeft():s.call(t)},set:function(t,e){var i=k.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):s.call(t,e),this}},t.fn.scrollLeft=function(e){if(void 0===e){var t=!!this[0]&&(k.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():s.call(this)}return this.each(function(){var t=k.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):s.call(k(this),e)})};var l=function(t){var e=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){return k.each(e,t),e},this.push=function(t){e[e.length]=t,e.length++},this.eq=function(t){return e[t]},t)for(var i=0;i<t.length;i++){var r=k.data(t[i],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};!function(t,e,i){for(var r=0,n=e.length;r<n;r++)i(t,e[r])}(l.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(t){return void 0===t?new l(this):this[t]&&k.data(this[t],"__nicescroll")||!1},(t.expr.pseudos||t.expr[":"]).nicescroll=function(t){return void 0!==k.data(t,"__nicescroll")},k.fn.niceScroll=function(n,o){void 0!==o||"object"!=typeof n||"jquery"in n||(o=n,n=!1);var s=new l;return this.each(function(){var t=k(this),e=k.extend({},o);if(n){var i=k(n);e.doc=1<i.length?k(n,t):i,e.win=t}!("doc"in e)||"win"in e||(e.win=t);var r=t.data("__nicescroll")||!1;r||(e.doc=e.doc||t,r=new a(e,t),t.data("__nicescroll",r)),s.push(r)}),1===s.length?s[0]:s},R.NiceScroll={getjQuery:function(){return t}},k.nicescroll||(k.nicescroll=new l,k.nicescroll.options=$)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.PerfectScrollbar=e()}(this,function(){"use strict";function v(t){return getComputedStyle(t)}function d(t,e){for(var i in e){var r=e[i];"number"==typeof r&&(r+="px"),t.style[i]=r}return t}function f(t){var e=document.createElement("div");return e.className=t,e}function a(t,e){if(!o)throw new Error("No element matching method supported");return o.call(t,e)}function i(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function r(t,e){return Array.prototype.filter.call(t.children,function(t){return a(t,e)})}function g(t,e){var i=t.element.classList,r=b.state.scrolling(e);i.contains(r)?clearTimeout(l[e]):i.add(r)}function y(t,e){l[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(b.state.scrolling(e))},t.settings.scrollingThreshold)}function p(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function s(t,e,i,r,n){var o=i[0],s=i[1],a=i[2],l=i[3],u=i[4],c=i[5];void 0===r&&(r=!0),void 0===n&&(n=!1);var h,d,f=t.element;t.reach[l]=null,f[a]<1&&(t.reach[l]="start"),f[a]>t[o]-t[s]-1&&(t.reach[l]="end"),e&&(f.dispatchEvent(p("ps-scroll-"+l)),e<0?f.dispatchEvent(p("ps-scroll-"+u)):0<e&&f.dispatchEvent(p("ps-scroll-"+c)),r&&(g(h=t,d=l),y(h,d))),t.reach[l]&&(e||n)&&f.dispatchEvent(p("ps-"+l+"-reach-"+t.reach[l]))}function m(t){return parseInt(t,10)||0}function n(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function e(e,t){function i(t){d[c]=f+m*(t[s]-p),g(e,h),w(e),t.stopPropagation(),t.preventDefault()}function r(){y(e,h),e.event.unbind(e.ownerDocument,"mousemove",i)}var n=t[0],o=t[1],s=t[2],a=t[3],l=t[4],u=t[5],c=t[6],h=t[7],d=e.element,f=null,p=null,m=null;e.event.bind(e[l],"mousedown",function(t){f=d[c],p=t[s],m=(e[o]-e[n])/(e[a]-e[u]),e.event.bind(e.ownerDocument,"mousemove",i),e.event.once(e.ownerDocument,"mouseup",r),t.stopPropagation(),t.preventDefault()})}var o="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector),b={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},l={x:null,y:null},u=function(t){this.element=t,this.handlers={}},t={isEmpty:{configurable:!0}};u.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},u.prototype.unbind=function(e,i){var r=this;this.handlers[e]=this.handlers[e].filter(function(t){return!(!i||t===i)||(r.element.removeEventListener(e,t,!1),!1)})},u.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},t.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every(function(t){return 0===e.handlers[t].length})},Object.defineProperties(u.prototype,t);var x=function(){this.eventElements=[]};x.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return t||(t=new u(e),this.eventElements.push(t)),t},x.prototype.bind=function(t,e,i){this.eventElement(t).bind(e,i)},x.prototype.unbind=function(t,e,i){var r=this.eventElement(t);r.unbind(e,i),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},x.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},x.prototype.once=function(t,e,i){var r=this.eventElement(t),n=function(t){r.unbind(e,n),i(t)};r.bind(e,n)};var c=function(t,e,i,r,n){var o;if(void 0===r&&(r=!0),void 0===n&&(n=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}s(t,i,o,r,n)},_={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},w=function(t){var e=t.element;t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(r(e,b.element.rail("x")).forEach(function(t){return i(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(r(e,b.element.rail("y")).forEach(function(t){return i(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=n(t,m(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=m((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=n(t,m(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=m(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var i={width:e.railXWidth};e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:i.left=t.scrollLeft,e.isScrollbarXUsingBottom?i.bottom=e.scrollbarXBottom-t.scrollTop:i.top=e.scrollbarXTop+t.scrollTop,d(e.scrollbarXRail,i);var r={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?r.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:r.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:r.left=e.scrollbarYLeft+t.scrollLeft,d(e.scrollbarYRail,r),d(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),d(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(b.state.active("x")):(e.classList.remove(b.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(b.state.active("y")):(e.classList.remove(b.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)},T={"click-rail":function(i){i.event.bind(i.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),i.event.bind(i.scrollbarYRail,"mousedown",function(t){var e=t.pageY-window.pageYOffset-i.scrollbarYRail.getBoundingClientRect().top>i.scrollbarYTop?1:-1;i.element.scrollTop+=e*i.containerHeight,w(i),t.stopPropagation()}),i.event.bind(i.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),i.event.bind(i.scrollbarXRail,"mousedown",function(t){var e=t.pageX-window.pageXOffset-i.scrollbarXRail.getBoundingClientRect().left>i.scrollbarXLeft?1:-1;i.element.scrollLeft+=e*i.containerWidth,w(i),t.stopPropagation()})},"drag-thumb":function(t){e(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x"]),e(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y"])},keyboard:function(o){var s=o.element;o.event.bind(o.ownerDocument,"keydown",function(t){if(!(t.isDefaultPrevented&&t.isDefaultPrevented()||t.defaultPrevented)&&(a(s,":hover")||a(o.scrollbarX,":focus")||a(o.scrollbarY,":focus"))){var e=document.activeElement?document.activeElement:o.ownerDocument.activeElement;if(e){if("IFRAME"===e.tagName)e=e.contentDocument.activeElement;else for(;e.shadowRoot;)e=e.shadowRoot.activeElement;if(a(n=e,"input,[contenteditable]")||a(n,"select,[contenteditable]")||a(n,"textarea,[contenteditable]")||a(n,"button,[contenteditable]"))return}var i=0,r=0;switch(t.which){case 37:i=t.metaKey?-o.contentWidth:t.altKey?-o.containerWidth:-30;break;case 38:r=t.metaKey?o.contentHeight:t.altKey?o.containerHeight:30;break;case 39:i=t.metaKey?o.contentWidth:t.altKey?o.containerWidth:30;break;case 40:r=t.metaKey?-o.contentHeight:t.altKey?-o.containerHeight:-30;break;case 32:r=t.shiftKey?o.containerHeight:-o.containerHeight;break;case 33:r=o.containerHeight;break;case 34:r=-o.containerHeight;break;case 36:r=o.contentHeight;break;case 35:r=-o.contentHeight;break;default:return}o.settings.suppressScrollX&&0!==i||o.settings.suppressScrollY&&0!==r||(s.scrollTop-=r,s.scrollLeft+=i,w(o),function(t,e){var i=s.scrollTop;if(0===t){if(!o.scrollbarYActive)return!1;if(0===i&&0<e||i>=o.contentHeight-o.containerHeight&&e<0)return!o.settings.wheelPropagation}var r=s.scrollLeft;if(0===e){if(!o.scrollbarXActive)return!1;if(0===r&&t<0||r>=o.contentWidth-o.containerWidth&&0<t)return!o.settings.wheelPropagation}return!0}(i,r)&&t.preventDefault())}var n})},wheel:function(p){function t(t){var e,i,r,n,o,s,a,l,u,c=(i=(e=t).deltaX,r=-1*e.deltaY,void 0!==i&&void 0!==r||(i=-1*e.wheelDeltaX/6,r=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(i*=10,r*=10),i!=i&&r!=r&&(i=0,r=e.wheelDelta),e.shiftKey?[-r,-i]:[i,r]),h=c[0],d=c[1];if(!function(t,e,i){if(!_.isWebKit&&m.querySelector("select:focus"))return!0;if(!m.contains(t))return!1;for(var r=t;r&&r!==m;){if(r.classList.contains(b.element.consuming))return!0;var n=v(r);if([n.overflow,n.overflowX,n.overflowY].join("").match(/(scroll|auto)/)){var o=r.scrollHeight-r.clientHeight;if(0<o&&!(0===r.scrollTop&&0<i||r.scrollTop===o&&i<0))return!0;var s=r.scrollLeft-r.clientWidth;if(0<s&&!(0===r.scrollLeft&&e<0||r.scrollLeft===s&&0<e))return!0}r=r.parentNode}return!1}(t.target,h,d)){var f=!1;p.settings.useBothWheelAxes?p.scrollbarYActive&&!p.scrollbarXActive?(d?m.scrollTop-=d*p.settings.wheelSpeed:m.scrollTop+=h*p.settings.wheelSpeed,f=!0):p.scrollbarXActive&&!p.scrollbarYActive&&(h?m.scrollLeft+=h*p.settings.wheelSpeed:m.scrollLeft-=d*p.settings.wheelSpeed,f=!0):(m.scrollTop-=d*p.settings.wheelSpeed,m.scrollLeft+=h*p.settings.wheelSpeed),w(p),(f=f||(n=h,o=d,s=0===m.scrollTop,a=m.scrollTop+m.offsetHeight===m.scrollHeight,l=0===m.scrollLeft,u=m.scrollLeft+m.offsetWidth===m.offsetWidth,!(Math.abs(o)>Math.abs(n)?s||a:l||u)||!p.settings.wheelPropagation))&&!t.ctrlKey&&(t.stopPropagation(),t.preventDefault())}}var m=p.element;void 0!==window.onwheel?p.event.bind(m,"wheel",t):void 0!==window.onmousewheel&&p.event.bind(m,"mousewheel",t)},touch:function(a){function l(t,e){h.scrollTop-=e,h.scrollLeft-=t,w(a)}function u(t){return t.targetTouches?t.targetTouches[0]:t}function c(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function t(t){if(c(t)){var e=u(t);d.pageX=e.pageX,d.pageY=e.pageY,f=(new Date).getTime(),null!==r&&clearInterval(r)}}function e(t){if(c(t)){var e=u(t),i={pageX:e.pageX,pageY:e.pageY},r=i.pageX-d.pageX,n=i.pageY-d.pageY;if(function(t,e,i){if(!h.contains(t))return!1;for(var r=t;r&&r!==h;){if(r.classList.contains(b.element.consuming))return!0;var n=v(r);if([n.overflow,n.overflowX,n.overflowY].join("").match(/(scroll|auto)/)){var o=r.scrollHeight-r.clientHeight;if(0<o&&!(0===r.scrollTop&&0<i||r.scrollTop===o&&i<0))return!0;var s=r.scrollLeft-r.clientWidth;if(0<s&&!(0===r.scrollLeft&&e<0||r.scrollLeft===s&&0<e))return!0}r=r.parentNode}return!1}(t.target,r,n))return;l(r,n),d=i;var o=(new Date).getTime(),s=o-f;0<s&&(p.x=r/s,p.y=n/s,f=o),function(t,e){var i=h.scrollTop,r=h.scrollLeft,n=Math.abs(t),o=Math.abs(e);if(n<o){if(e<0&&i===a.contentHeight-a.containerHeight||0<e&&0===i)return 0===window.scrollY&&0<e&&_.isChrome}else if(o<n&&(t<0&&r===a.contentWidth-a.containerWidth||0<t&&0===r))return!0;return!0}(r,n)&&t.preventDefault()}}function i(){a.settings.swipeEasing&&(clearInterval(r),r=setInterval(function(){a.isInitialized?clearInterval(r):p.x||p.y?Math.abs(p.x)<.01&&Math.abs(p.y)<.01?clearInterval(r):(l(30*p.x,30*p.y),p.x*=.8,p.y*=.8):clearInterval(r)},10))}if(_.supportsTouch||_.supportsIePointer){var h=a.element,d={},f=0,p={},r=null;_.supportsTouch?(a.event.bind(h,"touchstart",t),a.event.bind(h,"touchmove",e),a.event.bind(h,"touchend",i)):_.supportsIePointer&&(window.PointerEvent?(a.event.bind(h,"pointerdown",t),a.event.bind(h,"pointermove",e),a.event.bind(h,"pointerup",i)):window.MSPointerEvent&&(a.event.bind(h,"MSPointerDown",t),a.event.bind(h,"MSPointerMove",e),a.event.bind(h,"MSPointerUp",i)))}}},h=function(t,e){var i=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in(this.element=t).classList.add(b.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1},e)i.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var n,o,s=function(){return t.classList.add(b.state.focus)},a=function(){return t.classList.remove(b.state.focus)};this.isRtl="rtl"===v(t).direction,this.isNegativeScroll=(o=t.scrollLeft,t.scrollLeft=-1,n=t.scrollLeft<0,t.scrollLeft=o,n),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new x,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=f(b.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=f(b.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=v(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=m(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=m(l.borderLeftWidth)+m(l.borderRightWidth),d(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=m(l.marginLeft)+m(l.marginRight),d(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=f(b.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=f(b.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var u,c,h=v(this.scrollbarYRail);this.scrollbarYRight=parseInt(h.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=m(h.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?(u=this.scrollbarY,m((c=v(u)).width)+m(c.paddingLeft)+m(c.paddingRight)+m(c.borderLeftWidth)+m(c.borderRightWidth)):null,this.railBorderYWidth=m(h.borderTopWidth)+m(h.borderBottomWidth),d(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=m(h.marginTop)+m(h.marginBottom),d(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return T[t](i)}),this.lastScrollTop=t.scrollTop,this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return i.onScroll(t)}),w(this)};return h.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,d(this.scrollbarXRail,{display:"block"}),d(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=m(v(this.scrollbarXRail).marginLeft)+m(v(this.scrollbarXRail).marginRight),this.railYMarginHeight=m(v(this.scrollbarYRail).marginTop)+m(v(this.scrollbarYRail).marginBottom),d(this.scrollbarXRail,{display:"none"}),d(this.scrollbarYRail,{display:"none"}),w(this),c(this,"top",0,!1,!0),c(this,"left",0,!1,!0),d(this.scrollbarXRail,{display:""}),d(this.scrollbarYRail,{display:""}))},h.prototype.onScroll=function(t){this.isAlive&&(w(this),c(this,"top",this.element.scrollTop-this.lastScrollTop),c(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=this.element.scrollTop,this.lastScrollLeft=this.element.scrollLeft)},h.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),i(this.scrollbarX),i(this.scrollbarY),i(this.scrollbarXRail),i(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},h.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")},h}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).PIXI=t()}}(function(){return function o(s,a,l){function u(e,t){if(!a[e]){if(!s[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(c)return c(e,!0);var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}var n=a[e]={exports:{}};s[e][0].call(n.exports,function(t){return u(s[e][1][t]||t)},n,n.exports,o,s,a,l)}return a[e].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,i){"use strict";"use restrict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}i.INT_BITS=32,i.INT_MAX=2147483647,i.INT_MIN=-1<<31,i.sign=function(t){return(0<t)-(t<0)},i.abs=function(t){var e=t>>31;return(t^e)-e},i.min=function(t,e){return e^(t^e)&-(t<e)},i.max=function(t,e){return t^(t^e)&-(t<e)},i.isPow2=function(t){return!(t&t-1||!t)},i.log2=function(t){var e,i;return e=(65535<t)<<4,e|=i=(255<(t>>>=e))<<3,e|=i=(15<(t>>>=i))<<2,(e|=i=(3<(t>>>=i))<<1)|(t>>>=i)>>1},i.log10=function(t){return 1e9<=t?9:1e8<=t?8:1e7<=t?7:1e6<=t?6:1e5<=t?5:1e4<=t?4:1e3<=t?3:100<=t?2:10<=t?1:0},i.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},i.countTrailingZeros=r,i.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,1+(t|=t>>>16)},i.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},i.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var i=e,r=e,n=7;for(i>>>=1;i;i>>>=1)r<<=1,r|=1&i,--n;t[e]=r<<n&255}}(n),i.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},i.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},i.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},i.interleave3=function(t,e,i){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<2},i.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},i.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},{}],2:[function(t,e,i){"use strict";function r(t,e,i){i=i||2;var r,n,o,s,a,l,u,c=e&&e.length,h=c?e[0]*i:t.length,d=m(t,0,h,i,!0),f=[];if(!d)return f;if(c&&(d=function(t,e,i,r){var n,o,s,a,l,u=[];for(n=0,o=e.length;n<o;n++)s=e[n]*r,a=n<o-1?e[n+1]*r:t.length,(l=m(t,s,a,r,!1))===l.next&&(l.steiner=!0),u.push(_(l));for(u.sort(y),n=0;n<u.length;n++)b(u[n],i),i=v(i,i.next);return i}(t,e,d,i)),t.length>80*i){r=o=t[0],n=s=t[1];for(var p=i;p<h;p+=i)(a=t[p])<r&&(r=a),(l=t[p+1])<n&&(n=l),o<a&&(o=a),s<l&&(s=l);u=0!==(u=Math.max(o-r,s-n))?1/u:0}return g(d,f,i,r,n,u),f}function m(t,e,i,r,n){var o,s;if(n===0<O(t,e,i,r))for(o=e;o<i;o+=r)s=l(o,t[o],t[o+1],s);else for(o=i-r;e<=o;o-=r)s=l(o,t[o],t[o+1],s);return s&&a(s,s.next)&&(C(s),s=s.next),s}function v(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!a(r,r.next)&&0!==T(r.prev,r,r.next))r=r.next;else{if(C(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function g(t,e,i,r,n,o,s){if(t){!s&&o&&function(t,e,i,r){var n=t;for(;null===n.z&&(n.z=x(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next,n!==t;);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,s,a,l,u=1;do{for(i=t,o=t=null,s=0;i;){for(s++,r=i,e=a=0;e<u&&(a++,r=r.nextZ);e++);for(l=u;0<a||0<l&&r;)0!==a&&(0===l||!r||i.z<=r.z)?(i=(n=i).nextZ,a--):(r=(n=r).nextZ,l--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,u*=2}while(1<s)}(n)}(t,r,n,o);for(var a,l,u=t;t.prev!==t.next;)if(a=t.prev,l=t.next,o?h(t,r,n,o):c(t))e.push(a.i/i),e.push(t.i/i),e.push(l.i/i),C(t),t=l.next,u=l.next;else if((t=l)===u){s?1===s?g(t=d(t,e,i),e,i,r,n,o,2):2===s&&f(t,e,i,r,n,o):g(v(t),e,i,r,n,o,1);break}}}function c(t){var e=t.prev,i=t,r=t.next;if(0<=T(e,i,r))return!1;for(var n=t.next.next;n!==t.prev;){if(w(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&0<=T(n.prev,n,n.next))return!1;n=n.next}return!0}function h(t,e,i,r){var n=t.prev,o=t,s=t.next;if(0<=T(n,o,s))return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,l=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,c=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,h=x(a,l,e,i,r),d=x(u,c,e,i,r),f=t.prevZ,p=t.nextZ;f&&f.z>=h&&p&&p.z<=d;){if(f!==t.prev&&f!==t.next&&w(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&0<=T(f.prev,f,f.next))return!1;if(f=f.prevZ,p!==t.prev&&p!==t.next&&w(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&0<=T(p.prev,p,p.next))return!1;p=p.nextZ}for(;f&&f.z>=h;){if(f!==t.prev&&f!==t.next&&w(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&0<=T(f.prev,f,f.next))return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&w(n.x,n.y,o.x,o.y,s.x,s.y,p.x,p.y)&&0<=T(p.prev,p,p.next))return!1;p=p.nextZ}return!0}function d(t,e,i){var r=t;do{var n=r.prev,o=r.next.next;!a(n,o)&&p(n,r,r.next,o)&&S(n,o)&&S(o,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(o.i/i),C(r),C(r.next),r=t=o),r=r.next}while(r!==t);return r}function f(t,e,i,r,n,o){var s,a,l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&(a=u,(s=l).next.i!==a.i&&s.prev.i!==a.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&p(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(s,a)&&S(s,a)&&S(a,s)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;for(;i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next,i!==t;);return r}(s,a))){var c=E(l,u);return l=v(l,l.next),c=v(c,c.next),g(l,e,i,r,n,o),void g(c,e,i,r,n,o)}u=u.next}l=l.next}while(l!==t)}function y(t,e){return t.x-e.x}function b(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&s<a){if((s=a)===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===s)return i.prev;var l,u=i,c=i.x,h=i.y,d=1/0;for(r=i.next;r!==u;)n>=r.x&&r.x>=c&&n!==r.x&&w(o<h?n:s,o,c,h,o<h?s:n,o,r.x,r.y)&&((l=Math.abs(o-r.y)/(n-r.x))<d||l===d&&r.x>i.x)&&S(r,t)&&(i=r,d=l),r=r.next;return i}(t,e)){var i=E(e,t);v(i,i.next)}}function x(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function _(t){for(var e=t,i=t;e.x<i.x&&(i=e),(e=e.next)!==t;);return i}function w(t,e,i,r,n,o,s,a){return 0<=(n-s)*(e-a)-(t-s)*(o-a)&&0<=(t-s)*(r-a)-(i-s)*(e-a)&&0<=(i-s)*(o-a)-(n-s)*(r-a)}function T(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function a(t,e){return t.x===e.x&&t.y===e.y}function p(t,e,i,r){return!!(a(t,e)&&a(i,r)||a(t,r)&&a(i,e))||0<T(t,e,i)!=0<T(t,e,r)&&0<T(i,r,t)!=0<T(i,r,e)}function S(t,e){return T(t.prev,t,t.next)<0?0<=T(t,e,t.next)&&0<=T(t,t.prev,e):T(t,e,t.prev)<0||T(t,t.next,e)<0}function E(t,e){var i=new s(t.i,t.x,t.y),r=new s(e.i,e.x,e.y),n=t.next,o=e.prev;return(t.next=e).prev=t,(i.next=n).prev=i,(r.next=i).prev=r,(o.next=r).prev=o,r}function l(t,e,i,r){var n=new s(t,e,i);return r?(n.next=r.next,(n.prev=r).next.prev=n,r.next=n):(n.prev=n).next=n,n}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function s(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,i,r){for(var n=0,o=e,s=i-r;o<i;o+=r)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}e.exports=r,(e.exports.default=r).deviation=function(t,e,i,r){var n=e&&e.length,o=n?e[0]*i:t.length,s=Math.abs(O(t,0,o,i));if(n)for(var a=0,l=e.length;a<l;a++){var u=e[a]*i,c=a<l-1?e[a+1]*i:t.length;s-=Math.abs(O(t,u,c,i))}var h=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,f=r[a+1]*i,p=r[a+2]*i;h+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},r.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[n][o][s]);0<n&&(r+=t[n-1].length,i.holes.push(r))}return i}},{}],3:[function(t,e,i){"use strict";function u(){}function o(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(){this._events=new u,this._eventsCount=0}var n=Object.prototype.hasOwnProperty,f="~";Object.create&&(u.prototype=Object.create(null),(new u).__proto__||(f=!1)),r.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)n.call(t,e)&&i.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},r.prototype.listeners=function(t,e){var i=f?f+t:t,r=this._events[i];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,s=new Array(o);n<o;n++)s[n]=r[n].fn;return s},r.prototype.emit=function(t,e,i,r,n,o){var s=f?f+t:t;if(!this._events[s])return!1;var a,l,u=this._events[s],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,r),!0;case 5:return u.fn.call(u.context,e,i,r,n),!0;case 6:return u.fn.call(u.context,e,i,r,n,o),!0}for(l=1,a=new Array(c-1);l<c;l++)a[l-1]=arguments[l];u.fn.apply(u.context,a)}else{var h,d=u.length;for(l=0;l<d;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,i);break;case 4:u[l].fn.call(u[l].context,e,i,r);break;default:if(!a)for(h=1,a=new Array(c-1);h<c;h++)a[h-1]=arguments[h];u[l].fn.apply(u[l].context,a)}}return!0},r.prototype.on=function(t,e,i){var r=new o(e,i||this),n=f?f+t:t;return this._events[n]?this._events[n].fn?this._events[n]=[this._events[n],r]:this._events[n].push(r):(this._events[n]=r,this._eventsCount++),this},r.prototype.once=function(t,e,i){var r=new o(e,i||this,!0),n=f?f+t:t;return this._events[n]?this._events[n].fn?this._events[n]=[this._events[n],r]:this._events[n].push(r):(this._events[n]=r,this._eventsCount++),this},r.prototype.removeListener=function(t,e,i,r){var n=f?f+t:t;if(!this._events[n])return this;if(!e)return 0==--this._eventsCount?this._events=new u:delete this._events[n],this;var o=this._events[n];if(o.fn)o.fn!==e||r&&!o.once||i&&o.context!==i||(0==--this._eventsCount?this._events=new u:delete this._events[n]);else{for(var s=0,a=[],l=o.length;s<l;s++)(o[s].fn!==e||r&&!o[s].once||i&&o[s].context!==i)&&a.push(o[s]);a.length?this._events[n]=1===a.length?a[0]:a:0==--this._eventsCount?this._events=new u:delete this._events[n]}return this},r.prototype.removeAllListeners=function(t){var e;return t?(e=f?f+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new u:delete this._events[e])):(this._events=new u,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=f,r.EventEmitter=r,void 0!==e&&(e.exports=r)},{}],4:[function(t,e,i){var r,n,o,s,a,l,u,c,h,d,f,p,m,v,g,y,b,x,_;r=this,n=/iPhone/i,o=/iPod/i,s=/iPad/i,a=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,l=/Android/i,u=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,c=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,h=/Windows Phone/i,d=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,f=/BlackBerry/i,p=/BB10/i,m=/Opera Mini/i,v=/(CriOS|Chrome)(?=.*\bMobile\b)/i,g=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,y=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),b=function(t,e){return t.test(e)},x=function(t){var e=t||navigator.userAgent,i=e.split("[FBAN");if(void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]),this.apple={phone:b(n,e),ipod:b(o,e),tablet:!b(n,e)&&b(s,e),device:b(n,e)||b(o,e)||b(s,e)},this.amazon={phone:b(u,e),tablet:!b(u,e)&&b(c,e),device:b(u,e)||b(c,e)},this.android={phone:b(u,e)||b(a,e),tablet:!b(u,e)&&!b(a,e)&&(b(c,e)||b(l,e)),device:b(u,e)||b(c,e)||b(a,e)||b(l,e)},this.windows={phone:b(h,e),tablet:b(d,e),device:b(h,e)||b(d,e)},this.other={blackberry:b(f,e),blackberry10:b(p,e),opera:b(m,e),firefox:b(g,e),chrome:b(v,e),device:b(f,e)||b(p,e)||b(m,e)||b(g,e)||b(v,e)},this.seven_inch=b(y,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},_=function(){var t=new x;return t.Class=x,t},void 0!==e&&e.exports&&"undefined"==typeof window?e.exports=x:void 0!==e&&e.exports&&"undefined"!=typeof window?e.exports=_():r.isMobile=_()},{}],5:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){return t._head?(t._tail._next=e)._prev=t._tail:t._head=e,(t._tail=e)._owner=t,e}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=function(){function r(t,e,i){void 0===e&&(e=!1),n(this,r),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}return o(r,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),r}(),a=function(){function t(){n(this,t),this._head=this._tail=void 0}return o(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return r(this,new s(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return r(this,new s(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=s,i.default=a,e.exports=i.default},{}],6:[function(t,e,i){"use strict";var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,r,n=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),o=1;o<arguments.length;o++){for(var s in i=Object(arguments[o]))u.call(i,s)&&(n[s]=i[s]);if(l){r=l(i);for(var a=0;a<r.length;a++)c.call(i,r[a])&&(n[r[a]]=i[r[a]])}}return n}},{}],7:[function(t,e,i){"use strict";e.exports=function(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[r.key[o]]=i[o]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,function(t,e,i){e&&(n[r.q.name][e]=i)}),n}},{}],8:[function(t,e,u){(function(n){function o(t,e){for(var i=0,r=t.length-1;0<=r;r--){var n=t[r];"."===n?t.splice(r,1):".."===n?(t.splice(r,1),i++):i&&(t.splice(r,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function s(t,e){if(t.filter)return t.filter(e);for(var i=[],r=0;r<t.length;r++)e(t[r],r,t)&&i.push(t[r]);return i}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(t){return e.exec(t).slice(1)};u.resolve=function(){for(var t="",e=!1,i=arguments.length-1;-1<=i&&!e;i--){var r=0<=i?arguments[i]:n.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return(e?"/":"")+(t=o(s(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},u.normalize=function(t){var e=u.isAbsolute(t),i="/"===r(t,-1);return(t=o(s(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t},u.isAbsolute=function(t){return"/"===t.charAt(0)},u.join=function(){var t=Array.prototype.slice.call(arguments,0);return u.normalize(s(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},u.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;0<=i&&""===t[i];i--);return i<e?[]:t.slice(e,i-e+1)}t=u.resolve(t).substr(1),e=u.resolve(e).substr(1);for(var r=i(t.split("/")),n=i(e.split("/")),o=Math.min(r.length,n.length),s=o,a=0;a<o;a++)if(r[a]!==n[a]){s=a;break}var l=[];for(a=s;a<r.length;a++)l.push("..");return(l=l.concat(n.slice(s))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(t){var e=a(t),i=e[0],r=e[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},u.basename=function(t,e){var i=a(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},u.extname=function(t){return a(t)[3]};var r="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,t("_process"))},{_process:26}],9:[function(t,e,i){var n=new ArrayBuffer(0),o=function(t,e,i,r){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=r||t.STATIC_DRAW,this.data=n,i&&this.upload(i),this._updateID=0};o.prototype.upload=function(t,e,i){i||this.bind();var r=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?r.bufferSubData(this.type,e,t):r.bufferData(this.type,t,this.drawType),this.data=t},o.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},o.createVertexBuffer=function(t,e,i){return new o(t,t.ARRAY_BUFFER,e,i)},o.createIndexBuffer=function(t,e,i){return new o(t,t.ELEMENT_ARRAY_BUFFER,e,i)},o.create=function(t,e,i,r){return new o(t,e,i,r)},o.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=o},{}],10:[function(t,e,i){var s=t("./GLTexture"),a=function(t,e,i){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=i||100};a.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new s(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},a.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},a.prototype.clear=function(t,e,i,r){this.bind();var n=this.gl;n.clearColor(t,e,i,r),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},a.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},a.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},a.prototype.resize=function(t,e){var i=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(i.bindRenderbuffer(i.RENDERBUFFER,this.stencil),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t,e))},a.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},a.createRGBA=function(t,e,i,r){var n=s.fromData(t,null,e,i);n.enableNearestScaling(),n.enableWrapClamp();var o=new a(t,e,i);return o.enableTexture(n),o.unbind(),o},a.createFloat32=function(t,e,i,r){var n=new s.fromData(t,r,e,i);n.enableNearestScaling(),n.enableWrapClamp();var o=new a(t,e,i);return o.enableTexture(n),o.unbind(),o},e.exports=a},{"./GLTexture":12}],11:[function(t,e,i){var o=t("./shader/compileProgram"),s=t("./shader/extractAttributes"),a=t("./shader/extractUniforms"),l=t("./shader/setPrecision"),u=t("./shader/generateUniformAccessObject"),r=function(t,e,i,r,n){this.gl=t,r&&(e=l(e,r),i=l(i,r)),this.program=o(t,e,i,n),this.attributes=s(t,this.program),this.uniformData=a(t,this.program),this.uniforms=u(t,this.uniformData)};r.prototype.bind=function(){return this.gl.useProgram(this.program),this},r.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=r},{"./shader/compileProgram":17,"./shader/extractAttributes":19,"./shader/extractUniforms":20,"./shader/generateUniformAccessObject":21,"./shader/setPrecision":25}],12:[function(t,e,i){var o=function(t,e,i,r,n){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=i||-1,this.format=r||t.RGBA,this.type=n||t.UNSIGNED_BYTE},n=!(o.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var i=t.videoWidth||t.width,r=t.videoHeight||t.height;r!==this.height||i!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=i,this.height=r});o.prototype.uploadData=function(t,e,i){this.bind();var r=this.gl;if(t instanceof Float32Array){if(!n){if(!r.getExtension("OES_texture_float"))throw new Error("floating point textures not available");n=!0}this.type=r.FLOAT}else this.type=this.type||r.UNSIGNED_BYTE;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||i!==this.height?r.texImage2D(r.TEXTURE_2D,0,this.format,e,i,0,this.format,this.type,t||null):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e,i,this.format,this.type,t||null),this.width=e,this.height=i},o.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},o.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},o.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},o.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},o.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},o.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},o.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},o.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},o.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},o.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},o.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},o.fromSource=function(t,e,i){var r=new o(t);return r.premultiplyAlpha=i||!1,r.upload(e),r},o.fromData=function(t,e,i,r){var n=new o(t);return n.uploadData(e,i,r),n},e.exports=o},{}],13:[function(t,e,i){function r(t,e){if(this.nativeVaoExtension=null,r.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var i=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(i),attribState:new Array(i)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var n=t("./setVertexAttribArrays");r.prototype.constructor=r,(e.exports=r).FORCE_NATIVE=!1,r.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},r.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},r.prototype.activate=function(){for(var t=this.gl,e=null,i=0;i<this.attributes.length;i++){var r=this.attributes[i];e!==r.buffer&&(r.buffer.bind(),e=r.buffer),t.vertexAttribPointer(r.attribute.location,r.attribute.size,r.type||t.FLOAT,r.normalized||!1,r.stride||0,r.start||0)}return n(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},r.prototype.addAttribute=function(t,e,i,r,n,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:i||this.gl.FLOAT,normalized:r||!1,stride:n||0,start:o||0}),this.dirty=!0,this},r.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},r.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},r.prototype.draw=function(t,e,i){var r=this.gl;return this.indexBuffer?r.drawElements(t,e||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(i||0)):r.drawArrays(t,i,e||this.getSize()),this},r.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},r.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},{"./setVertexAttribArrays":16}],14:[function(t,e,i){e.exports=function(t,e){var i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!i)throw new Error("This browser does not support webGL. Try using the canvas renderer");return i}},{}],15:[function(t,e,i){var r={createContext:t("./createContext"),setVertexAttribArrays:t("./setVertexAttribArrays"),GLBuffer:t("./GLBuffer"),GLFramebuffer:t("./GLFramebuffer"),GLShader:t("./GLShader"),GLTexture:t("./GLTexture"),VertexArrayObject:t("./VertexArrayObject"),shader:t("./shader")};void 0!==e&&e.exports&&(e.exports=r),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},{"./GLBuffer":9,"./GLFramebuffer":10,"./GLShader":11,"./GLTexture":12,"./VertexArrayObject":13,"./createContext":14,"./setVertexAttribArrays":16,"./shader":22}],16:[function(t,e,i){e.exports=function(t,e,i){var r;if(i){var n=i.tempAttribState,o=i.attribState;for(r=0;r<n.length;r++)n[r]=!1;for(r=0;r<e.length;r++)n[e[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==n[r]&&(o[r]=n[r],i.attribState[r]?t.enableVertexAttribArray(r):t.disableVertexAttribArray(r))}else for(r=0;r<e.length;r++){var s=e[r];t.enableVertexAttribArray(s.attribute.location)}}},{}],17:[function(t,e,i){var l=function(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.log(t.getShaderInfoLog(r)),null)};e.exports=function(t,e,i,r){var n=l(t,t.VERTEX_SHADER,e),o=l(t,t.FRAGMENT_SHADER,i),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),r)for(var a in r)t.bindAttribLocation(s,r[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}},{}],18:[function(t,e,i){var r=function(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e};e.exports=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return r(2*e);case"bvec3":return r(3*e);case"bvec4":return r(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],19:[function(t,e,i){var a=t("./mapType"),l=t("./mapSize"),u=function(t,e,i,r){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,i||0,r||0)};e.exports=function(t,e){for(var i={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var o=t.getActiveAttrib(e,n),s=a(t,o.type);i[o.name]={type:s,size:l(s),location:t.getAttribLocation(e,o.name),pointer:u}}return i}},{"./mapSize":23,"./mapType":24}],20:[function(t,e,i){var l=t("./mapType"),u=t("./defaultValue");e.exports=function(t,e){for(var i={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<r;n++){var o=t.getActiveUniform(e,n),s=o.name.replace(/\[.*?\]/,""),a=l(t,o.type);i[s]={type:a,size:o.size,location:t.getUniformLocation(e,s),value:u(a,o.size)}}return i}},{"./defaultValue":18,"./mapType":24}],21:[function(t,e,i){function c(i,r){return function(t){this.data[i].value=t;var e=this.data[i].location;1===r.size?n[r.type](this.gl,e,t):o[r.type](this.gl,e,t)}}function h(t,e){for(var i=e,r=0;r<t.length-1;r++){var n=i[t[r]]||{data:{}};i[t[r]]=n,i=n}return i}var d=function(t){return function(){return this.data[t].value}},n={float:function(t,e,i){t.uniform1f(e,i)},vec2:function(t,e,i){t.uniform2f(e,i[0],i[1])},vec3:function(t,e,i){t.uniform3f(e,i[0],i[1],i[2])},vec4:function(t,e,i){t.uniform4f(e,i[0],i[1],i[2],i[3])},int:function(t,e,i){t.uniform1i(e,i)},ivec2:function(t,e,i){t.uniform2i(e,i[0],i[1])},ivec3:function(t,e,i){t.uniform3i(e,i[0],i[1],i[2])},ivec4:function(t,e,i){t.uniform4i(e,i[0],i[1],i[2],i[3])},bool:function(t,e,i){t.uniform1i(e,i)},bvec2:function(t,e,i){t.uniform2i(e,i[0],i[1])},bvec3:function(t,e,i){t.uniform3i(e,i[0],i[1],i[2])},bvec4:function(t,e,i){t.uniform4i(e,i[0],i[1],i[2],i[3])},mat2:function(t,e,i){t.uniformMatrix2fv(e,!1,i)},mat3:function(t,e,i){t.uniformMatrix3fv(e,!1,i)},mat4:function(t,e,i){t.uniformMatrix4fv(e,!1,i)},sampler2D:function(t,e,i){t.uniform1i(e,i)}},o={float:function(t,e,i){t.uniform1fv(e,i)},vec2:function(t,e,i){t.uniform2fv(e,i)},vec3:function(t,e,i){t.uniform3fv(e,i)},vec4:function(t,e,i){t.uniform4fv(e,i)},int:function(t,e,i){t.uniform1iv(e,i)},ivec2:function(t,e,i){t.uniform2iv(e,i)},ivec3:function(t,e,i){t.uniform3iv(e,i)},ivec4:function(t,e,i){t.uniform4iv(e,i)},bool:function(t,e,i){t.uniform1iv(e,i)},bvec2:function(t,e,i){t.uniform2iv(e,i)},bvec3:function(t,e,i){t.uniform3iv(e,i)},bvec4:function(t,e,i){t.uniform4iv(e,i)},sampler2D:function(t,e,i){t.uniform1iv(e,i)}};e.exports=function(t,e){var i={data:{}};i.gl=t;for(var r=Object.keys(e),n=0;n<r.length;n++){var o=r[n],s=o.split("."),a=s[s.length-1],l=h(s,i),u=e[o];l.data[a]=u,l.gl=t,Object.defineProperty(l,a,{get:d(a),set:c(a,u)})}return i}},{}],22:[function(t,e,i){e.exports={compileProgram:t("./compileProgram"),defaultValue:t("./defaultValue"),extractAttributes:t("./extractAttributes"),extractUniforms:t("./extractUniforms"),generateUniformAccessObject:t("./generateUniformAccessObject"),setPrecision:t("./setPrecision"),mapSize:t("./mapSize"),mapType:t("./mapType")}},{"./compileProgram":17,"./defaultValue":18,"./extractAttributes":19,"./extractUniforms":20,"./generateUniformAccessObject":21,"./mapSize":23,"./mapType":24,"./setPrecision":25}],23:[function(t,e,i){var r={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(t){return r[t]}},{}],24:[function(t,e,i){var o=null,s={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(t,e){if(!o){var i=Object.keys(s);o={};for(var r=0;r<i.length;++r){var n=i[r];o[t[n]]=s[n]}}return o[e]}},{}],25:[function(t,e,i){e.exports=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t}},{}],26:[function(t,e,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function s(){m&&f&&(m=!1,f.length?p=f.concat(p):v=-1,p.length&&a())}function a(){if(!m){var t=o(s);m=!0;for(var e=p.length;e;){for(f=p,p=[];++v<e;)f&&f[v].run();v=-1,e=p.length}f=null,m=!1,function(e){if(h===clearTimeout)return clearTimeout(e);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var f,p=[],m=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new l(t,e)),1!==p.length||m||o(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],27:[function(t,D,R){(function(k){!function(t){function g(t){throw new RangeError(m[t])}function n(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function e(t,e){var i=t.split("@"),r="";return 1<i.length&&(r=i[0]+"@",t=i[1]),r+n((t=t.replace(p,".")).split("."),e).join(".")}function y(t){for(var e,i,r=[],n=0,o=t.length;n<o;)55296<=(e=t.charCodeAt(n++))&&e<=56319&&n<o?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function b(t){return n(t,function(t){var e="";return 65535<t&&(e+=P((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+P(t)}).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function _(t,e,i){var r=0;for(t=i?A(t/h):t>>1,t+=A(t/e);v*E>>1<t;r+=T)t=A(t/v);return A(r+(v+1)*t/(t+c))}function i(t){var e,i,r,n,o,s,a,l,u,c,h,d=[],f=t.length,p=0,m=O,v=C;for((i=t.lastIndexOf(M))<0&&(i=0),r=0;r<i;++r)128<=t.charCodeAt(r)&&g("not-basic"),d.push(t.charCodeAt(r));for(n=0<i?i+1:0;n<f;){for(o=p,s=1,a=T;f<=n&&g("invalid-input"),h=t.charCodeAt(n++),(T<=(l=h-48<10?h-22:h-65<26?h-65:h-97<26?h-97:T)||l>A((w-p)/s))&&g("overflow"),p+=l*s,!(l<(u=a<=v?S:v+E<=a?E:a-v));a+=T)s>A(w/(c=T-u))&&g("overflow"),s*=c;v=_(p-o,e=d.length+1,0==o),A(p/e)>w-m&&g("overflow"),m+=A(p/e),p%=e,d.splice(p++,0,m)}return b(d)}function r(t){var e,i,r,n,o,s,a,l,u,c,h,d,f,p,m,v=[];for(d=(t=y(t)).length,e=O,o=C,s=i=0;s<d;++s)(h=t[s])<128&&v.push(P(h));for(r=n=v.length,n&&v.push(M);r<d;){for(a=w,s=0;s<d;++s)(h=t[s])>=e&&h<a&&(a=h);for(a-e>A((w-i)/(f=r+1))&&g("overflow"),i+=(a-e)*f,e=a,s=0;s<d;++s)if((h=t[s])<e&&++i>w&&g("overflow"),h==e){for(l=i,u=T;!(l<(c=u<=o?S:o+E<=u?E:u-o));u+=T)m=l-c,p=T-c,v.push(P(x(c+m%p,0))),l=A(m/p);v.push(P(x(l,0))),o=_(i,f,r==n),i=0,++r}++i,++e}return v.join("")}var o="object"==typeof R&&R&&!R.nodeType&&R,s="object"==typeof D&&D&&!D.nodeType&&D,a="object"==typeof k&&k;a.global!==a&&a.window!==a&&a.self!==a||(t=a);var l,u,w=2147483647,T=36,S=1,E=26,c=38,h=700,C=72,O=128,M="-",d=/^xn--/,f=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=T-S,A=Math.floor,P=String.fromCharCode;if(l={version:"1.4.1",ucs2:{decode:y,encode:b},decode:i,encode:r,toASCII:function(t){return e(t,function(t){return f.test(t)?"xn--"+r(t):t})},toUnicode:function(t){return e(t,function(t){return d.test(t)?i(t.slice(4).toLowerCase()):t})}},o&&s)if(D.exports==o)s.exports=l;else for(u in l)l.hasOwnProperty(u)&&(o[u]=l[u]);else t.punycode=l}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,i){"use strict";e.exports=function(t,e,i,r){e=e||"&",i=i||"=";var n={};if("string"!=typeof t||0===t.length)return n;var o=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a,l,u=t.length;0<s&&s<u&&(u=s);for(var c=0;c<u;++c){var h,d,f,p,m=t[c].replace(o,"%20"),v=m.indexOf(i);0<=v?(h=m.substr(0,v),d=m.substr(v+1)):(h=m,d=""),f=decodeURIComponent(h),p=decodeURIComponent(d),a=n,l=f,Object.prototype.hasOwnProperty.call(a,l)?g(n[f])?n[f].push(p):n[f]=[n[f],p]:n[f]=p}return n};var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],29:[function(t,e,i){"use strict";function o(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r++)i.push(e(t[r],r));return i}var s=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(i,r,n,t){return r=r||"&",n=n||"=",null===i&&(i=void 0),"object"==typeof i?o(l(i),function(t){var e=encodeURIComponent(s(t))+n;return a(i[t])?o(i[t],function(t){return e+encodeURIComponent(s(t))}).join(r):e+encodeURIComponent(s(i[t]))}).join(r):t?encodeURIComponent(s(t))+n+encodeURIComponent(s(i)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},l=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},{}],30:[function(t,e,i){"use strict";i.decode=i.parse=t("./decode"),i.encode=i.stringify=t("./encode")},{"./decode":28,"./encode":29}],31:[function(t,e,i){"use strict";e.exports=function(t,e,i){var r,n=t.length;if(!(n<=e||0===i)){var o=n-(i=n<e+i?n-e:i);for(r=e;r<o;++r)t[r]=t[r+i];t.length=o}}},{}],32:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=r(t("mini-signals")),s=r(t("parse-uri")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./async")),h=r(t("./Resource")),l=/(#[\w-]+)?$/,u=function(){function r(){var i=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.baseUrl=t,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=a.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return r.prototype.add=function(t,e,i,r){if(Array.isArray(t)){for(var n=0;n<t.length;++n)this.add(t[n]);return this}if("object"===(void 0===t?"undefined":c(t))&&(r=e||t.callback||t.onComplete,e=(i=t).url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(r=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new h.default(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=i.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var l=o.progressChunk*(s.length+1)/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=l;for(var u=0;u<s.length;++u)s[u].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},r.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},r.prototype.use=function(t){return this._afterMiddleware.push(t),this},r.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},r.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},r.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),i=void 0;if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=l.exec(i)[0];-1!==(i=i.substr(0,i.length-r.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=r}return i},r.prototype._loadResource=function(i,t){var r=this;i._dequeue=t,a.eachSeries(this._beforeMiddleware,function(t,e){t.call(r,i,function(){e(i.isComplete?{}:null)})},function(){i.isComplete?r._onLoad(i):(i._onLoadBinding=i.onComplete.once(r._onLoad,r),i.load())},!0)},r.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},r.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},r.prototype._onLoad=function(i){var r=this;i._onLoadBinding=null,this._resourcesParsing.push(i),i._dequeue(),a.eachSeries(this._afterMiddleware,function(t,e){t.call(r,i,e)},function(){i.onAfterMiddleware.dispatch(i),r.progress+=i.progressChunk,r.onProgress.dispatch(r,i),i.error?r.onError.dispatch(i.error,r,i):r.onLoad.dispatch(r,i),r._resourcesParsing.splice(r._resourcesParsing.indexOf(i),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},n(r,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),r}();i.default=u},{"./Resource":33,"./async":34,"mini-signals":5,"parse-uri":7}],33:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(){}function s(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function a(t){return t.toString().replace("object ","")}i.__esModule=!0;var l=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),u=r(t("parse-uri")),c=r(t("mini-signals")),h=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),d=null,o=function(){function o(t,e,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(o.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=o.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=n,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new c.default,this.onProgress=new c.default,this.onComplete=new c.default,this.onAfterMiddleware=new c.default}return o.setExtensionLoadType=function(t,e){s(o._loadTypeMap,t,e)},o.setExtensionXhrType=function(t,e){s(o._xhrTypeMap,t,e)},o.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(o.STATUS_FLAGS.COMPLETE,!0),this._setFlag(o.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},o.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=o.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},o.prototype.load=function(t){var e=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(e)},1));switch(t&&this.onComplete.once(t),this._setFlag(o.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case o.LOAD_TYPE.IMAGE:this.type=o.TYPE.IMAGE,this._loadElement("image");break;case o.LOAD_TYPE.AUDIO:this.type=o.TYPE.AUDIO,this._loadSourceElement("audio");break;case o.LOAD_TYPE.VIDEO:this.type=o.TYPE.VIDEO,this._loadSourceElement("video");break;case o.LOAD_TYPE.XHR:default:h&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},o.prototype._hasFlag=function(t){return!!(this._flags&t)},o.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},o.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},o.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},o.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===o.XHR_RESPONSE_TYPE.JSON||this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=o.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},o.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},o.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},o.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},o.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},o.prototype._xhrOnError=function(){var t=this.xhr;this.abort(a(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},o.prototype._xhrOnAbort=function(){this.abort(a(this.xhr)+" Request was aborted by the user.")},o.prototype._xdrOnTimeout=function(){this.abort(a(this.xhr)+" Request timed out.")},o.prototype._xhrOnLoad=function(){var t=this.xhr,e="",i=void 0===t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(e=t.responseText),0===i&&(0<e.length||t.responseType===o.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===o.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=o.TYPE.TEXT;else if(this.xhrType===o.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=o.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===o.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(e,"text/xml")}else{var n=document.createElement("div");n.innerHTML=e,this.data=n}this.type=o.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},o.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,d||(d=document.createElement("a")),d.href=t;var i=!(t=(0,u.default)(d.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},o.prototype._determineXhrType=function(){return o._xhrTypeMap[this.extension]||o.XHR_RESPONSE_TYPE.TEXT},o.prototype._determineLoadType=function(){return o._loadTypeMap[this.extension]||o.LOAD_TYPE.XHR},o.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(-1<r?r:t.length,-1<n?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},o.prototype._getMimeFromXhrType=function(t){switch(t){case o.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case o.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case o.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case o.XHR_RESPONSE_TYPE.JSON:return"application/json";case o.XHR_RESPONSE_TYPE.DEFAULT:case o.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},l(o,[{key:"isDataUrl",get:function(){return this._hasFlag(o.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(o.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(o.STATUS_FLAGS.LOADING)}}]),o}();(i.default=o).STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},o.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},o.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},o.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},o._loadTypeMap={gif:o.LOAD_TYPE.IMAGE,png:o.LOAD_TYPE.IMAGE,bmp:o.LOAD_TYPE.IMAGE,jpg:o.LOAD_TYPE.IMAGE,jpeg:o.LOAD_TYPE.IMAGE,tif:o.LOAD_TYPE.IMAGE,tiff:o.LOAD_TYPE.IMAGE,webp:o.LOAD_TYPE.IMAGE,tga:o.LOAD_TYPE.IMAGE,svg:o.LOAD_TYPE.IMAGE,"svg+xml":o.LOAD_TYPE.IMAGE,mp3:o.LOAD_TYPE.AUDIO,ogg:o.LOAD_TYPE.AUDIO,wav:o.LOAD_TYPE.AUDIO,mp4:o.LOAD_TYPE.VIDEO,webm:o.LOAD_TYPE.VIDEO},o._xhrTypeMap={xhtml:o.XHR_RESPONSE_TYPE.DOCUMENT,html:o.XHR_RESPONSE_TYPE.DOCUMENT,htm:o.XHR_RESPONSE_TYPE.DOCUMENT,xml:o.XHR_RESPONSE_TYPE.DOCUMENT,tmx:o.XHR_RESPONSE_TYPE.DOCUMENT,svg:o.XHR_RESPONSE_TYPE.DOCUMENT,tsx:o.XHR_RESPONSE_TYPE.DOCUMENT,gif:o.XHR_RESPONSE_TYPE.BLOB,png:o.XHR_RESPONSE_TYPE.BLOB,bmp:o.XHR_RESPONSE_TYPE.BLOB,jpg:o.XHR_RESPONSE_TYPE.BLOB,jpeg:o.XHR_RESPONSE_TYPE.BLOB,tif:o.XHR_RESPONSE_TYPE.BLOB,tiff:o.XHR_RESPONSE_TYPE.BLOB,webp:o.XHR_RESPONSE_TYPE.BLOB,tga:o.XHR_RESPONSE_TYPE.BLOB,json:o.XHR_RESPONSE_TYPE.JSON,text:o.XHR_RESPONSE_TYPE.TEXT,txt:o.XHR_RESPONSE_TYPE.TEXT,ttf:o.XHR_RESPONSE_TYPE.BUFFER,otf:o.XHR_RESPONSE_TYPE.BUFFER},o.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":5,"parse-uri":7}],34:[function(t,e,i){"use strict";function s(){}function a(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}i.__esModule=!0,i.eachSeries=function(i,r,n,o){var s=0,a=i.length;!function t(e){e||s===a?n&&n(e):o?setTimeout(function(){r(i[s++],t)},1):r(i[s++],t)}()},i.queue=function(e,t){function i(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var r={data:t,callback:"function"==typeof i?i:s};e?o._tasks.unshift(r):o._tasks.push(r),setTimeout(function(){return o.process()},1)}}function r(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),n<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var n=0,o={_tasks:[],concurrency:t,saturated:s,unsaturated:s,buffer:t/4,empty:s,drain:s,error:s,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){n=0,o.drain=s,o.started=!1,o._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!o.paused&&n<o.concurrency&&o._tasks.length;){var t=o._tasks.shift();0===o._tasks.length&&o.empty(),(n+=1)===o.concurrency&&o.saturated(),e(t.data,a(r(t)))}},length:function(){return o._tasks.length},running:function(){return n},idle:function(){return o._tasks.length+n===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};return o}},{}],35:[function(t,e,i){"use strict";i.__esModule=!0,i.encodeBinary=function(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],n=[0,0,0,0],o=0;o<r.length;++o)i<t.length?r[o]=255&t.charCodeAt(i++):r[o]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(t.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(var s=0;s<n.length;++s)e+=a.charAt(n[s])}return e};var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],36:[function(t,e,i){"use strict";var r=t("./Loader").default,n=t("./Resource").default,o=t("./async"),s=t("./b64");r.Resource=n,r.async=o,r.base64=s,e.exports=r,e.exports.default=r},{"./Loader":32,"./Resource":33,"./async":34,"./b64":35}],37:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===s.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=(n=l.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=n,t.type=s.default.TYPE.IMAGE,t.data.onload=function(){l.revokeObjectURL(n),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===i?"undefined":o(i)))return i.v}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+a.default.encodeBinary(t.xhr.responseText),t.type=s.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var n;e()}else e()}};var s=r(t("../../Resource")),a=r(t("../../b64")),l=window.URL||window.webkitURL},{"../../Resource":33,"../../b64":35}],38:[function(t,e,i){"use strict";function O(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,i){if(t&&I.isObject(t)&&t instanceof O)return t;var r=new O;return r.parse(t,e,i),r}var R=t("punycode"),I=t("./util");i.parse=r,i.resolve=function(t,e){return r(t,!1,!0).resolve(e)},i.resolveObject=function(t,e){return t?r(t,!1,!0).resolveObject(e):e},i.format=function(t){return I.isString(t)&&(t=r(t)),t instanceof O?t.format():O.prototype.format.call(t)},i.Url=O;var L=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,N=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),B=["'"].concat(o),j=["%","/","?",";","#"].concat(B),F=["/","?","#"],$=/^[+a-z0-9A-Z_-]{0,63}$/,U=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,z={javascript:!0,"javascript:":!0},W={javascript:!0,"javascript:":!0},H={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},X=t("querystring");O.prototype.parse=function(t,e,i){if(!I.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),n=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(n);o[0]=o[0].replace(/\\/g,"/");var s=t=o.join(n);if(s=s.trim(),!i&&1===t.split("#").length){var a=N.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?X.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=L.exec(s);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,s=s.substr(l.length)}if(i||l||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var c="//"===s.substr(0,2);!c||l&&W[l]||(s=s.substr(2),this.slashes=!0)}if(!W[l]&&(c||l&&!H[l])){for(var h=-1,d=0;d<F.length;d++){-1!==(m=s.indexOf(F[d]))&&(-1===h||m<h)&&(h=m)}var f,p;-1!==(p=-1===h?s.lastIndexOf("@"):s.lastIndexOf("@",h))&&(f=s.slice(0,p),s=s.slice(p+1),this.auth=decodeURIComponent(f)),h=-1;for(d=0;d<j.length;d++){var m;-1!==(m=s.indexOf(j[d]))&&(-1===h||m<h)&&(h=m)}-1===h&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var g=this.hostname.split(/\./),y=(d=0,g.length);d<y;d++){var b=g[d];if(b&&!b.match($)){for(var x="",_=0,w=b.length;_<w;_++)127<b.charCodeAt(_)?x+="x":x+=b[_];if(!x.match($)){var T=g.slice(0,d),S=g.slice(d+1),E=b.match(U);E&&(T.push(E[1]),S.unshift(E[2])),S.length&&(s="/"+S.join(".")+s),this.hostname=T.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=R.toASCII(this.hostname));var C=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+C,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!z[u])for(d=0,y=B.length;d<y;d++){var M=B[d];if(-1!==s.indexOf(M)){var A=encodeURIComponent(M);A===M&&(A=escape(M)),s=s.split(M).join(A)}}var P=s.indexOf("#");-1!==P&&(this.hash=s.substr(P),s=s.slice(0,P));var k=s.indexOf("?");if(-1!==k?(this.search=s.substr(k),this.query=s.substr(k+1),e&&(this.query=X.parse(this.query)),s=s.slice(0,k)):e&&(this.search="",this.query={}),s&&(this.pathname=s),H[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){C=this.pathname||"";var D=this.search||"";this.path=C+D}return this.href=this.format(),this},O.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,o="";this.host?n=t+this.host:this.hostname&&(n=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&I.isObject(this.query)&&Object.keys(this.query).length&&(o=X.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||H[e])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+n+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+r},O.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},O.prototype.resolveObject=function(t){if(I.isString(t)){var e=new O;e.parse(t,!1,!0),t=e}for(var i=new O,r=Object.keys(this),n=0;n<r.length;n++){var o=r[n];i[o]=this[o]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(i[l]=t[l])}return H[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!H[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var h=u[c];i[h]=t[h]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||W[t.protocol])i.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),i.pathname=d.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var f=i.pathname||"",p=i.search||"";i.path=f+p}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var m=i.pathname&&"/"===i.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),g=v||m||i.host&&t.pathname,y=g,b=i.pathname&&i.pathname.split("/")||[],x=(d=t.pathname&&t.pathname.split("/")||[],i.protocol&&!H[i.protocol]);if(x&&(i.hostname="",i.port=null,i.host&&(""===b[0]?b[0]=i.host:b.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),g=g&&(""===d[0]||""===b[0])),v)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,b=d;else if(d.length)b||(b=[]),b.pop(),b=b.concat(d),i.search=t.search,i.query=t.query;else if(!I.isNullOrUndefined(t.search)){if(x)i.hostname=i.host=b.shift(),(E=!!(i.host&&0<i.host.indexOf("@"))&&i.host.split("@"))&&(i.auth=E.shift(),i.host=i.hostname=E.shift());return i.search=t.search,i.query=t.query,I.isNull(i.pathname)&&I.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!b.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var _=b.slice(-1)[0],w=(i.host||t.host||1<b.length)&&("."===_||".."===_)||""===_,T=0,S=b.length;0<=S;S--)"."===(_=b[S])?b.splice(S,1):".."===_?(b.splice(S,1),T++):T&&(b.splice(S,1),T--);if(!g&&!y)for(;T--;T)b.unshift("..");!g||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),w&&"/"!==b.join("/").substr(-1)&&b.push("");var E,C=""===b[0]||b[0]&&"/"===b[0].charAt(0);x&&(i.hostname=i.host=C?"":b.length?b.shift():"",(E=!!(i.host&&0<i.host.indexOf("@"))&&i.host.split("@"))&&(i.auth=E.shift(),i.host=i.hostname=E.shift()));return(g=g||i.host&&b.length)&&!C&&b.unshift(""),b.length?i.pathname=b.join("/"):(i.pathname=null,i.path=null),I.isNull(i.pathname)&&I.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},O.prototype.parseHost=function(){var t=this.host,e=n.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":39,punycode:27,querystring:30}],39:[function(t,e,i){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],40:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),n=r(t("ismobilejs")),o=r(t("./accessibleTarget"));l.utils.mixins.delayMixin(l.DisplayObject.prototype,o.default);var s=100,a=0,u=0,c=2,h=function(){function i(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),!n.default.tablet&&!n.default.phone||navigator.isCocoonJS||this.createTouchHook();var e=document.createElement("div");e.style.width=s+"px",e.style.height=s+"px",e.style.position="absolute",e.style.top=a+"px",e.style.left=u+"px",e.style.zIndex=c,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return i.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},i.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},i.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},i.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=e.length-1;0<=i;i--)this.updateAccessibleObjects(e[i])}},i.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o.renderId!==this.renderId)o._accessibleActive=!1,l.utils.removeItems(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{r=o._accessibleDiv;var s=o.hitArea,a=o.worldTransform;o.hitArea?(r.style.left=(a.tx+s.x*a.a)*e+"px",r.style.top=(a.ty+s.y*a.d)*i+"px",r.style.width=s.width*a.a*e+"px",r.style.height=s.height*a.d*i+"px"):(s=o.getBounds(),this.capHitArea(s),r.style.left=s.x*e+"px",r.style.top=s.y*i+"px",r.style.width=s.width*e+"px",r.style.height=s.height*i+"px")}}this.renderId++}},i.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},i.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=s+"px",e.style.height=s+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=c,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,(t._accessibleDiv=e).displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},i.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},i.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},i.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},i.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},i.prototype._onMouseMove=function(){this.deactivate()},i.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},i}();i.default=h,l.WebGLRenderer.registerPlugin("accessibility",h),l.CanvasRenderer.registerPlugin("accessibility",h)},{"../core":65,"./accessibleTarget":41,ismobilejs:4}],41:[function(t,e,i){"use strict";i.__esModule=!0,i.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],42:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./accessibleTarget");Object.defineProperty(i,"accessibleTarget",{enumerable:!0,get:function(){return r(n).default}});var o=t("./AccessibilityManager");Object.defineProperty(i,"AccessibilityManager",{enumerable:!0,get:function(){return r(o).default}})},{"./AccessibilityManager":40,"./accessibleTarget":41}],43:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=t("./autoDetectRenderer"),a=r(t("./display/Container")),l=t("./ticker"),u=r(t("./settings")),c=t("./const"),o=function(){function o(t,e,i,r,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o),"number"==typeof t&&(t=Object.assign({width:t,height:e||u.default.RENDER_OPTIONS.height,forceCanvas:!!r,sharedTicker:!!n},i)),this._options=t=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},t),this.renderer=(0,s.autoDetectRenderer)(t),this.stage=new a.default,this._ticker=null,this.ticker=t.sharedTicker?l.shared:new l.Ticker,t.autoStart&&this.start()}return o.prototype.render=function(){this.renderer.render(this.stage)},o.prototype.stop=function(){this._ticker.stop()},o.prototype.start=function(){this._ticker.start()},o.prototype.destroy=function(t){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},n(o,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=t)&&t.add(this.render,this,c.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),o}();i.default=o},{"./autoDetectRenderer":45,"./const":46,"./display/Container":48,"./settings":101,"./ticker":121}],44:[function(t,e,i){"use strict";function a(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var i=t.slice(0);return i.unshift("precision "+e+" float;"),i}}else if("precision"!==t.trim().substring(0,9))return"precision "+e+" float;\n"+t;return t}i.__esModule=!0;var r,n=t("pixi-gl-core"),o=t("./settings"),l=(r=o)&&r.__esModule?r:{default:r},s=function(o){function s(t,e,i,r,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,t,a(e,n||l.default.PRECISION_VERTEX),a(i,n||l.default.PRECISION_FRAGMENT),void 0,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s}(n.GLShader);i.default=s},{"./settings":101,"pixi-gl-core":15}],45:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.autoDetectRenderer=function(t,e,i,r){var n=t&&t.forceCanvas;return void 0!==r&&(n=r),!n&&o.isWebGLSupported()?new a.default(t,e,i):new s.default(t,e,i)};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./utils")),s=r(t("./renderers/canvas/CanvasRenderer")),a=r(t("./renderers/webgl/WebGLRenderer"))},{"./renderers/canvas/CanvasRenderer":77,"./renderers/webgl/WebGLRenderer":84,"./utils":125}],46:[function(t,e,i){"use strict";i.__esModule=!0,i.VERSION="4.7.1",i.PI_2=2*Math.PI,i.RAD_TO_DEG=180/Math.PI,i.DEG_TO_RAD=Math.PI/180,i.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},i.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},i.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},i.SCALE_MODES={LINEAR:0,NEAREST:1},i.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},i.GC_MODES={AUTO:0,MANUAL:1},i.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,i.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,i.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,i.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},i.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},i.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},i.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},i.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],47:[function(t,e,i){"use strict";i.__esModule=!0;var r=t("../math"),n=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:((t=t||new r.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,i=s<i?s:i,r=r<o?o:r,n=n<s?s:n,e=(o=t[2])<e?o:e,i=(s=t[3])<i?s:i,r=r<o?o:r,n=n<s?s:n,e=(o=t[4])<e?o:e,i=(s=t[5])<i?s:i,r=r<o?o:r,n=n<s?s:n,e=(o=t[6])<e?o:e,i=(s=t[7])<i?s:i,r=r<o?o:r,n=n<s?s:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},t.prototype.addFrame=function(t,e,i,r,n){var o=t.worldTransform,s=o.a,a=o.b,l=o.c,u=o.d,c=o.tx,h=o.ty,d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,v=s*e+l*i+c,g=a*e+u*i+h;d=v<d?v:d,f=g<f?g:f,p=p<v?v:p,m=m<g?g:m,d=(v=s*r+l*i+c)<d?v:d,f=(g=a*r+u*i+h)<f?g:f,p=p<v?v:p,m=m<g?g:m,d=(v=s*e+l*n+c)<d?v:d,f=(g=a*e+u*n+h)<f?g:f,p=p<v?v:p,m=m<g?g:m,d=(v=s*r+l*n+c)<d?v:d,f=(g=a*r+u*n+h)<f?g:f,p=p<v?v:p,m=m<g?g:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m},t.prototype.addVertices=function(t,e,i,r){for(var n=t.worldTransform,o=n.a,s=n.b,a=n.c,l=n.d,u=n.tx,c=n.ty,h=this.minX,d=this.minY,f=this.maxX,p=this.maxY,m=i;m<r;m+=2){var v=e[m],g=e[m+1],y=o*v+a*g+u,b=l*g+s*v+c;h=y<h?y:h,d=b<d?b:d,f=f<y?y:f,p=p<b?b:p}this.minX=h,this.minY=d,this.maxX=f,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=o){var s=this.minX,a=this.minY,l=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=l<n?n:l,this.maxY=u<o?o:u}},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=o){var s=this.minX,a=this.minY,l=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=l<n?n:l,this.maxY=u<o?o:u}},t}();i.default=n},{"../math":70}],48:[function(t,e,i){"use strict";i.__esModule=!0;var r,o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=t("../utils"),n=t("./DisplayObject"),a=function(n){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this));return t.children=[],t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(1<e)for(var i=0;i<e;i++)this.addChild(arguments[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);(0,s.removeItems)(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(1<e)for(var i=0;i<e;i++)this.removeChild(arguments[i]);else{var r=this.children.indexOf(t);if(-1===r)return null;t.parent=null,t.transform._parentID=-1,(0,s.removeItems)(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,s.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],i=t,r="number"==typeof e?e:this.children.length,n=r-i,o=void 0;if(0<n&&n<=r){o=this.children.splice(i,n);for(var s=0;s<o.length;++s)o[s].parent=null,o[s].transform&&(o[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<o.length;++a)o[a].emit("removed",this);return o}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]);for(var r=this._enabledFilters.length=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}i&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].renderWebGL(t);t.flush(),i&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(t){n.prototype.destroy.call(this);var e="boolean"==typeof t?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(e)for(var r=0;r<i.length;++r)i[r].destroy(t)},o(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}]),e}(((r=n)&&r.__esModule?r:{default:r}).default);(i.default=a).prototype.containerUpdateTransform=a.prototype.updateTransform},{"../utils":125,"./DisplayObject":49}],49:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=r(t("eventemitter3")),s=t("../const"),a=r(t("../settings")),l=r(t("./TransformStatic")),u=r(t("./Transform")),c=r(t("./Bounds")),h=t("../math"),d=function(i){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this)),e=a.default.TRANSFORM_MODE===s.TRANSFORM_MODE.STATIC?l.default:u.default;return t.tempDisplayObjectParent=null,t.transform=new e,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t.filterArea=null,t._filters=null,t._enabledFilters=null,t._bounds=new c.default,t._boundsID=0,t._lastBoundsID=-1,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new h.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},r.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new h.Rectangle),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=i,this.transform=e,r},r.prototype.toGlobal=function(t,e){return 2<arguments.length&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},r.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},r.prototype.renderWebGL=function(t){},r.prototype.renderCanvas=function(t){},r.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},r.prototype.setTransform=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,a=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=l,this},r.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(r,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new r),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),r}(o.default);(i.default=d).prototype.displayObjectUpdateTransform=d.prototype.updateTransform},{"../const":46,"../math":70,"../settings":101,"./Bounds":47,"./Transform":50,"./TransformStatic":52,eventemitter3:3}],50:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../math"),s=t("./TransformBase"),a=function(e){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this));return t.position=new o.Point(0,0),t.scale=new o.Point(1,1),t.skew=new o.ObservablePoint(t.updateSkew,t,0,0),t.pivot=new o.Point(0,0),t._rotation=0,t._cx=1,t._sx=0,t._cy=0,t._sy=1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},i.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},i.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._worldID++},i.prototype.setFromMatrix=function(t){t.decompose(this)},n(i,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),i}(((r=s)&&r.__esModule?r:{default:r}).default);i.default=a},{"../math":70,"./TransformBase":51}],51:[function(t,e,i){"use strict";i.__esModule=!0;var r=t("../math"),n=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,i=this.worldTransform,r=this.localTransform;i.a=r.a*e.a+r.b*e.c,i.b=r.a*e.b+r.b*e.d,i.c=r.c*e.a+r.d*e.c,i.d=r.c*e.b+r.d*e.d,i.tx=r.tx*e.a+r.ty*e.c+e.tx,i.ty=r.tx*e.b+r.ty*e.d+e.ty,this._worldID++},t}();(i.default=n).prototype.updateWorldTransform=n.prototype.updateTransform,n.IDENTITY=new n},{"../math":70}],52:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../math"),s=t("./TransformBase"),a=function(e){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this));return t.position=new o.ObservablePoint(t.onChange,t,0,0),t.scale=new o.ObservablePoint(t.onChange,t,1,1),t.pivot=new o.ObservablePoint(t.onChange,t,0,0),t.skew=new o.ObservablePoint(t.updateSkew,t,0,0),t._rotation=0,t._cx=1,t._sx=0,t._cy=0,t._sy=1,t._localID=0,t._currentLocalID=0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i.prototype.onChange=function(){this._localID++},i.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},i.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},i.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},i.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},n(i,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),i}(((r=s)&&r.__esModule?r:{default:r}).default);i.default=a},{"../math":70,"./TransformBase":51}],53:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("../display/Container")),o=r(t("../textures/RenderTexture")),s=r(t("../textures/Texture")),a=r(t("./GraphicsData")),l=r(t("../sprites/Sprite")),u=t("../math"),c=t("../utils"),S=t("../const"),h=r(t("../display/Bounds")),d=r(t("./utils/bezierCurveTo")),f=r(t("../renderers/canvas/CanvasRenderer")),p=void 0,m=new u.Matrix,v=new u.Point,g=new Float32Array(4),y=new Float32Array(4),b=function(n){function i(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this));return e.fillAlpha=1,e.lineWidth=0,e.nativeLines=t,e.lineColor=0,e.graphicsData=[],e.tint=16777215,e._prevTint=16777215,e.blendMode=S.BLEND_MODES.NORMAL,e.currentPath=null,e._webGL={},e.isMask=!1,e.boundsPadding=0,e._localBounds=new h.default,e.dirty=0,e.fastRectDirty=-1,e.clearDirty=0,e.boundsDirty=-1,e.cachedSpriteDirty=!1,e._spriteRect=null,e._fastRect=!1,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n),i.prototype.clone=function(){var t=new i;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var e=0;e<this.graphicsData.length;++e)t.graphicsData.push(this.graphicsData[e].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},i.prototype.lineStyle=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this.currentPath)if(this.currentPath.shape.points.length){var r=new u.Polygon(this.currentPath.shape.points.slice(-2));r.closed=!1,this.drawShape(r)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},i.prototype.moveTo=function(t,e){var i=new u.Polygon([t,e]);return i.closed=!1,this.drawShape(i),this},i.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},i.prototype.quadraticCurveTo=function(t,e,i,r){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n=this.currentPath.shape.points,o=0,s=0;0===n.length&&this.moveTo(0,0);for(var a=n[n.length-2],l=n[n.length-1],u=1;u<=20;++u){var c=u/20;o=a+(t-a)*c,s=l+(e-l)*c,n.push(o+(t+(i-t)*c-o)*c,s+(e+(r-e)*c-s)*c)}return this.dirty++,this},i.prototype.bezierCurveTo=function(t,e,i,r,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,a=s[s.length-2],l=s[s.length-1];return s.length-=2,(0,d.default)(a,l,t,e,i,r,n,o,s),this.dirty++,this},i.prototype.arcTo=function(t,e,i,r,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,l=s-t,u=r-e,c=i-t,h=Math.abs(a*c-l*u);if(h<1e-8||0===n)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var d=a*a+l*l,f=u*u+c*c,p=a*u+l*c,m=n*Math.sqrt(d)/h,v=n*Math.sqrt(f)/h,g=m*p/d,y=v*p/f,b=m*c+v*l,x=m*u+v*a,_=l*(v+g),w=a*(v+g),T=c*(m+y),S=u*(m+y),E=Math.atan2(w-x,_-b),C=Math.atan2(S-x,T-b);this.arc(b+t,x+e,n,E,C,c*a<l*u)}return this.dirty++,this},i.prototype.arc=function(t,e,i,r,n){var o=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(r===n)return this;!o&&n<=r?n+=S.PI_2:o&&r<=n&&(r+=S.PI_2);var s=n-r,a=40*Math.ceil(Math.abs(s)/S.PI_2);if(0===s)return this;var l=t+Math.cos(r)*i,u=e+Math.sin(r)*i,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===l&&c[c.length-1]===u||c.push(l,u):(this.moveTo(l,u),c=this.currentPath.shape.points);for(var h=s/(2*a),d=2*h,f=Math.cos(h),p=Math.sin(h),m=a-1,v=m%1/m,g=0;g<=m;++g){var y=h+r+d*(g+v*g),b=Math.cos(y),x=-Math.sin(y);c.push((f*b+p*x)*i+t,(f*-x+p*b)*i+e)}return this.dirty++,this},i.prototype.beginFill=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.prototype.drawRect=function(t,e,i,r){return this.drawShape(new u.Rectangle(t,e,i,r)),this},i.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new u.RoundedRectangle(t,e,i,r,n)),this},i.prototype.drawCircle=function(t,e,i){return this.drawShape(new u.Circle(t,e,i)),this},i.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new u.Ellipse(t,e,i,r)),this},i.prototype.drawPolygon=function(t){var e=t,i=!0;if(e instanceof u.Polygon&&(i=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var n=new u.Polygon(e);return n.closed=i,this.drawShape(n),this},i.prototype.drawStar=function(t,e,i,r,n){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;n=n||r/2;for(var s=-1*Math.PI/2+o,a=2*i,l=S.PI_2/a,u=[],c=0;c<a;c++){var h=c%2?n:r,d=c*l+s;u.push(t+h*Math.cos(d),e+h*Math.sin(d))}return this.drawPolygon(u)},i.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},i.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===S.SHAPES.RECT&&!this.graphicsData[0].lineWidth},i.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},i.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new l.default(new s.default(s.default.WHITE)));var i=this._spriteRect;if(16777215===this.tint)i.tint=this.graphicsData[0].fillColor;else{var r=g,n=y;(0,c.hex2rgb)(this.graphicsData[0].fillColor,r),(0,c.hex2rgb)(this.tint,n),r[0]*=n[0],r[1]*=n[1],r[2]*=n[2],i.tint=(0,c.rgb2hex)(r)}i.alpha=this.graphicsData[0].fillAlpha,i.worldAlpha=this.worldAlpha*i.alpha,i.blendMode=this.blendMode,i._texture._frame.width=e.width,i._texture._frame.height=e.height,i.transform.worldTransform=this.transform.worldTransform,i.anchor.set(-e.x/e.width,-e.y/e.height),i._onAnchorUpdate(),i._renderWebGL(t)},i.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},i.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},i.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,v);for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fill&&r.shape&&r.shape.contains(v.x,v.y)){if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].contains(v.x,v.y))return!1}return!0}}return!1},i.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,i=1/0,r=-1/0;if(this.graphicsData.length)for(var n=0,o=0,s=0,a=0,l=0,u=0;u<this.graphicsData.length;u++){var c=this.graphicsData[u],h=c.type,d=c.lineWidth;if(n=c.shape,h===S.SHAPES.RECT||h===S.SHAPES.RREC)o=n.x-d/2,s=n.y-d/2,t=o<t?o:t,e=e<o+(a=n.width+d)?o+a:e,i=s<i?s:i,r=r<s+(l=n.height+d)?s+l:r;else if(h===S.SHAPES.CIRC)o=n.x,s=n.y,t=o-(a=n.radius+d/2)<t?o-a:t,e=e<o+a?o+a:e,i=s-(l=n.radius+d/2)<i?s-l:i,r=r<s+l?s+l:r;else if(h===S.SHAPES.ELIP)o=n.x,s=n.y,t=o-(a=n.width+d/2)<t?o-a:t,e=e<o+a?o+a:e,i=s-(l=n.height+d/2)<i?s-l:i,r=r<s+l?s+l:r;else for(var f=n.points,p=0,m=0,v=0,g=0,y=0,b=0,x=0,_=0,w=0;w+2<f.length;w+=2)o=f[w],s=f[w+1],p=f[w+2],m=f[w+3],v=Math.abs(p-o),g=Math.abs(m-s),l=d,(a=Math.sqrt(v*v+g*g))<1e-9||(t=(x=(p+o)/2)-(y=(l/a*g+v)/2)<t?x-y:t,e=e<x+y?x+y:e,i=(_=(m+s)/2)-(b=(l/a*v+g)/2)<i?_-b:i,r=r<_+b?_+b:r)}else r=i=e=t=0;var T=this.boundsPadding;this._localBounds.minX=t-T,this._localBounds.maxX=e+T,this._localBounds.minY=i-T,this._localBounds.maxY=r+T},i.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===S.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},i.prototype.generateCanvasTexture=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=this.getLocalBounds(),r=o.default.create(i.width,i.height,t,e);p||(p=new f.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(m),m.invert(),m.tx-=i.x,m.ty-=i.y,p.render(this,r,!0,m);var n=s.default.fromCanvas(r.baseTexture._canvasRenderTarget.canvas,t,"graphics");return n.baseTexture.resolution=e,n.baseTexture.update(),n},i.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},i.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},i.prototype.destroy=function(t){n.prototype.destroy.call(this,t);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();for(var i in this._webgl)for(var r=0;r<this._webgl[i].data.length;++r)this._webgl[i].data[r].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},i}(n.default);(i.default=b)._SPRITE_TEXTURE=null},{"../const":46,"../display/Bounds":47,"../display/Container":48,"../math":70,"../renderers/canvas/CanvasRenderer":77,"../sprites/Sprite":102,"../textures/RenderTexture":113,"../textures/Texture":115,"../utils":125,"./GraphicsData":54,"./utils/bezierCurveTo":56}],54:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function l(t,e,i,r,n,o,s,a){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,l),this.lineWidth=t,this.nativeLines=s,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=r,this.fillAlpha=n,this._fillTint=r,this.fill=o,this.holes=[],this.shape=a,this.type=a.type}return l.prototype.clone=function(){return new l(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},l.prototype.addHole=function(t){this.holes.push(t)},l.prototype.destroy=function(){this.shape=null,this.holes=null},l}();i.default=r},{}],55:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../../renderers/canvas/CanvasRenderer"),o=(r=n)&&r.__esModule?r:{default:r},M=t("../../const"),s=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t}return e.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldAlpha,n=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),i.setTransform(n.a*o,n.b*o,n.c*o,n.d*o,n.tx*o,n.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var s=0;s<t.graphicsData.length;s++){var a=t.graphicsData[s],l=a.shape,u=a._fillTint,c=a._lineTint;if(i.lineWidth=a.lineWidth,a.type===M.SHAPES.POLY){i.beginPath(),this.renderPolygon(l.points,l.closed,i);for(var h=0;h<a.holes.length;h++)this.renderPolygon(a.holes[h].points,!0,i);a.fill&&(i.globalAlpha=a.fillAlpha*r,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),a.lineWidth&&(i.globalAlpha=a.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke())}else if(a.type===M.SHAPES.RECT)(a.fillColor||0===a.fillColor)&&(i.globalAlpha=a.fillAlpha*r,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fillRect(l.x,l.y,l.width,l.height)),a.lineWidth&&(i.globalAlpha=a.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.strokeRect(l.x,l.y,l.width,l.height));else if(a.type===M.SHAPES.CIRC)i.beginPath(),i.arc(l.x,l.y,l.radius,0,2*Math.PI),i.closePath(),a.fill&&(i.globalAlpha=a.fillAlpha*r,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),a.lineWidth&&(i.globalAlpha=a.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke());else if(a.type===M.SHAPES.ELIP){var d=2*l.width,f=2*l.height,p=l.x-d/2,m=l.y-f/2;i.beginPath();var v=d/2*.5522848,g=f/2*.5522848,y=p+d,b=m+f,x=p+d/2,_=m+f/2;i.moveTo(p,_),i.bezierCurveTo(p,_-g,x-v,m,x,m),i.bezierCurveTo(x+v,m,y,_-g,y,_),i.bezierCurveTo(y,_+g,x+v,b,x,b),i.bezierCurveTo(x-v,b,p,_+g,p,_),i.closePath(),a.fill&&(i.globalAlpha=a.fillAlpha*r,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),a.lineWidth&&(i.globalAlpha=a.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke())}else if(a.type===M.SHAPES.RREC){var w=l.x,T=l.y,S=l.width,E=l.height,C=l.radius,O=Math.min(S,E)/2|0;C=O<C?O:C,i.beginPath(),i.moveTo(w,T+C),i.lineTo(w,T+E-C),i.quadraticCurveTo(w,T+E,w+C,T+E),i.lineTo(w+S-C,T+E),i.quadraticCurveTo(w+S,T+E,w+S,T+E-C),i.lineTo(w+S,T+C),i.quadraticCurveTo(w+S,T,w+S-C,T),i.lineTo(w+C,T),i.quadraticCurveTo(w,T,w,T+C),i.closePath(),(a.fillColor||0===a.fillColor)&&(i.globalAlpha=a.fillAlpha*r,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),a.lineWidth&&(i.globalAlpha=a.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke())}}},e.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,r=(255&t.tint)/255,n=0;n<t.graphicsData.length;++n){var o=t.graphicsData[n],s=0|o.fillColor,a=0|o.lineColor;o._fillTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*i*255<<8)+(255&s)/255*r*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*r*255}},e.prototype.renderPolygon=function(t,e,i){i.moveTo(t[0],t[1]);for(var r=1;r<t.length/2;++r)i.lineTo(t[2*r],t[2*r+1]);e&&i.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();i.default=s,o.default.registerPlugin("graphics",s)},{"../../const":46,"../../renderers/canvas/CanvasRenderer":77}],56:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i,r,n,o,s,a){var l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:[],u=0,c=0,h=0,d=0,f=0;l.push(t,e);for(var p=1,m=0;p<=20;++p)h=(c=(u=1-(m=p/20))*u)*u,f=(d=m*m)*m,l.push(h*t+3*c*m*i+3*u*d*n+f*s,h*e+3*c*m*r+3*u*d*o+f*a);return l}},{}],57:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var u=t("../../utils"),c=t("../../const"),n=r(t("../../renderers/webgl/utils/ObjectRenderer")),o=r(t("../../renderers/webgl/WebGLRenderer")),s=r(t("./WebGLGraphicsData")),a=r(t("./shaders/PrimitiveShader")),h=r(t("./utils/buildPoly")),d=r(t("./utils/buildRectangle")),f=r(t("./utils/buildRoundedRectangle")),p=r(t("./utils/buildCircle")),l=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.graphicsDataPool=[],e.primitiveShader=null,e.gl=t.gl,e.CONTEXT_UID=0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new a.default(this.gl)},r.prototype.destroy=function(){n.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},r.prototype.render=function(t){var e=this.renderer,i=e.gl,r=void 0,n=t._webGL[this.CONTEXT_UID];n&&t.dirty===n.dirty||(this.updateGraphics(t),n=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var s=0,a=n.data.length;s<a;s++){var l=(r=n.data[s]).shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,u.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(r.vao),r.nativeLines?i.drawArrays(i.LINES,0,r.points.length/6):r.vao.draw(i.TRIANGLE_STRIP,r.indices.length)}},r.prototype.updateGraphics=function(t){var e=this.renderer.gl,i=t._webGL[this.CONTEXT_UID];if(i||(i=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),i.dirty=t.dirty,t.clearDirty!==i.clearDirty){i.clearDirty=t.clearDirty;for(var r=0;r<i.data.length;r++)this.graphicsDataPool.push(i.data[r]);i.data.length=0,i.lastIndex=0}for(var n=void 0,o=void 0,s=i.lastIndex;s<t.graphicsData.length;s++){var a=t.graphicsData[s];n=this.getWebGLData(i,0),a.nativeLines&&a.lineWidth&&(o=this.getWebGLData(i,0,!0),i.lastIndex++),a.type===c.SHAPES.POLY&&(0,h.default)(a,n,o),a.type===c.SHAPES.RECT?(0,d.default)(a,n,o):a.type===c.SHAPES.CIRC||a.type===c.SHAPES.ELIP?(0,p.default)(a,n,o):a.type===c.SHAPES.RREC&&(0,f.default)(a,n,o),i.lastIndex++}this.renderer.bindVao(null);for(var l=0;l<i.data.length;l++)(n=i.data[l]).dirty&&n.upload()},r.prototype.getWebGLData=function(t,e,i){var r=t.data[t.data.length-1];return(!r||r.nativeLines!==i||32e4<r.points.length)&&((r=this.graphicsDataPool.pop()||new s.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=i,r.reset(e),t.data.push(r)),r.dirty=!0,r},r}(n.default);i.default=l,o.default.registerPlugin("graphics",l)},{"../../const":46,"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../utils":125,"./WebGLGraphicsData":58,"./shaders/PrimitiveShader":59,"./utils/buildCircle":60,"./utils/buildPoly":62,"./utils/buildRectangle":63,"./utils/buildRoundedRectangle":64}],58:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("pixi-gl-core"),o=(r=n)&&r.__esModule?r:{default:r},s=function(){function r(t,e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=o.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=o.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=e,this.vao=new o.default.VertexArrayObject(t,i).addIndex(this.indexBuffer).addAttribute(this.buffer,e.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,e.attributes.aColor,t.FLOAT,!1,24,8)}return r.prototype.reset=function(){this.points.length=0,this.indices.length=0},r.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},r.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},r}();i.default=s},{"pixi-gl-core":15}],59:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../../../Shader"),o=function(e){function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this,t,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i}(((r=n)&&r.__esModule?r:{default:r}).default);i.default=o},{"../../../Shader":44}],60:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i){var r=t.shape,n=r.x,o=r.y,s=void 0,a=void 0;if(t.type===w.SHAPES.CIRC?(s=r.radius,a=r.radius):(s=r.width,a=r.height),0!==s&&0!==a){var l=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(r.width+r.height)),u=2*Math.PI/l;if(t.fill){var c=(0,T.hex2rgb)(t.fillColor),h=t.fillAlpha,d=c[0]*h,f=c[1]*h,p=c[2]*h,m=e.points,v=e.indices,g=m.length/6;v.push(g);for(var y=0;y<l+1;y++)m.push(n,o,d,f,p,h),m.push(n+Math.sin(u*y)*s,o+Math.cos(u*y)*a,d,f,p,h),v.push(g++,g++);v.push(g-1)}if(t.lineWidth){var b=t.points;t.points=[];for(var x=0;x<l+1;x++)t.points.push(n+Math.sin(u*x)*s,o+Math.cos(u*x)*a);(0,_.default)(t,e,i),t.points=b}}};var r,n=t("./buildLine"),_=(r=n)&&r.__esModule?r:{default:r},w=t("../../../const"),T=t("../../../utils")},{"../../../const":46,"../../../utils":125,"./buildLine":61}],61:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i){t.nativeLines?function(t,e){var i=0,r=t.points;if(0!==r.length){var n=e.points,o=r.length/2,s=(0,W.hex2rgb)(t.lineColor),a=t.lineAlpha,l=s[0]*a,u=s[1]*a,c=s[2]*a;for(i=1;i<o;i++){var h=r[2*(i-1)],d=r[2*(i-1)+1],f=r[2*i],p=r[2*i+1];n.push(h,d),n.push(l,u,c,a),n.push(f,p),n.push(l,u,c,a)}}}(t,i):function(t,e){var i=t.points;if(0!==i.length){var r=new z.Point(i[0],i[1]),n=new z.Point(i[i.length-2],i[i.length-1]);if(r.x===n.x&&r.y===n.y){(i=i.slice()).pop(),i.pop();var o=(n=new z.Point(i[i.length-2],i[i.length-1])).x+.5*(r.x-n.x),s=n.y+.5*(r.y-n.y);i.unshift(o,s),i.push(o,s)}var a=e.points,l=e.indices,u=i.length/2,c=i.length,h=a.length/6,d=t.lineWidth/2,f=(0,W.hex2rgb)(t.lineColor),p=t.lineAlpha,m=f[0]*p,v=f[1]*p,g=f[2]*p,y=i[0],b=i[1],x=i[2],_=i[3],w=0,T=0,S=-(b-_),E=y-x,C=0,O=0,M=0,A=0,P=Math.sqrt(S*S+E*E);S/=P,E/=P,S*=d,E*=d,a.push(y-S,b-E,m,v,g,p),a.push(y+S,b+E,m,v,g,p);for(var k=1;k<u-1;++k){y=i[2*(k-1)],b=i[2*(k-1)+1],x=i[2*k],_=i[2*k+1],w=i[2*(k+1)],T=i[2*(k+1)+1],S=-(b-_),E=y-x,S/=P=Math.sqrt(S*S+E*E),E/=P,S*=d,E*=d,C=-(_-T),O=x-w,C/=P=Math.sqrt(C*C+O*O),O/=P;var D=-E+b-(-E+_),R=-S+x-(-S+y),I=(-S+y)*(-E+_)-(-S+x)*(-E+b),L=-(O*=d)+T-(-O+_),N=-(C*=d)+x-(-C+w),B=(-C+w)*(-O+_)-(-C+x)*(-O+T),j=D*N-L*R;if(Math.abs(j)<.1)j+=10.1,a.push(x-S,_-E,m,v,g,p),a.push(x+S,_+E,m,v,g,p);else{var F=(R*B-N*I)/j,$=(L*I-D*B)/j;196*d*d<(F-x)*(F-x)+($-_)*($-_)?(M=S-C,A=E-O,M/=P=Math.sqrt(M*M+A*A),A/=P,M*=d,A*=d,a.push(x-M,_-A),a.push(m,v,g,p),a.push(x+M,_+A),a.push(m,v,g,p),a.push(x-M,_-A),a.push(m,v,g,p),c++):(a.push(F,$),a.push(m,v,g,p),a.push(x-(F-x),_-($-_)),a.push(m,v,g,p))}}y=i[2*(u-2)],b=i[2*(u-2)+1],x=i[2*(u-1)],S=-(b-(_=i[2*(u-1)+1])),E=y-x,S/=P=Math.sqrt(S*S+E*E),E/=P,S*=d,E*=d,a.push(x-S,_-E),a.push(m,v,g,p),a.push(x+S,_+E),a.push(m,v,g,p),l.push(h);for(var U=0;U<c;++U)l.push(h++);l.push(h-1)}}(t,e)};var z=t("../../../math"),W=t("../../../utils")},{"../../../math":70,"../../../utils":125}],62:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.default=function(t,e,i){t.points=t.shape.points.slice();var r=t.points;if(t.fill&&6<=r.length){for(var n=[],o=t.holes,s=0;s<o.length;s++){var a=o[s];n.push(r.length/2),r=r.concat(a.points)}var l=e.points,u=e.indices,c=r.length/2,h=(0,_.hex2rgb)(t.fillColor),d=t.fillAlpha,f=h[0]*d,p=h[1]*d,m=h[2]*d,v=(0,w.default)(r,n,2);if(!v)return;for(var g=l.length/6,y=0;y<v.length;y+=3)u.push(v[y]+g),u.push(v[y]+g),u.push(v[y+1]+g),u.push(v[y+2]+g),u.push(v[y+2]+g);for(var b=0;b<c;b++)l.push(r[2*b],r[2*b+1],f,p,m,d)}0<t.lineWidth&&(0,x.default)(t,e,i)};var x=r(t("./buildLine")),_=t("../../../utils"),w=r(t("earcut"))},{"../../../utils":125,"./buildLine":61,earcut:2}],63:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e,i){var r=t.shape,n=r.x,o=r.y,s=r.width,a=r.height;if(t.fill){var l=(0,y.hex2rgb)(t.fillColor),u=t.fillAlpha,c=l[0]*u,h=l[1]*u,d=l[2]*u,f=e.points,p=e.indices,m=f.length/6;f.push(n,o),f.push(c,h,d,u),f.push(n+s,o),f.push(c,h,d,u),f.push(n,o+a),f.push(c,h,d,u),f.push(n+s,o+a),f.push(c,h,d,u),p.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var v=t.points;t.points=[n,o,n+s,o,n+s,o+a,n,o+a,n,o],(0,g.default)(t,e,i),t.points=v}};var r,n=t("./buildLine"),g=(r=n)&&r.__esModule?r:{default:r},y=t("../../../utils")},{"../../../utils":125,"./buildLine":61}],64:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function m(t,e,i){return t+(e-t)*i}function S(t,e,i,r,n,o){for(var s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],a=0,l=0,u=0,c=0,h=0,d=0,f=0,p=0;f<=20;++f)a=m(t,i,p=f/20),l=m(e,r,p),u=m(i,n,p),c=m(r,o,p),h=m(a,u,p),d=m(l,c,p),s.push(h,d);return s}i.__esModule=!0,i.default=function(t,e,i){var r=t.shape,n=r.x,o=r.y,s=r.width,a=r.height,l=r.radius,u=[];if(u.push(n,o+l),S(n,o+a-l,n,o+a,n+l,o+a,u),S(n+s-l,o+a,n+s,o+a,n+s,o+a-l,u),S(n+s,o+l,n+s,o,n+s-l,o,u),S(n+l,o,n,o,n,o+l+1e-10,u),t.fill){for(var c=(0,O.hex2rgb)(t.fillColor),h=t.fillAlpha,d=c[0]*h,f=c[1]*h,p=c[2]*h,m=e.points,v=e.indices,g=m.length/6,y=(0,E.default)(u,null,2),b=0,x=y.length;b<x;b+=3)v.push(y[b]+g),v.push(y[b]+g),v.push(y[b+1]+g),v.push(y[b+2]+g),v.push(y[b+2]+g);for(var _=0,w=u.length;_<w;_++)m.push(u[_],u[++_],d,f,p,h)}if(t.lineWidth){var T=t.points;t.points=u,(0,C.default)(t,e,i),t.points=T}};var E=r(t("earcut")),C=r(t("./buildLine")),O=t("../../../utils")},{"../../../utils":125,"./buildLine":61,earcut:2}],65:[function(t,e,i){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.autoDetectRenderer=i.Application=i.Filter=i.SpriteMaskFilter=i.Quad=i.RenderTarget=i.ObjectRenderer=i.WebGLManager=i.Shader=i.CanvasRenderTarget=i.TextureUvs=i.VideoBaseTexture=i.BaseRenderTexture=i.RenderTexture=i.BaseTexture=i.TextureMatrix=i.Texture=i.Spritesheet=i.CanvasGraphicsRenderer=i.GraphicsRenderer=i.GraphicsData=i.Graphics=i.TextMetrics=i.TextStyle=i.Text=i.SpriteRenderer=i.CanvasTinter=i.CanvasSpriteRenderer=i.Sprite=i.TransformBase=i.TransformStatic=i.Transform=i.Container=i.DisplayObject=i.Bounds=i.glCore=i.WebGLRenderer=i.CanvasRenderer=i.ticker=i.utils=i.settings=void 0;var o=t("./const");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return o[t]}})});var s=t("./math");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(i,t,{enumerable:!0,get:function(){return s[t]}})});var a=t("pixi-gl-core");Object.defineProperty(i,"glCore",{enumerable:!0,get:function(){return n(a).default}});var l=t("./display/Bounds");Object.defineProperty(i,"Bounds",{enumerable:!0,get:function(){return n(l).default}});var u=t("./display/DisplayObject");Object.defineProperty(i,"DisplayObject",{enumerable:!0,get:function(){return n(u).default}});var c=t("./display/Container");Object.defineProperty(i,"Container",{enumerable:!0,get:function(){return n(c).default}});var h=t("./display/Transform");Object.defineProperty(i,"Transform",{enumerable:!0,get:function(){return n(h).default}});var d=t("./display/TransformStatic");Object.defineProperty(i,"TransformStatic",{enumerable:!0,get:function(){return n(d).default}});var f=t("./display/TransformBase");Object.defineProperty(i,"TransformBase",{enumerable:!0,get:function(){return n(f).default}});var p=t("./sprites/Sprite");Object.defineProperty(i,"Sprite",{enumerable:!0,get:function(){return n(p).default}});var m=t("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(i,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return n(m).default}});var v=t("./sprites/canvas/CanvasTinter");Object.defineProperty(i,"CanvasTinter",{enumerable:!0,get:function(){return n(v).default}});var g=t("./sprites/webgl/SpriteRenderer");Object.defineProperty(i,"SpriteRenderer",{enumerable:!0,get:function(){return n(g).default}});var y=t("./text/Text");Object.defineProperty(i,"Text",{enumerable:!0,get:function(){return n(y).default}});var b=t("./text/TextStyle");Object.defineProperty(i,"TextStyle",{enumerable:!0,get:function(){return n(b).default}});var x=t("./text/TextMetrics");Object.defineProperty(i,"TextMetrics",{enumerable:!0,get:function(){return n(x).default}});var _=t("./graphics/Graphics");Object.defineProperty(i,"Graphics",{enumerable:!0,get:function(){return n(_).default}});var w=t("./graphics/GraphicsData");Object.defineProperty(i,"GraphicsData",{enumerable:!0,get:function(){return n(w).default}});var T=t("./graphics/webgl/GraphicsRenderer");Object.defineProperty(i,"GraphicsRenderer",{enumerable:!0,get:function(){return n(T).default}});var S=t("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(i,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return n(S).default}});var E=t("./textures/Spritesheet");Object.defineProperty(i,"Spritesheet",{enumerable:!0,get:function(){return n(E).default}});var C=t("./textures/Texture");Object.defineProperty(i,"Texture",{enumerable:!0,get:function(){return n(C).default}});var O=t("./textures/TextureMatrix");Object.defineProperty(i,"TextureMatrix",{enumerable:!0,get:function(){return n(O).default}});var M=t("./textures/BaseTexture");Object.defineProperty(i,"BaseTexture",{enumerable:!0,get:function(){return n(M).default}});var A=t("./textures/RenderTexture");Object.defineProperty(i,"RenderTexture",{enumerable:!0,get:function(){return n(A).default}});var P=t("./textures/BaseRenderTexture");Object.defineProperty(i,"BaseRenderTexture",{enumerable:!0,get:function(){return n(P).default}});var k=t("./textures/VideoBaseTexture");Object.defineProperty(i,"VideoBaseTexture",{enumerable:!0,get:function(){return n(k).default}});var D=t("./textures/TextureUvs");Object.defineProperty(i,"TextureUvs",{enumerable:!0,get:function(){return n(D).default}});var R=t("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(i,"CanvasRenderTarget",{enumerable:!0,get:function(){return n(R).default}});var I=t("./Shader");Object.defineProperty(i,"Shader",{enumerable:!0,get:function(){return n(I).default}});var L=t("./renderers/webgl/managers/WebGLManager");Object.defineProperty(i,"WebGLManager",{enumerable:!0,get:function(){return n(L).default}});var N=t("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(i,"ObjectRenderer",{enumerable:!0,get:function(){return n(N).default}});var B=t("./renderers/webgl/utils/RenderTarget");Object.defineProperty(i,"RenderTarget",{enumerable:!0,get:function(){return n(B).default}});var j=t("./renderers/webgl/utils/Quad");Object.defineProperty(i,"Quad",{enumerable:!0,get:function(){return n(j).default}});var F=t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(i,"SpriteMaskFilter",{enumerable:!0,get:function(){return n(F).default}});var $=t("./renderers/webgl/filters/Filter");Object.defineProperty(i,"Filter",{enumerable:!0,get:function(){return n($).default}});var U=t("./Application");Object.defineProperty(i,"Application",{enumerable:!0,get:function(){return n(U).default}});var z=t("./autoDetectRenderer");Object.defineProperty(i,"autoDetectRenderer",{enumerable:!0,get:function(){return z.autoDetectRenderer}});var W=r(t("./utils")),H=r(t("./ticker")),X=n(t("./settings")),G=n(t("./renderers/canvas/CanvasRenderer")),Y=n(t("./renderers/webgl/WebGLRenderer"));i.settings=X.default,i.utils=W,i.ticker=H,i.CanvasRenderer=G.default,i.WebGLRenderer=Y.default},{"./Application":43,"./Shader":44,"./autoDetectRenderer":45,"./const":46,"./display/Bounds":47,"./display/Container":48,"./display/DisplayObject":49,"./display/Transform":50,"./display/TransformBase":51,"./display/TransformStatic":52,"./graphics/Graphics":53,"./graphics/GraphicsData":54,"./graphics/canvas/CanvasGraphicsRenderer":55,"./graphics/webgl/GraphicsRenderer":57,"./math":70,"./renderers/canvas/CanvasRenderer":77,"./renderers/canvas/utils/CanvasRenderTarget":79,"./renderers/webgl/WebGLRenderer":84,"./renderers/webgl/filters/Filter":86,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":89,"./renderers/webgl/managers/WebGLManager":93,"./renderers/webgl/utils/ObjectRenderer":94,"./renderers/webgl/utils/Quad":95,"./renderers/webgl/utils/RenderTarget":96,"./settings":101,"./sprites/Sprite":102,"./sprites/canvas/CanvasSpriteRenderer":103,"./sprites/canvas/CanvasTinter":104,"./sprites/webgl/SpriteRenderer":106,"./text/Text":108,"./text/TextMetrics":109,"./text/TextStyle":110,"./textures/BaseRenderTexture":111,"./textures/BaseTexture":112,"./textures/RenderTexture":113,"./textures/Spritesheet":114,"./textures/Texture":115,"./textures/TextureMatrix":116,"./textures/TextureUvs":117,"./textures/VideoBaseTexture":118,"./ticker":121,"./utils":125,"pixi-gl-core":15}],66:[function(t,e,i){"use strict";function c(t){return t<0?-1:0<t?1:0}i.__esModule=!0;var r,n=t("./Matrix"),h=(r=n)&&r.__esModule?r:{default:r},d=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],f=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],p=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],m=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],v=[],g=[];!function(){for(var t=0;t<16;t++){var e=[];g.push(e);for(var i=0;i<16;i++)for(var r=c(d[t]*d[i]+p[t]*f[i]),n=c(f[t]*d[i]+m[t]*f[i]),o=c(d[t]*p[i]+p[t]*m[i]),s=c(f[t]*p[i]+m[t]*m[i]),a=0;a<16;a++)if(d[a]===r&&f[a]===n&&p[a]===o&&m[a]===s){e.push(a);break}}for(var l=0;l<16;l++){var u=new h.default;u.set(d[l],f[l],p[l],m[l],0,0),v.push(u)}}();var o={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return d[t]},uY:function(t){return f[t]},vX:function(t){return p[t]},vY:function(t){return m[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return g[t][e]},sub:function(t,e){return g[t][o.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?0<=e?o.S:o.N:2*Math.abs(e)<=Math.abs(t)?0<t?o.E:o.W:0<e?0<t?o.SE:o.SW:0<t?o.NE:o.NW},matrixAppendRotationInv:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,n=v[o.inv(e)];n.tx=i,n.ty=r,t.append(n)}};i.default=o},{"./Matrix":67}],67:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("./Point"),a=(r=o)&&r.__esModule?r:{default:r},l=t("../const"),s=function(){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this.array=null}return s.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},s.prototype.set=function(t,e,i,r,n,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this},s.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0),i[8]=1,i},s.prototype.apply=function(t,e){e=e||new a.default;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},s.prototype.applyInverse=function(t,e){e=e||new a.default;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},s.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},s.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},s.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},s.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},s.prototype.setTransform=function(t,e,i,r,n,o,s,a,l){return this.a=Math.cos(s+l)*n,this.b=Math.sin(s+l)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},s.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},s.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,o=-Math.atan2(-r,n),s=Math.atan2(i,e),a=Math.abs(o+s);return a<1e-5||Math.abs(l.PI_2-a)<1e-5?(t.rotation=s,e<0&&0<=n&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},s.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*n)/o,this.ty=-(t*this.ty-e*n)/o,this},s.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},s.prototype.clone=function(){var t=new s;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},s.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n(s,null,[{key:"IDENTITY",get:function(){return new s}},{key:"TEMP_MATRIX",get:function(){return new s}}]),s}();i.default=s},{"../const":46,"./Point":69}],68:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),n=function(){function n(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.set=function(t,e){var i=t||0,r=e||(0!==e?i:0);this._x===i&&this._y===r||(this._x=i,this._y=r,this.cb.call(this.scope))},n.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},r(n,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),n}();i.default=n},{}],69:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this.x=t,this.y=e}return i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.copy=function(t){this.set(t.x,t.y)},i.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},i.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},i}();i.default=r},{}],70:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./Point");Object.defineProperty(i,"Point",{enumerable:!0,get:function(){return r(n).default}});var o=t("./ObservablePoint");Object.defineProperty(i,"ObservablePoint",{enumerable:!0,get:function(){return r(o).default}});var s=t("./Matrix");Object.defineProperty(i,"Matrix",{enumerable:!0,get:function(){return r(s).default}});var a=t("./GroupD8");Object.defineProperty(i,"GroupD8",{enumerable:!0,get:function(){return r(a).default}});var l=t("./shapes/Circle");Object.defineProperty(i,"Circle",{enumerable:!0,get:function(){return r(l).default}});var u=t("./shapes/Ellipse");Object.defineProperty(i,"Ellipse",{enumerable:!0,get:function(){return r(u).default}});var c=t("./shapes/Polygon");Object.defineProperty(i,"Polygon",{enumerable:!0,get:function(){return r(c).default}});var h=t("./shapes/Rectangle");Object.defineProperty(i,"Rectangle",{enumerable:!0,get:function(){return r(h).default}});var d=t("./shapes/RoundedRectangle");Object.defineProperty(i,"RoundedRectangle",{enumerable:!0,get:function(){return r(d).default}})},{"./GroupD8":66,"./Matrix":67,"./ObservablePoint":68,"./Point":69,"./shapes/Circle":71,"./shapes/Ellipse":72,"./shapes/Polygon":73,"./shapes/Rectangle":74,"./shapes/RoundedRectangle":75}],71:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./Rectangle"),o=(r=n)&&r.__esModule?r:{default:r},s=t("../../const"),a=function(){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.x=t,this.y=e,this.radius=i,this.type=s.SHAPES.CIRC}return r.prototype.clone=function(){return new r(this.x,this.y,this.radius)},r.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},r.prototype.getBounds=function(){return new o.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},r}();i.default=a},{"../../const":46,"./Rectangle":74}],72:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./Rectangle"),o=(r=n)&&r.__esModule?r:{default:r},s=t("../../const"),a=function(){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.x=t,this.y=e,this.width=i,this.height=r,this.type=s.SHAPES.ELIP}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},n.prototype.getBounds=function(){return new o.default(this.x-this.width,this.y-this.height,this.width,this.height)},n}();i.default=a},{"../../const":46,"./Rectangle":74}],73:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../Point"),a=(r=n)&&r.__esModule?r:{default:r},l=t("../../const"),o=function(){function s(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),Array.isArray(e[0])&&(e=e[0]),e[0]instanceof a.default){for(var r=[],n=0,o=e.length;n<o;n++)r.push(e[n].x,e[n].y);e=r}this.closed=!0,this.points=e,this.type=l.SHAPES.POLY}return s.prototype.clone=function(){return new s(this.points.slice())},s.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},s.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,o=r-1;n<r;o=n++){var s=this.points[2*n],a=this.points[2*n+1],l=this.points[2*o],u=this.points[2*o+1];e<a!=e<u&&t<(e-a)/(u-a)*(l-s)+s&&(i=!i)}return i},s}();i.default=o},{"../../const":46,"../Point":69}],74:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../../const"),n=function(){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=o.SHAPES.RECT}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},n.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=i-e,this.y=r,this.height=n-r},r(n,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new n(0,0,0,0)}}]),n}();i.default=n},{"../../const":46}],75:[function(t,e,i){"use strict";i.__esModule=!0;var s=t("../../const"),r=function(){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,o),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=s.SHAPES.RREC}return o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.radius)},o.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1},o}();i.default=r},{"../../const":46}],76:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=t("../utils"),l=t("../math"),u=t("../const"),c=r(t("../settings")),h=r(t("../display/Container")),d=r(t("../textures/RenderTexture")),o=r(t("eventemitter3")),f=new l.Matrix,s=function(o){function s(t,e,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this));return(0,a.sayHello)(t),"number"==typeof e&&(e=Object.assign({width:e,height:i||c.default.RENDER_OPTIONS.height},r)),e=Object.assign({},c.default.RENDER_OPTIONS,e),n.options=e,n.type=u.RENDERER_TYPE.UNKNOWN,n.screen=new l.Rectangle(0,0,e.width,e.height),n.view=e.view||document.createElement("canvas"),n.resolution=e.resolution||c.default.RESOLUTION,n.transparent=e.transparent,n.autoResize=e.autoResize||!1,n.blendModes=null,n.preserveDrawingBuffer=e.preserveDrawingBuffer,n.clearBeforeRender=e.clearBeforeRender,n.roundPixels=e.roundPixels,n._backgroundColor=0,n._backgroundColorRgba=[0,0,0,0],n._backgroundColorString="#000000",n.backgroundColor=e.backgroundColor||n._backgroundColor,n._tempDisplayObjectParent=new h.default,n._lastObjectRendered=n._tempDisplayObjectParent,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},s.prototype.generateTexture=function(t,e,i,r){r=r||t.getLocalBounds();var n=d.default.create(0|r.width,0|r.height,e,i);return f.tx=-r.x,f.ty=-r.y,this.render(t,n,!1,f,!0),n},s.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=u.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(s,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,a.hex2string)(t),(0,a.hex2rgb)(t,this._backgroundColorRgba)}}]),s}(o.default);i.default=s},{"../const":46,"../display/Container":48,"../math":70,"../settings":101,"../textures/RenderTexture":113,"../utils":125,eventemitter3:3}],77:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("../SystemRenderer")),s=r(t("./utils/CanvasMaskManager")),c=r(t("./utils/CanvasRenderTarget")),a=r(t("./utils/mapCanvasBlendModesToPixi")),o=t("../../utils"),h=t("../../const"),l=r(t("../../settings")),u=function(n){function o(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,"Canvas",t,e,i));return r.type=h.RENDERER_TYPE.CANVAS,r.rootContext=r.view.getContext("2d",{alpha:r.transparent}),r.context=r.rootContext,r.refresh=!0,r.maskManager=new s.default(r),r.smoothProperty="imageSmoothingEnabled",r.rootContext.imageSmoothingEnabled||(r.rootContext.webkitImageSmoothingEnabled?r.smoothProperty="webkitImageSmoothingEnabled":r.rootContext.mozImageSmoothingEnabled?r.smoothProperty="mozImageSmoothingEnabled":r.rootContext.oImageSmoothingEnabled?r.smoothProperty="oImageSmoothingEnabled":r.rootContext.msImageSmoothingEnabled&&(r.smoothProperty="msImageSmoothingEnabled")),r.initPlugins(),r.blendModes=(0,a.default)(),r._activeBlendMode=null,r.renderingToScreen=!1,r.resize(r.options.width,r.options.height),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype.render=function(t,e,i,r,n){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new c.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var s=this.context;if(e||(this._lastObjectRendered=t),!n){var a=t.parent,l=this._tempDisplayObjectParent.transform.worldTransform;r?(r.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=a}s.save(),s.setTransform(1,0,0,1,0,0),s.globalAlpha=1,this._activeBlendMode=h.BLEND_MODES.NORMAL,s.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(s.fillStyle="black",s.clear()),(void 0!==i?i:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?s.clearRect(0,0,this.width,this.height):(s.fillStyle=this._backgroundColorString,s.fillRect(0,0,this.width,this.height)));var u=this.context;this.context=s,t.renderCanvas(this),this.context=u,s.restore(),this.resolution=o,this.emit("postrender")}},o.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},o.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},o.prototype.destroy=function(t){this.destroyPlugins(),n.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},o.prototype.resize=function(t,e){n.prototype.resize.call(this,t,e),this.smoothProperty&&(this.rootContext[this.smoothProperty]=l.default.SCALE_MODE===h.SCALE_MODES.LINEAR)},o.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},o}(n.default);i.default=u,o.pluginTarget.mixin(u)},{"../../const":46,"../../settings":101,"../../utils":125,"../SystemRenderer":76,"./utils/CanvasMaskManager":78,"./utils/CanvasRenderTarget":79,"./utils/mapCanvasBlendModesToPixi":81}],78:[function(t,e,i){"use strict";i.__esModule=!0;var S=t("../../../const"),r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t}return e.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var i=t.alpha,r=t.transform.worldTransform,n=e.resolution;e.context.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=i},e.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,i=t.graphicsData.length;if(0!==i){e.beginPath();for(var r=0;r<i;r++){var n=t.graphicsData[r],o=n.shape;if(n.type===S.SHAPES.POLY){var s=o.points;e.moveTo(s[0],s[1]);for(var a=1;a<s.length/2;a++)e.lineTo(s[2*a],s[2*a+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath()}else if(n.type===S.SHAPES.RECT)e.rect(o.x,o.y,o.width,o.height),e.closePath();else if(n.type===S.SHAPES.CIRC)e.arc(o.x,o.y,o.radius,0,2*Math.PI),e.closePath();else if(n.type===S.SHAPES.ELIP){var l=2*o.width,u=2*o.height,c=o.x-l/2,h=o.y-u/2,d=l/2*.5522848,f=u/2*.5522848,p=c+l,m=h+u,v=c+l/2,g=h+u/2;e.moveTo(c,g),e.bezierCurveTo(c,g-f,v-d,h,v,h),e.bezierCurveTo(v+d,h,p,g-f,p,g),e.bezierCurveTo(p,g+f,v+d,m,v,m),e.bezierCurveTo(v-d,m,c,g+f,c,g),e.closePath()}else if(n.type===S.SHAPES.RREC){var y=o.x,b=o.y,x=o.width,_=o.height,w=o.radius,T=Math.min(x,_)/2|0;w=T<w?T:w,e.moveTo(y,b+w),e.lineTo(y,b+_-w),e.quadraticCurveTo(y,b+_,y+w,b+_),e.lineTo(y+x-w,b+_),e.quadraticCurveTo(y+x,b+_,y+x,b+_-w),e.lineTo(y+x,b+w),e.quadraticCurveTo(y+x,b,y+x-w,b),e.lineTo(y+w,b),e.quadraticCurveTo(y,b,y,b+w),e.closePath()}}}},e.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},e.prototype.destroy=function(){},e}();i.default=r},{"../../../const":46}],79:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../../../settings"),s=(r=o)&&r.__esModule?r:{default:r},a=function(){function r(t,e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||s.default.RESOLUTION,this.resize(t,e)}return r.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},r.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},r.prototype.destroy=function(){this.context=null,this.canvas=null},n(r,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),r}();i.default=a},{"../../../settings":101}],80:[function(t,e,i){"use strict";function s(t){var e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");return i.fillStyle=t,i.fillRect(0,0,6,1),e}i.__esModule=!0,i.default=function(){if("undefined"==typeof document)return!1;var t=s("#ff00ff"),e=s("#ffff00"),i=document.createElement("canvas");i.width=6,i.height=1;var r=i.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(t,0,0),r.drawImage(e,2,0);var n=r.getImageData(2,0,1,1);if(!n)return!1;var o=n.data;return 255===o[0]&&0===o[1]&&0===o[2]}},{}],81:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,s.default)()?(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="multiply",t[n.BLEND_MODES.SCREEN]="screen",t[n.BLEND_MODES.OVERLAY]="overlay",t[n.BLEND_MODES.DARKEN]="darken",t[n.BLEND_MODES.LIGHTEN]="lighten",t[n.BLEND_MODES.COLOR_DODGE]="color-dodge",t[n.BLEND_MODES.COLOR_BURN]="color-burn",t[n.BLEND_MODES.HARD_LIGHT]="hard-light",t[n.BLEND_MODES.SOFT_LIGHT]="soft-light",t[n.BLEND_MODES.DIFFERENCE]="difference",t[n.BLEND_MODES.EXCLUSION]="exclusion",t[n.BLEND_MODES.HUE]="hue",t[n.BLEND_MODES.SATURATION]="saturate",t[n.BLEND_MODES.COLOR]="color",t[n.BLEND_MODES.LUMINOSITY]="luminosity"):(t[n.BLEND_MODES.NORMAL]="source-over",t[n.BLEND_MODES.ADD]="lighter",t[n.BLEND_MODES.MULTIPLY]="source-over",t[n.BLEND_MODES.SCREEN]="source-over",t[n.BLEND_MODES.OVERLAY]="source-over",t[n.BLEND_MODES.DARKEN]="source-over",t[n.BLEND_MODES.LIGHTEN]="source-over",t[n.BLEND_MODES.COLOR_DODGE]="source-over",t[n.BLEND_MODES.COLOR_BURN]="source-over",t[n.BLEND_MODES.HARD_LIGHT]="source-over",t[n.BLEND_MODES.SOFT_LIGHT]="source-over",t[n.BLEND_MODES.DIFFERENCE]="source-over",t[n.BLEND_MODES.EXCLUSION]="source-over",t[n.BLEND_MODES.HUE]="source-over",t[n.BLEND_MODES.SATURATION]="source-over",t[n.BLEND_MODES.COLOR]="source-over",t[n.BLEND_MODES.LUMINOSITY]="source-over"),t[n.BLEND_MODES.NORMAL_NPM]=t[n.BLEND_MODES.NORMAL],t[n.BLEND_MODES.ADD_NPM]=t[n.BLEND_MODES.ADD],t[n.BLEND_MODES.SCREEN_NPM]=t[n.BLEND_MODES.SCREEN],t};var r,n=t("../../../const"),o=t("./canUseNewCanvasBlendModes"),s=(r=o)&&r.__esModule?r:{default:r}},{"../../../const":46,"./canUseNewCanvasBlendModes":80}],82:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../../const"),o=t("../../settings"),s=(r=o)&&r.__esModule?r:{default:r},a=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return e.prototype.update=function(){this.count++,this.mode!==n.GC_MODES.MANUAL&&++this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())},e.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n._glRenderTargets&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),i=!(e[r]=null))}if(i){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var i=t.children.length-1;0<=i;i--)this.unload(t.children[i])},e}();i.default=a},{"../../const":46,"../../settings":101}],83:[function(t,e,i){"use strict";i.__esModule=!0;var r,l=t("pixi-gl-core"),u=t("../../const"),n=t("./utils/RenderTarget"),c=(r=n)&&r.__esModule?r:{default:r},s=t("../../utils"),o=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}return e.prototype.bindTexture=function(){},e.prototype.getTexture=function(){},e.prototype.updateTexture=function(t,e){var i=this.gl,r=!!t._glRenderTargets;if(!t.hasLoaded)return null;var n=this.renderer.boundTextures;if(void 0===e)for(var o=e=0;o<n.length;++o)if(n[o]===t){e=o;break}n[e]=t,i.activeTexture(i.TEXTURE0+e);var s=t._glTextures[this.renderer.CONTEXT_UID];if(s)r?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):s.upload(t.source);else{if(r){var a=new c.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);a.resize(t.width,t.height),s=(t._glRenderTargets[this.renderer.CONTEXT_UID]=a).texture}else(s=new l.GLTexture(this.gl,null,null,null,null)).bind(e),s.premultiplyAlpha=!0,s.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=s,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&s.enableMipmap(),t.wrapMode===u.WRAP_MODES.CLAMP?s.enableWrapClamp():t.wrapMode===u.WRAP_MODES.REPEAT?s.enableWrapRepeat():s.enableWrapMirrorRepeat()):s.enableWrapClamp(),t.scaleMode===u.SCALE_MODES.NEAREST?s.enableNearestScaling():s.enableLinearScaling()}return s},e.prototype.destroyTexture=function(t,e){if((t=t.baseTexture||t).hasLoaded){var i=this.renderer.CONTEXT_UID,r=t._glTextures,n=t._glRenderTargets;if(r[i]&&(this.renderer.unbindTexture(t),r[i].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete r[i],!e)){var o=this._managedTextures.indexOf(t);-1!==o&&(0,s.removeItems)(this._managedTextures,o,1)}n&&n[i]&&(n[i].destroy(),delete n[i])}},e.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},e.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},e}();i.default=o},{"../../const":46,"../../utils":125,"./utils/RenderTarget":96,"pixi-gl-core":15}],84:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var s=r(t("../SystemRenderer")),a=r(t("./managers/MaskManager")),l=r(t("./managers/StencilManager")),u=r(t("./managers/FilterManager")),c=r(t("./utils/RenderTarget")),h=r(t("./utils/ObjectRenderer")),d=r(t("./TextureManager")),f=r(t("../../textures/BaseTexture")),p=r(t("./TextureGarbageCollector")),m=r(t("./WebGLState")),v=r(t("./utils/mapWebGLDrawModesToPixi")),g=r(t("./utils/validateContext")),n=t("../../utils"),y=r(t("pixi-gl-core")),b=t("../../const"),x=0,o=function(n){function o(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,"WebGL",t,e,i));return r.legacy=r.options.legacy,r.legacy&&(y.default.VertexArrayObject.FORCE_NATIVE=!0),r.type=b.RENDERER_TYPE.WEBGL,r.handleContextLost=r.handleContextLost.bind(r),r.handleContextRestored=r.handleContextRestored.bind(r),r.view.addEventListener("webglcontextlost",r.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",r.handleContextRestored,!1),r._contextOptions={alpha:r.transparent,antialias:r.options.antialias,premultipliedAlpha:r.transparent&&"notMultiplied"!==r.transparent,stencil:!0,preserveDrawingBuffer:r.options.preserveDrawingBuffer,powerPreference:r.options.powerPreference},r._backgroundColorRgba[3]=r.transparent?0:1,r.maskManager=new a.default(r),r.stencilManager=new l.default(r),r.emptyRenderer=new h.default(r),r.currentRenderer=r.emptyRenderer,r.textureManager=null,r.filterManager=null,r.initPlugins(),r.options.context&&(0,g.default)(r.options.context),r.gl=r.options.context||y.default.createContext(r.view,r._contextOptions),r.CONTEXT_UID=x++,r.state=new m.default(r.gl),r.renderingToScreen=!0,r.boundTextures=null,r._activeShader=null,r._activeVao=null,r._activeRenderTarget=null,r._initContext(),r.drawModes=(0,v.default)(r.gl),r._nextTextureLocation=0,r.setBlendMode(0),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new d.default(this),this.filterManager=new u.default(this),this.textureGC=new p.default(this),this.state.resetToDefault(),this.rootRenderTarget=new c.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var i=new y.default.GLTexture.fromData(t,null,1,1),r={_glTextures:{}};r._glTextures[this.CONTEXT_UID]={};for(var n=0;n<e;n++){var o=new f.default;o._glTextures[this.CONTEXT_UID]=i,this.boundTextures[n]=r,this.emptyTextures[n]=o,this.bindTexture(null,n)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},o.prototype.render=function(t,e,i,r,n){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,r),this.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},o.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},o.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},o.prototype.resize=function(t,e){s.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},o.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},o.prototype.clear=function(t){this._activeRenderTarget.clear(t)},o.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},o.prototype.clearRenderTexture=function(t,e){var i=t.baseTexture._glRenderTargets[this.CONTEXT_UID];return i&&i.clear(e),this},o.prototype.bindRenderTexture=function(t,e){var i=void 0;if(t){var r=t.baseTexture;r._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(r,0),this.unbindTexture(r),(i=r._glRenderTargets[this.CONTEXT_UID]).setFrame(t.frame)}else i=this.rootRenderTarget;return i.transform=e,this.bindRenderTarget(i),this},o.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&((this._activeRenderTarget=t).activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},o.prototype.bindShader=function(t,e){return this._activeShader!==t&&((this._activeShader=t).bind(),!1!==e&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},o.prototype.bindTexture=function(t,e,i){if((t=(t=t||this.emptyTextures[e]).baseTexture||t).touched=this.textureGC.count,i)e=e||0;else{for(var r=0;r<this.boundTextures.length;r++)if(this.boundTextures[r]===t)return r;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var n=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,n.activeTexture(n.TEXTURE0+e),n.bindTexture(n.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},o.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var i=0;i<this.boundTextures.length;i++)this.boundTextures[i]===t&&(this.boundTextures[i]=this.emptyTextures[i],e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture));return this},o.prototype.createVao=function(){return new y.default.VertexArrayObject(this.gl,this.state.attribState)},o.prototype.bindVao=function(t){return this._activeVao===t||(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t),this},o.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.emptyTextures[t];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},o.prototype.handleContextLost=function(t){t.preventDefault()},o.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},o.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),n.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},o}(s.default);i.default=o,n.pluginTarget.mixin(o)},{"../../const":46,"../../textures/BaseTexture":112,"../../utils":125,"../SystemRenderer":76,"./TextureGarbageCollector":82,"./TextureManager":83,"./WebGLState":85,"./managers/FilterManager":90,"./managers/MaskManager":91,"./managers/StencilManager":92,"./utils/ObjectRenderer":94,"./utils/RenderTarget":96,"./utils/mapWebGLDrawModesToPixi":99,"./utils/validateContext":100,"pixi-gl-core":15}],85:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./utils/mapWebGLBlendModesToPixi"),o=(r=n)&&r.__esModule?r:{default:r},s=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,o.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return e.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},e.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},e.prototype.setState=function(t){this.setBlend(t[0]),this.setDepthTest(t[1]),this.setFrontFace(t[2]),this.setCullFace(t[3]),this.setBlendMode(t[4])},e.prototype.setBlend=function(t){t=t?1:0,this.activeState[0]!==t&&(this.activeState[0]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},e.prototype.setBlendMode=function(t){if(t!==this.activeState[4]){this.activeState[4]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},e.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[1]!==t&&(this.activeState[1]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(t){t=t?1:0,this.activeState[3]!==t&&(this.activeState[3]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[2]!==t&&(this.activeState[2]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},e.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var i=1;i<this.maxAttribs;i++)this.gl.disableVertexAttribArray(i)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();i.default=s},{"./utils/mapWebGLBlendModesToPixi":98}],86:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=r(t("./extractUniformsFromSrc")),a=t("../../../utils"),l=t("../../../const"),u=r(t("../../../settings")),c={},n=function(){function n(t,e,i){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this._blendMode=l.BLEND_MODES.NORMAL,this.uniformData=i||(0,s.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[r]=this.uniformData[r].value,this.uniformData[r].type&&(this.uniformData[r].type=this.uniformData[r].type.toLowerCase());this.glShaders={},c[this.vertexSrc+this.fragmentSrc]||(c[this.vertexSrc+this.fragmentSrc]=(0,a.uid)()),this.glShaderKey=c[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=u.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return n.prototype.apply=function(t,e,i,r,n){t.applyFilter(this,e,i,r)},o(n,[{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode=t}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),n}();i.default=n},{"../../../const":46,"../../../settings":101,"../../../utils":125,"./extractUniformsFromSrc":87}],87:[function(t,e,i){"use strict";function o(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),i={},r=void 0,n=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<n.length;o++){var s=n[o].trim();if(-1<s.indexOf("uniform")){var a=s.split(" "),l=a[1],u=a[2],c=1;-1<u.indexOf("[")&&(u=(r=u.split(/\[|]/))[0],c*=Number(r[1])),u.match(e)||(i[u]={value:h(l,c),name:u,type:l})}}return i}i.__esModule=!0,i.default=function(t,e,i){var r=o(t),n=o(e);return Object.assign(r,n)};var r,n=t("pixi-gl-core"),h=((r=n)&&r.__esModule?r:{default:r}).default.shader.defaultValue},{"pixi-gl-core":15}],88:[function(t,e,i){"use strict";i.__esModule=!0,i.calculateScreenSpaceMatrix=function(t,e,i){var r=t.identity();return r.translate(e.x/i.width,e.y/i.height),r.scale(i.width,i.height),r},i.calculateNormalizedScreenSpaceMatrix=function(t,e,i){var r=t.identity();r.translate(e.x/i.width,e.y/i.height);var n=i.width/e.width,o=i.height/e.height;return r.scale(n,o),r},i.calculateSpriteMatrix=function(t,e,i,r){var n=r._texture.orig,o=t.set(i.width,0,0,i.height,e.x,e.y),s=r.worldTransform.copy(a.Matrix.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/n.width,1/n.height),o.translate(r.anchor.x,r.anchor.y),o};var a=t("../../../math")},{"../../../math":70}],89:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("../Filter")),o=t("../../../../math"),s=r((t("path"),t("../../../../textures/TextureMatrix"))),a=function(r){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=new o.Matrix,i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return t.renderable=!1,i.maskSprite=t,i.maskMatrix=e,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r),n.prototype.apply=function(t,e,i){var r=this.maskSprite,n=this.maskSprite.texture;n.valid&&(n.transform||(n.transform=new s.default(n,0)),n.transform.update(),this.uniforms.mask=n,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(n.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=n.transform.uClampFrame,t.applyFilter(this,e,i))},n}(n.default);i.default=a},{"../../../../math":70,"../../../../textures/TextureMatrix":116,"../Filter":86,path:8}],90:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var o=r(t("./WebGLManager")),a=r(t("../utils/RenderTarget")),s=r(t("../utils/Quad")),l=t("../../../math"),u=r(t("../../../Shader")),c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../filters/filterTransforms")),h=r(t("bit-twiddle")),p=function t(){n(this,t),this.renderTarget=null,this.sourceFrame=new l.Rectangle,this.destinationFrame=new l.Rectangle,this.filters=[],this.target=null,this.resolution=1},d=function(i){function r(t){n(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.gl=e.renderer.gl,e.quad=new s.default(e.gl,t.state.attribState),e.shaderCache={},e.pool={},e.filterData=null,e.managedFilters=[],e.renderer.on("prerender",e.onPrerender,e),e._screenWidth=t.view.width,e._screenHeight=t.view.height,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.pushFilter=function(t,e){var i=this.renderer,r=this.filterData;if(!r){r=this.renderer._activeRenderTarget.filterStack;var n=new p;n.sourceFrame=n.destinationFrame=this.renderer._activeRenderTarget.size,n.renderTarget=i._activeRenderTarget,this.renderer._activeRenderTarget.filterData=r={index:0,stack:[n]},this.filterData=r}var o=r.stack[++r.index],s=r.stack[0].destinationFrame;o||(o=r.stack[r.index]=new p);var a=t.filterArea&&0===t.filterArea.x&&0===t.filterArea.y&&t.filterArea.width===i.screen.width&&t.filterArea.height===i.screen.height,l=e[0].resolution,u=0|e[0].padding,c=a?i.screen:t.filterArea||t.getBounds(!0),h=o.sourceFrame,d=o.destinationFrame;h.x=(c.x*l|0)/l,h.y=(c.y*l|0)/l,h.width=(c.width*l|0)/l,h.height=(c.height*l|0)/l,a||(r.stack[0].renderTarget.transform||e[0].autoFit&&h.fit(s),h.pad(u)),d.width=h.width,d.height=h.height;var f=this.getPotRenderTarget(i.gl,h.width,h.height,l);o.target=t,o.filters=e,o.resolution=l,(o.renderTarget=f).setFrame(d,h),i.bindRenderTarget(f),f.clear()},r.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],i=t.stack[t.index];this.quad.map(i.renderTarget.size,i.sourceFrame).upload();var r=i.filters;if(1===r.length)r[0].apply(this,i.renderTarget,e.renderTarget,!1,i),this.freePotRenderTarget(i.renderTarget);else{var n=i.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,i.resolution);o.setFrame(i.destinationFrame,i.sourceFrame),o.clear();var s=0;for(s=0;s<r.length-1;++s){r[s].apply(this,n,o,!0,i);var a=n;n=o,o=a}r[s].apply(this,n,e.renderTarget,!1,i),this.freePotRenderTarget(n),this.freePotRenderTarget(o)}0==--t.index&&(this.filterData=null)},r.prototype.applyFilter=function(t,e,i,r){var n=this.renderer,o=n.gl,s=t.glShaders[n.CONTEXT_UID];s||(t.glShaderKey?(s=this.shaderCache[t.glShaderKey])||(s=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[n.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=s,this.managedFilters.push(t)):(s=t.glShaders[n.CONTEXT_UID]=new u.default(this.gl,t.vertexSrc,t.fragmentSrc),this.managedFilters.push(t)),n.bindVao(null),this.quad.initVao(s)),n.bindVao(this.quad.vao),n.bindRenderTarget(i),r&&(o.disable(o.SCISSOR_TEST),n.clear(),o.enable(o.SCISSOR_TEST)),i===n.maskManager.scissorRenderTarget&&n.maskManager.pushScissorMask(null,n.maskManager.scissorData),n.bindShader(s);var a=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=a,this.syncUniforms(s,t),n.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)},r.prototype.syncUniforms=function(t,e){var i=e.uniformData,r=e.uniforms,n=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var s=t.uniforms.filterArea;s[0]=o.renderTarget.size.width,s[1]=o.renderTarget.size.height,s[2]=o.sourceFrame.x,s[3]=o.sourceFrame.y,t.uniforms.filterArea=s}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var a=t.uniforms.filterClamp;a[0]=0,a[1]=0,a[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,a[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=a}for(var l in i){var u=i[l].type;if("sampler2d"===u&&0!==r[l]){if(r[l].baseTexture)t.uniforms[l]=this.renderer.bindTexture(r[l].baseTexture,n);else{t.uniforms[l]=n;var c=this.renderer.gl;this.renderer.boundTextures[n]=this.renderer.emptyTextures[n],c.activeTexture(c.TEXTURE0+n),r[l].texture.bind()}n++}else if("mat3"===u)void 0!==r[l].a?t.uniforms[l]=r[l].toArray(!0):t.uniforms[l]=r[l];else if("vec2"===u)if(void 0!==r[l].x){var h=t.uniforms[l]||new Float32Array(2);h[0]=r[l].x,h[1]=r[l].y,t.uniforms[l]=h}else t.uniforms[l]=r[l];else"float"===u?t.uniforms.data[l].value!==i[l]&&(t.uniforms[l]=r[l]):t.uniforms[l]=r[l]}},r.prototype.getRenderTarget=function(t,e){var i=this.filterData.stack[this.filterData.index],r=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,e||i.resolution);return r.setFrame(i.destinationFrame,i.sourceFrame),r},r.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},r.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return c.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},r.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return c.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},r.prototype.calculateSpriteMatrix=function(t,e){var i=this.filterData.stack[this.filterData.index];return c.calculateSpriteMatrix(t,i.sourceFrame,i.renderTarget.size,e)},r.prototype.destroy=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=this.renderer,i=this.managedFilters;e.off("prerender",this.onPrerender,this);for(var r=0;r<i.length;r++)t||i[r].glShaders[e.CONTEXT_UID].destroy(),delete i[r].glShaders[e.CONTEXT_UID];this.shaderCache={},t?this.pool={}:this.emptyPool()},r.prototype.getPotRenderTarget=function(t,e,i,r){var n="screen";i*=r,(e*=r)===this._screenWidth&&i===this._screenHeight||(n=(65535&(e=h.default.nextPow2(e)))<<16|65535&(i=h.default.nextPow2(i))),this.pool[n]||(this.pool[n]=[]);var o=this.pool[n].pop();if(!o){var s=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new a.default(t,e,i,null,1),t.bindTexture(t.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=r,o.defaultFrame.width=o.size.width=e/r,o.defaultFrame.height=o.size.height=i/r,o},r.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var i=0;i<e.length;i++)e[i].destroy(!0)}this.pool={}},r.prototype.freePotRenderTarget=function(t){var e=t.size.width*t.resolution,i=t.size.height*t.resolution,r="screen";e===this._screenWidth&&i===this._screenHeight||(r=(65535&e)<<16|65535&i),this.pool[r].push(t)},r.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var t=this.pool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.pool.screen=[]}},r}(o.default);i.default=d},{"../../../Shader":44,"../../../math":70,"../filters/filterTransforms":88,"../utils/Quad":95,"../utils/RenderTarget":96,"./WebGLManager":93,"bit-twiddle":1}],91:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("./WebGLManager")),o=r(t("../filters/spriteMask/SpriteMaskFilter")),s=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.scissor=!1,e.scissorData=null,e.scissorRenderTarget=null,e.enableScissor=!0,e.alphaMaskPool=[],e.alphaMaskIndex=0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var i=e.worldTransform,r=Math.atan2(i.b,i.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},r.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},r.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new o.default(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,i),this.alphaMaskIndex++},r.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},r.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},r.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},r.prototype.pushScissorMask=function(t,e){e.renderable=!0;var i=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(i.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(r.x*n,(i.root?i.size.height-r.y-r.height:r.y)*n,r.width*n,r.height*n),this.scissorRenderTarget=i,this.scissorData=e,this.scissor=!0},r.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},r}(n.default);i.default=s},{"../filters/spriteMask/SpriteMaskFilter":89,"./WebGLManager":93}],92:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./WebGLManager"),o=(r=n)&&r.__esModule?r:{default:r},s=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.stencilMaskStack=null,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},r.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,i=this.stencilMaskStack.length;0===i&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,i,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),this._useCurrent()},r.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(e),this._useCurrent())},r.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},r.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},r.prototype.destroy=function(){o.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},r}(o.default);i.default=s},{"./WebGLManager":93}],93:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t,this.renderer.on("context",this.onContextChange,this)}return e.prototype.onContextChange=function(){},e.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},e}();i.default=r},{}],94:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../managers/WebGLManager"),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(((r=n)&&r.__esModule?r:{default:r}).default);i.default=o},{"../managers/WebGLManager":93}],95:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("pixi-gl-core")),o=r(t("../../../utils/createIndicesForQuads")),s=function(){function r(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,r),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var i=0;i<4;i++)this.interleaved[4*i]=this.vertices[2*i],this.interleaved[4*i+1]=this.vertices[2*i+1],this.interleaved[4*i+2]=this.uvs[2*i],this.interleaved[4*i+3]=this.uvs[2*i+1];this.indices=(0,o.default)(1),this.vertexBuffer=n.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=n.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new n.default.VertexArrayObject(t,e)}return r.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},r.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this},r.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},r.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},r}();i.default=s},{"../../../utils/createIndicesForQuads":123,"pixi-gl-core":15}],96:[function(t,e,i){"use strict";i.__esModule=!0;var r,a=t("../../../math"),l=t("../../../const"),n=t("../../../settings"),u=(r=n)&&r.__esModule?r:{default:r},c=t("pixi-gl-core"),o=function(){function s(t,e,i,r,n,o){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new a.Rectangle(0,0,1,1),this.resolution=n||u.default.RESOLUTION,this.projectionMatrix=new a.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new a.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==r?r:u.default.SCALE_MODE,this.root=o,this.root?(this.frameBuffer=new c.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=c.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===l.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(e,i)}return s.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},s.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},s.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},s.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},s.prototype.calculateProjection=function(t,e){var i=this.projectionMatrix;e=e||t,i.identity(),this.root?(i.a=1/t.width*2,i.d=-1/t.height*2,i.tx=-1-e.x*i.a,i.ty=1-e.y*i.d):(i.a=1/t.width*2,i.d=1/t.height*2,i.tx=-1-e.x*i.a,i.ty=-1-e.y*i.d)},s.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var i=this.frame||this.size;this.calculateProjection(i)}},s.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},s}();i.default=o},{"../../../const":46,"../../../math":70,"../../../settings":101,"pixi-gl-core":15}],97:[function(t,e,i){"use strict";function s(t){for(var e="",i=0;i<t;++i)0<i&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}i.__esModule=!0,i.default=function(t,e){var i=!e;if(i){var r=document.createElement("canvas");r.width=1,r.height=1,e=a.default.createContext(r)}for(var n=e.createShader(e.FRAGMENT_SHADER);;){var o=l.replace(/%forloop%/gi,s(t));if(e.shaderSource(n,o),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return i&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t};var r,n=t("pixi-gl-core"),a=(r=n)&&r.__esModule?r:{default:r},l=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},{"pixi-gl-core":15}],98:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return e[r.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[r.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e};var r=t("../../../const")},{"../../../const":46}],99:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e[r.DRAW_MODES.POINTS]=t.POINTS,e[r.DRAW_MODES.LINES]=t.LINES,e[r.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[r.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[r.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[r.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[r.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e};var r=t("../../../const")},{"../../../const":46}],100:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}},{}],101:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("./utils/maxRecommendedTextures")),o=r(t("./utils/canUploadSameBuffer"));i.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,n.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,o.default)(),MESH_CANVAS_PADDING:0}},{"./utils/canUploadSameBuffer":122,"./utils/maxRecommendedTextures":127}],102:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../math"),s=t("../utils"),a=t("../const"),l=r(t("../textures/Texture")),u=r(t("../display/Container")),c=new o.Point,h=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this));return e._anchor=new o.ObservablePoint(e._onAnchorUpdate,e),e._texture=null,e._width=0,e._height=0,e._tint=null,e._tintRGB=null,e.tint=16777215,e.blendMode=a.BLEND_MODES.NORMAL,e.shader=null,e.cachedTint=16777215,e.texture=t||l.default.EMPTY,e.vertexData=new Float32Array(8),e.vertexTrimmedData=null,e._transformID=-1,e._textureID=-1,e._transformTrimmedID=-1,e._textureTrimmedID=-1,e.pluginName="sprite",e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,s.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,s.sign)(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,l=this.vertexData,u=t.trim,c=t.orig,h=this._anchor,d=0,f=0,p=0,m=0;u?(d=(f=u.x-h._x*c.width)+u.width,p=(m=u.y-h._y*c.height)+u.height):(d=(f=-h._x*c.width)+c.width,p=(m=-h._y*c.height)+c.height),l[0]=i*f+n*m+s,l[1]=o*m+r*f+a,l[2]=i*d+n*m+s,l[3]=o*m+r*d+a,l[4]=i*d+n*p+s,l[5]=o*p+r*d+a,l[6]=i*f+n*p+s,l[7]=o*p+r*f+a}},r.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,l=n.d,u=n.tx,c=n.ty,h=-r._x*i.width,d=h+i.width,f=-r._y*i.height,p=f+i.height;e[0]=o*h+a*f+u,e[1]=l*f+s*h+c,e[2]=o*d+a*f+u,e[3]=l*f+s*d+c,e[4]=o*d+a*p+u,e[5]=l*p+s*d+c,e[6]=o*h+a*p+u,e[7]=l*p+s*h+c},r.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},r.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new o.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):i.prototype.getLocalBounds.call(this,t)},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return c.x>=r&&c.x<r+e&&(n=-i*this.anchor.y,c.y>=n&&c.y<n+i)},r.prototype.destroy=function(t){if(i.prototype.destroy.call(this,t),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var e="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!e)}this._texture=null,this.shader=null},r.from=function(t){return new r(l.default.from(t))},r.fromFrame=function(t){var e=s.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new r(e)},r.fromImage=function(t,e,i){return new r(l.default.fromImage(t,e,i))},n(r,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,s.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,s.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),r}(u.default);i.default=h},{"../const":46,"../display/Container":48,"../math":70,"../textures/Texture":115,"../utils":125}],103:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("../../renderers/canvas/CanvasRenderer")),c=t("../../const"),h=t("../../math"),d=r(t("./CanvasTinter")),f=new h.Matrix,o=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t}return e.prototype.render=function(t){var e=t._texture,i=this.renderer,r=e._frame.width,n=e._frame.height,o=t.transform.worldTransform,s=0,a=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(i.setBlendMode(t.blendMode),e.valid)){i.context.globalAlpha=t.worldAlpha;var l=e.baseTexture.scaleMode===c.SCALE_MODES.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==l&&(i.context[i.smoothProperty]=l),e.trim?(s=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,a=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(s=(.5-t.anchor.x)*e.orig.width,a=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(f),o=f,h.GroupD8.matrixAppendRotationInv(o,e.rotate,s,a),a=s=0),s-=r/2,a-=n/2,i.roundPixels?(i.context.setTransform(o.a,o.b,o.c,o.d,o.tx*i.resolution|0,o.ty*i.resolution|0),s|=0,a|=0):i.context.setTransform(o.a,o.b,o.c,o.d,o.tx*i.resolution,o.ty*i.resolution);var u=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=d.default.getTintedTexture(t,t.tint)),i.context.drawImage(t.tintedTexture,0,0,r*u,n*u,s*i.resolution,a*i.resolution,r*i.resolution,n*i.resolution)):i.context.drawImage(e.baseTexture.source,e._frame.x*u,e._frame.y*u,r*u,n*u,s*i.resolution,a*i.resolution,r*i.resolution,n*i.resolution)}},e.prototype.destroy=function(){this.renderer=null},e}();i.default=o,n.default.registerPlugin("sprite",o)},{"../../const":46,"../../math":70,"../../renderers/canvas/CanvasRenderer":77,"./CanvasTinter":104}],104:[function(t,e,i){"use strict";i.__esModule=!0;var r,f=t("../../utils"),n=t("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),a={getTintedTexture:function(t,e){var i=t._texture,r="#"+("00000"+(0|(e=a.roundColor(e))).toString(16)).substr(-6);i.tintCache=i.tintCache||{};var n=i.tintCache[r],o=void 0;if(n){if(n.tintId===i._updateID)return i.tintCache[r];o=i.tintCache[r]}else o=a.canvas||document.createElement("canvas");if(a.tintMethod(i,e,o),o.tintId=i._updateID,a.convertTintToImage){var s=new Image;s.src=o.toDataURL(),i.tintCache[r]=s}else i.tintCache[r]=o,a.canvas=null;return o},tintWithMultiply:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),o=t.baseTexture.resolution;n.x*=o,n.y*=o,n.width*=o,n.height*=o,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="multiply",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore()},tintWithOverlay:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),o=t.baseTexture.resolution;n.x*=o,n.y*=o,n.width*=o,n.height*=o,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.globalCompositeOperation="copy",r.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),r.fillRect(0,0,n.width,n.height),r.globalCompositeOperation="destination-atop",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore()},tintWithPerPixel:function(t,e,i){var r=i.getContext("2d"),n=t._frame.clone(),o=t.baseTexture.resolution;n.x*=o,n.y*=o,n.width*=o,n.height*=o,i.width=Math.ceil(n.width),i.height=Math.ceil(n.height),r.save(),r.globalCompositeOperation="copy",r.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),r.restore();for(var s=(0,f.hex2rgb)(e),a=s[0],l=s[1],u=s[2],c=r.getImageData(0,0,n.width,n.height),h=c.data,d=0;d<h.length;d+=4)h[d+0]*=a,h[d+1]*=l,h[d+2]*=u;r.putImageData(c,0,0)},roundColor:function(t){var e=a.cacheStepsPerColorChannel,i=(0,f.hex2rgb)(t);return i[0]=Math.min(255,i[0]/e*e),i[1]=Math.min(255,i[1]/e*e),i[2]=Math.min(255,i[2]/e*e),(0,f.rgb2hex)(i)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,((r=n)&&r.__esModule?r:{default:r}).default)(),tintMethod:0};a.tintMethod=a.canUseMultiply?a.tintWithMultiply:a.tintWithPerPixel,i.default=a},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":80,"../../utils":125}],105:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return e.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e}();i.default=r},{}],106:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("../../renderers/webgl/utils/ObjectRenderer")),o=r(t("../../renderers/webgl/WebGLRenderer")),s=r(t("../../utils/createIndicesForQuads")),a=r(t("./generateMultiTextureShader")),l=r(t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader")),u=r(t("./BatchBuffer")),B=r(t("../../settings")),j=t("../../utils"),F=r(t("pixi-gl-core")),$=r(t("bit-twiddle")),U=0,z=0,c=function(n){function o(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));e.vertSize=5,e.vertByteSize=4*e.vertSize,e.size=B.default.SPRITE_BATCH_SIZE,e.buffers=[];for(var i=1;i<=$.default.nextPow2(e.size);i*=2)e.buffers.push(new u.default(4*i*e.vertByteSize));e.indices=(0,s.default)(e.size),e.shader=null,e.currentIndex=0,e.groups=[];for(var r=0;r<e.size;r++)e.groups[r]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return e.sprites=[],e.vertexBuffers=[],e.vaos=[],e.vaoMax=2,e.vertexCount=0,e.renderer.on("prerender",e.onPrerender,e),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),B.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,l.default)(this.MAX_TEXTURES,t)),this.shader=(0,a.default)(t,this.MAX_TEXTURES),this.indexBuffer=F.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,i=0;i<this.vaoMax;i++){var r=this.vertexBuffers[i]=F.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),n=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(r,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(r,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(r,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&n.addAttribute(r,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[i]=n}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},o.prototype.onPrerender=function(){this.vertexCount=0},o.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},o.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,i=$.default.nextPow2(this.currentIndex),r=$.default.log2(i),n=this.buffers[r],o=this.sprites,s=this.groups,a=n.float32View,l=n.uint32View,u=this.boundTextures,c=this.renderer.boundTextures,h=this.renderer.textureGC.count,d=0,f=void 0,p=void 0,m=1,v=0,g=s[0],y=void 0,b=void 0,x=j.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];g.textureCount=0,g.start=0,g.blend=x,U++;var _=void 0;for(_=0;_<e;++_){var w=c[_];w._enabled!==U?((u[_]=w)._virtalBoundId=_,w._enabled=U):u[_]=this.renderer.emptyTextures[_]}for(U++,_=0;_<this.currentIndex;++_){var T=o[_];f=T._texture.baseTexture;var S=j.premultiplyBlendMode[Number(f.premultipliedAlpha)][T.blendMode];if(x!==S&&(x=S,p=null,v=e,U++),p!==f&&(p=f)._enabled!==U){if(v===e&&(U++,g.size=_-g.start,v=0,(g=s[m++]).blend=x,g.textureCount=0,g.start=_),f.touched=h,-1===f._virtalBoundId)for(var E=0;E<e;++E){var C=(E+z)%e,O=u[C];if(O._enabled!==U){z++,O._virtalBoundId=-1,u[f._virtalBoundId=C]=f;break}}f._enabled=U,g.textureCount++,g.ids[v]=f._virtalBoundId,g.textures[v++]=f}if(y=T.vertexData,b=T._texture._uvs.uvsUint32,this.renderer.roundPixels){var M=this.renderer.resolution;a[d]=(y[0]*M|0)/M,a[d+1]=(y[1]*M|0)/M,a[d+5]=(y[2]*M|0)/M,a[d+6]=(y[3]*M|0)/M,a[d+10]=(y[4]*M|0)/M,a[d+11]=(y[5]*M|0)/M,a[d+15]=(y[6]*M|0)/M,a[d+16]=(y[7]*M|0)/M}else a[d]=y[0],a[d+1]=y[1],a[d+5]=y[2],a[d+6]=y[3],a[d+10]=y[4],a[d+11]=y[5],a[d+15]=y[6],a[d+16]=y[7];l[d+2]=b[0],l[d+7]=b[1],l[d+12]=b[2],l[d+17]=b[3];var A=Math.min(T.worldAlpha,1),P=A<1&&f.premultipliedAlpha?(0,j.premultiplyTint)(T._tintRGB,A):T._tintRGB+(255*A<<24);l[d+3]=l[d+8]=l[d+13]=l[d+18]=P,a[d+4]=a[d+9]=a[d+14]=a[d+19]=f._virtalBoundId,d+=20}if(g.size=_-g.start,B.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(n.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var k=this.shader.attributes,D=this.vertexBuffers[this.vertexCount]=F.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),R=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(D,k.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(D,k.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(D,k.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);k.aTextureId&&R.addAttribute(D,k.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=R}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(n.vertices,0,!1),this.vertexCount++}for(_=0;_<e;++_)c[_]._virtalBoundId=-1;for(_=0;_<m;++_){for(var I=s[_],L=I.textureCount,N=0;N<L;N++)p=I.textures[N],c[I.ids[N]]!==p&&this.renderer.bindTexture(p,I.ids[N],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(I.blend),t.drawElements(t.TRIANGLES,6*I.size,t.UNSIGNED_SHORT,6*I.start*2)}this.currentIndex=0}},o.prototype.start=function(){this.renderer.bindShader(this.shader),B.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},o.prototype.stop=function(){this.flush()},o.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var e=0;e<this.buffers.length;++e)this.buffers[e].destroy()},o}(n.default);i.default=c,o.default.registerPlugin("sprite",c)},{"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":97,"../../settings":101,"../../utils":125,"../../utils/createIndicesForQuads":123,"./BatchBuffer":105,"./generateMultiTextureShader":107,"bit-twiddle":1,"pixi-gl-core":15}],107:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e){var i=a;i=(i=i.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)0<i&&(e+="\nelse "),i<t-1&&(e+="if(textureId == "+i+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e));for(var r=new s.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",i),n=[],o=0;o<e;o++)n[o]=o;return r.bind(),r.uniforms.uSamplers=n,r};var r,n=t("../../Shader"),s=(r=n)&&r.__esModule?r:{default:r},a=(t("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},{"../../Shader":44,path:8}],108:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=r(t("../sprites/Sprite")),a=r(t("../textures/Texture")),l=t("../math"),u=t("../utils"),m=t("../const"),c=r(t("../settings")),h=r(t("./TextStyle")),g=r(t("./TextMetrics")),d=r(t("../utils/trimCanvas")),f={texture:!0,children:!1,baseTexture:!0},s=function(o){function s(t,e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),(i=i||document.createElement("canvas")).width=3,i.height=3;var r=a.default.fromCanvas(i,c.default.SCALE_MODE,"text");r.orig=new l.Rectangle,r.trim=new l.Rectangle;var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,r));return a.default.addToCache(n._texture,n._texture.baseTexture.textureCacheIds[0]),n.canvas=i,n.context=n.canvas.getContext("2d"),n.resolution=c.default.RESOLUTION,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=t,n.style=e,n.localStyleID=-1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i=this.context,r=g.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),n=r.width,o=r.height,s=r.lines,a=r.lineHeight,l=r.lineWidths,u=r.maxLineWidth,c=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,n)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,o)+2*e.padding)*this.resolution),i.scale(this.resolution,this.resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.strokeStyle=e.stroke,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;var h=void 0,d=void 0;if(e.dropShadow){i.fillStyle=e.dropShadowColor,i.globalAlpha=e.dropShadowAlpha,i.shadowBlur=e.dropShadowBlur,0<e.dropShadowBlur&&(i.shadowColor=e.dropShadowColor);for(var f=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,p=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,m=0;m<s.length;m++)h=e.strokeThickness/2,d=e.strokeThickness/2+m*a+c.ascent,"right"===e.align?h+=u-l[m]:"center"===e.align&&(h+=(u-l[m])/2),e.fill&&(this.drawLetterSpacing(s[m],h+f+e.padding,d+p+e.padding),e.stroke&&e.strokeThickness&&(i.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(s[m],h+f+e.padding,d+p+e.padding,!0),i.strokeStyle=e.stroke))}i.shadowBlur=0,i.globalAlpha=1,i.fillStyle=this._generateFillStyle(e,s);for(var v=0;v<s.length;v++)h=e.strokeThickness/2,d=e.strokeThickness/2+v*a+c.ascent,"right"===e.align?h+=u-l[v]:"center"===e.align&&(h+=(u-l[v])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(s[v],h+e.padding,d+e.padding,!0),e.fill&&this.drawLetterSpacing(s[v],h+e.padding,d+e.padding);this.updateTexture()}},s.prototype.drawLetterSpacing=function(t,e,i){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=this._style.letterSpacing;if(0!==n)for(var o=String.prototype.split.call(t,""),s=e,a=0,l="";a<t.length;)l=o[a++],r?this.context.strokeText(l,s,i):this.context.fillText(l,s,i),s+=this.context.measureText(l).width+n;else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},s.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,d.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var i=this._texture,r=this._style,n=r.trim?0:r.padding,o=i.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,i.trim.width=i._frame.width=t.width/this.resolution,i.trim.height=i._frame.height=t.height/this.resolution,i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},s.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),o.prototype.renderWebGL.call(this,t)},s.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),o.prototype._renderCanvas.call(this,t)},s.prototype.getLocalBounds=function(t){return this.updateText(!0),o.prototype.getLocalBounds.call(this,t)},s.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},s.prototype._onStyleChange=function(){this.dirty=!0},s.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var i=void 0,r=void 0,n=void 0,o=void 0,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,l=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var c=l.length+1,h=1;h<c;++h)u.push(h/c);if(l.unshift(t.fill[0]),u.unshift(0),l.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===m.TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(s/2,0,s/2,a),r=(l.length+1)*e.length;for(var d=n=0;d<e.length;d++){n+=1;for(var f=0;f<l.length;f++)o="number"==typeof u[f]?u[f]/e.length+d/e.length:n/r,i.addColorStop(o,l[f]),n++}}else{i=this.context.createLinearGradient(0,a/2,s,a/2),r=l.length+1,n=1;for(var p=0;p<l.length;p++)o="number"==typeof u[p]?u[p]:n/r,i.addColorStop(o,l[p]),n++}return i},s.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},f,t),o.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},n(s,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,u.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,u.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof h.default?this._style=t:this._style=new h.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),s}(o.default);i.default=s},{"../const":46,"../math":70,"../settings":101,"../sprites/Sprite":102,"../textures/Texture":115,"../utils":125,"../utils/trimCanvas":130,"./TextMetrics":109,"./TextStyle":110}],109:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function y(t,e,i,r,n,o,s,a,l){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,y),this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=l}return y.measureText=function(t,e,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:y._canvas;i=i||e.wordWrap;var n=e.toFontString(),o=y.measureFont(n),s=r.getContext("2d");s.font=n;for(var a=(i?y.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),l=new Array(a.length),u=0,c=0;c<a.length;c++){var h=s.measureText(a[c]).width+(a[c].length-1)*e.letterSpacing;l[c]=h,u=Math.max(u,h)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var f=e.lineHeight||o.fontSize+e.strokeThickness,p=Math.max(f,o.fontSize+e.strokeThickness)+(a.length-1)*(f+e.leading);return e.dropShadow&&(p+=e.dropShadowDistance),new y(t,e,d,p,a,l,f+e.leading,u,o)},y.wordWrap=function(t,e){for(var i=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:y._canvas).getContext("2d"),r="",n=0,o="",s={},a=e.letterSpacing,l=e.wordWrapWidth+e.letterSpacing,u=y.getFromCache(" ",a,s,i),c=t.split(" "),h=0;h<c.length;h++){var d=c[h],f=y.getFromCache(d,a,s,i);if(l<f)if(e.breakWords)for(var p=(0<r.length?" "+d:d).split(""),m=0;m<p.length;m++){var v=p[m],g=y.getFromCache(v,a,s,i);l<g+n&&(o+=y.addLine(r),r="",n=0),r+=v,n+=g}else 0<r.length&&(o+=y.addLine(r),r="",n=0),o+=y.addLine(d),r="",n=0;else l<f+n&&(o+=y.addLine(r),r="",n=0),0<r.length?r+=" "+d:r+=d,n+=f+u}return o+y.addLine(r,!1)},y.addLine=function(t){return 1<arguments.length&&void 0!==arguments[1]&&!arguments[1]?t:t+"\n"},y.getFromCache=function(t,e,i,r){var n=i[t];if(void 0===n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},y.measureFont=function(t){if(y._fonts[t])return y._fonts[t];var e={},i=y._canvas,r=y._context;r.font=t;var n=Math.ceil(r.measureText("|MÉq").width),o=Math.ceil(r.measureText("M").width),s=2*o;o=1.4*o|0,i.width=n,i.height=s,r.fillStyle="#f00",r.fillRect(0,0,n,s),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText("|MÉq",0,o);var a=r.getImageData(0,0,n,s).data,l=a.length,u=4*n,c=0,h=0,d=!1;for(c=0;c<o;++c){for(var f=0;f<u;f+=4)if(255!==a[h+f]){d=!0;break}if(d)break;h+=u}for(e.ascent=o-c,h=l-u,d=!1,c=s;o<c;--c){for(var p=0;p<u;p+=4)if(255!==a[h+p]){d=!0;break}if(d)break;h-=u}return e.descent=c-o,e.fontSize=e.ascent+e.descent,y._fonts[t]=e},y}();i.default=r;var n=document.createElement("canvas");n.width=n.height=10,r._canvas=n,r._context=n.getContext("2d"),r._fonts={}},{}],110:[function(t,e,i){"use strict";function r(t){return"number"==typeof t?(0,l.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function n(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=r(t[e]);return t}return r(t)}function o(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}i.__esModule=!0;var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=t("../const"),l=t("../utils"),u={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:a.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100,leading:0},c=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.styleID=0,this.reset(),o(this,t,t)}return e.prototype.clone=function(){var t={};return o(t,this,u),new e(t)},e.prototype.reset=function(){o(this,u,u)},e.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;0<=i;i--){var r=e[i].trim();/([\"\'])[^\'\"]+\1/.test(r)||(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},s(e,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=n(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=n(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=n(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),e}();i.default=c},{"../const":46,"../utils":125}],111:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("./BaseTexture")),a=r(t("../settings")),o=function(o){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=arguments[2],r=arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this,null,i));return n.resolution=r||a.default.RESOLUTION,n.width=Math.ceil(t),n.height=Math.ceil(e),n.realWidth=n.width*n.resolution,n.realHeight=n.height*n.resolution,n.scaleMode=void 0!==i?i:a.default.SCALE_MODE,n.hasLoaded=!0,n._glRenderTargets={},n._canvasRenderTarget=null,n.valid=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=0<t&&0<e,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},s.prototype.destroy=function(){o.prototype.destroy.call(this,!0),this.renderer=null},s}(n.default);i.default=o},{"../settings":101,"./BaseTexture":112}],112:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var a=t("../utils"),o=r(t("../settings")),n=r(t("eventemitter3")),l=r(t("../utils/determineCrossOrigin")),u=r(t("bit-twiddle")),s=function(n){function s(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this));return r.uid=(0,a.uid)(),r.touched=0,r.resolution=i||o.default.RESOLUTION,r.width=100,r.height=100,r.realWidth=100,r.realHeight=100,r.scaleMode=void 0!==e?e:o.default.SCALE_MODE,r.hasLoaded=!1,r.isLoading=!1,r.source=null,r.origSource=null,r.imageType=null,r.sourceScale=1,r.premultipliedAlpha=!0,r.imageUrl=null,r.isPowerOfTwo=!1,r.mipmap=o.default.MIPMAP_TEXTURES,r.wrapMode=o.default.WRAP_MODE,r._glTextures={},r._enabled=0,r._virtalBoundId=-1,r._destroyed=!1,r.textureCacheIds=[],t&&r.loadSource(t),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,n),s.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},s.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=u.default.isPow2(this.realWidth)&&u.default.isPow2(this.realHeight)},s.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var i=!this.source;if(((this.source=t).src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),i&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var r=this;if(t.onload=function(){if(r._updateImageType(),t.onload=null,t.onerror=null,r.isLoading){if(r.isLoading=!1,r._sourceLoaded(),"svg"===r.imageType)return void r._loadSvgSource();r.emit("loaded",r)}},t.onerror=function(){t.onload=null,t.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===r.imageType)return void r._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},s.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,a.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var i=t.subType.split("+")[0];if(!(e=(0,a.getUrlFileExtension)("."+i)))throw new Error("Invalid image type in data URI.")}else(e=(0,a.getUrlFileExtension)(this.imageUrl))||(e="png");this.imageType=e}},s.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,a.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},s.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},s.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},s.prototype._loadSvgSourceUsingString=function(t){var e=(0,a.getSvgSize)(t),i=e.width,r=e.height;if(!i||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(r*this.sourceScale),this._updateDimensions();var n=document.createElement("canvas");n.width=this.realWidth,n.height=this.realHeight,n._pixiId="canvas_"+(0,a.uid)(),n.getContext("2d").drawImage(this.source,0,0,i,r,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=n,s.addToCache(this,n._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},s.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},s.prototype.destroy=function(){this.imageUrl&&(delete a.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),s.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},s.prototype.dispose=function(){this.emit("dispose",this)},s.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},s.fromImage=function(t,e,i,r){var n=a.BaseTextureCache[t];if(!n){var o=new Image;void 0===e&&0!==t.indexOf("data:")?o.crossOrigin=(0,l.default)(t):e&&(o.crossOrigin="string"==typeof e?e:"anonymous"),(n=new s(o,i)).imageUrl=t,r&&(n.sourceScale=r),n.resolution=(0,a.getResolutionOfUrl)(t),o.src=t,s.addToCache(n,t)}return n},s.fromCanvas=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=i+"_"+(0,a.uid)());var r=a.BaseTextureCache[t._pixiId];return r||(r=new s(t,e),s.addToCache(r,t._pixiId)),r},s.from=function(t,e,i){if("string"==typeof t)return s.fromImage(t,void 0,e,i);if(t instanceof HTMLImageElement){var r=t.src,n=a.BaseTextureCache[r];return n||((n=new s(t,e)).imageUrl=r,i&&(n.sourceScale=i),n.resolution=(0,a.getResolutionOfUrl)(r),s.addToCache(n,r)),n}return t instanceof HTMLCanvasElement?s.fromCanvas(t,e):t},s.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.BaseTextureCache[e]=t)},s.removeFromCache=function(t){if("string"==typeof t){var e=a.BaseTextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete a.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete a.BaseTextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},s}(n.default);i.default=s},{"../settings":101,"../utils":125,"../utils/determineCrossOrigin":124,"bit-twiddle":1,eventemitter3:3}],113:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var c=r(t("./BaseRenderTexture")),n=function(l){function u(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u);var i=null;if(!(t instanceof c.default)){var r=e,n=arguments[2],o=arguments[3],s=arguments[4];console.warn("Please use RenderTexture.create("+r+", "+n+") instead of the ctor directly."),i=t,e=null,t=new c.default(r,n,o,s)}var a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,l.call(this,t,e));return a.legacyRenderer=i,a.valid=!0,a._updateUvs(),a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(u,l),u.prototype.resize=function(t,e,i){t=Math.ceil(t),e=Math.ceil(e),this.valid=0<t&&0<e,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i||this.baseTexture.resize(t,e),this._updateUvs()},u.create=function(t,e,i,r){return new u(new c.default(t,e,i,r))},u}(r(t("./Texture")).default);i.default=n},{"./BaseRenderTexture":111,"./Texture":115}],114:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),d=t("../"),n=t("../utils"),o=function(){function h(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,h),this.baseTexture=t,this.textures={},this.data=e,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r(h,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),h.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=(0,n.getResolutionOfUrl)(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&(this.baseTexture.resolution=i,this.baseTexture.update()),i},h.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=h.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},h.prototype._processFrames=function(t){for(var e=t,i=h.BATCH_SIZE,r=this.baseTexture.sourceScale;e-t<i&&e<this._frameKeys.length;){var n=this._frameKeys[e],o=this._frames[n],s=o.frame;if(s){var a,l=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,c=new d.Rectangle(0,0,Math.floor(u.w*r)/this.resolution,Math.floor(u.h*r)/this.resolution);a=o.rotated?new d.Rectangle(Math.floor(s.x*r)/this.resolution,Math.floor(s.y*r)/this.resolution,Math.floor(s.h*r)/this.resolution,Math.floor(s.w*r)/this.resolution):new d.Rectangle(Math.floor(s.x*r)/this.resolution,Math.floor(s.y*r)/this.resolution,Math.floor(s.w*r)/this.resolution,Math.floor(s.h*r)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new d.Rectangle(Math.floor(o.spriteSourceSize.x*r)/this.resolution,Math.floor(o.spriteSourceSize.y*r)/this.resolution,Math.floor(s.w*r)/this.resolution,Math.floor(s.h*r)/this.resolution)),this.textures[n]=new d.Texture(this.baseTexture,a,c,l,o.rotated?2:0),d.Texture.addToCache(this.textures[n],n)}e++}},h.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},h.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*h.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*h.BATCH_SIZE<t._frameKeys.length?t._nextBatch():t._parseComplete()},0)},h.prototype.destroy=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},h}();i.default=o},{"../":65,"../utils":125}],115:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function n(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}i.__esModule=!0;var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),l=r(t("./BaseTexture")),u=r(t("./VideoBaseTexture")),c=r(t("./TextureUvs")),s=r(t("eventemitter3")),h=t("../math"),d=t("../utils"),f=r(t("../settings")),a=function(s){function a(t,e,i,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this));if(o.noFrame=!1,e||(o.noFrame=!0,e=new h.Rectangle(0,0,1,1)),t instanceof a&&(t=t.baseTexture),o.baseTexture=t,o._frame=e,o.trim=r,o.valid=!1,o.requiresUpdate=!1,o._uvs=null,o.orig=i||e,o._rotate=Number(n||0),!0===n)o._rotate=2;else if(o._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return t.hasLoaded?(o.noFrame&&(e=new h.Rectangle(0,0,t.width,t.height),t.on("update",o.onBaseTextureUpdated,o)),o.frame=e):t.once("loaded",o.onBaseTextureLoaded,o),o._updateID=0,o.transform=null,o.textureCacheIds=[],o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,s),a.prototype.update=function(){this.baseTexture.update()},a.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new h.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},a.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},a.prototype.destroy=function(t){this.baseTexture&&(t&&(d.TextureCache[this.baseTexture.imageUrl]&&a.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,a.removeFromCache(this),this.textureCacheIds=null},a.prototype.clone=function(){return new a(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},a.prototype._updateUvs=function(){this._uvs||(this._uvs=new c.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},a.fromImage=function(t,e,i,r){var n=d.TextureCache[t];return n||(n=new a(l.default.fromImage(t,e,i,r)),a.addToCache(n,t)),n},a.fromFrame=function(t){var e=d.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},a.fromCanvas=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";return new a(l.default.fromCanvas(t,e,i))},a.fromVideo=function(t,e){return"string"==typeof t?a.fromVideoUrl(t,e):new a(u.default.fromVideo(t,e))},a.fromVideoUrl=function(t,e){return new a(u.default.fromUrl(t,e))},a.from=function(t){if("string"==typeof t){var e=d.TextureCache[t];return e||(null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?a.fromVideoUrl(t):a.fromImage(t))}return t instanceof HTMLImageElement?new a(l.default.from(t)):t instanceof HTMLCanvasElement?a.fromCanvas(t,f.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?a.fromVideo(t):t instanceof l.default?new a(t):t},a.fromLoader=function(t,e,i){var r=new l.default(t,void 0,(0,d.getResolutionOfUrl)(e)),n=new a(r);return r.imageUrl=e,i||(i=e),l.default.addToCache(n.baseTexture,i),a.addToCache(n,i),i!==e&&(l.default.addToCache(n.baseTexture,e),a.addToCache(n,e)),n},a.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),d.TextureCache[e]=t)},a.removeFromCache=function(t){if("string"==typeof t){var e=d.TextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return-1<i&&e.textureCacheIds.splice(i,1),delete d.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)d.TextureCache[t.textureCacheIds[r]]===t&&delete d.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},o(a,[{key:"frame",get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,o=e+r>this.baseTexture.width,s=i+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",l="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+a+" "+u)}this.valid=r&&n&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),a}(s.default);(i.default=a).EMPTY=new a(new l.default),n(a.EMPTY),n(a.EMPTY.baseTexture),a.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new a(new l.default(t))}(),n(a.WHITE),n(a.WHITE.baseTexture)},{"../math":70,"../settings":101,"../utils":125,"./BaseTexture":112,"./TextureUvs":117,"./VideoBaseTexture":118,eventemitter3:3}],116:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("../math/Matrix"),s=(r=o)&&r.__esModule?r:{default:r},u=new s.default,a=function(){function i(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this._texture=t,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e}return i.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[r]=n*i.a+o*i.c+i.tx,e[r+1]=n*i.b+o*i.d+i.ty}return e},i.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(u.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(u));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,l=this.clampOffset;return s[0]=(e._frame.x+a+l)/o.width,s[1]=(e._frame.y+a+l)/o.height,s[2]=(e._frame.x+e._frame.width-a+l)/o.width,s[3]=(e._frame.y+e._frame.height-a+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},n(i,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),i}();i.default=a},{"../math/Matrix":67}],117:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../math/GroupD8"),u=(r=n)&&r.__esModule?r:{default:r},o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var o=t.width/2/r,s=t.height/2/n,a=t.x/r+o,l=t.y/n+s;i=u.default.add(i,u.default.NW),this.x0=a+o*u.default.uX(i),this.y0=l+s*u.default.uY(i),i=u.default.add(i,2),this.x1=a+o*u.default.uX(i),this.y1=l+s*u.default.uY(i),i=u.default.add(i,2),this.x2=a+o*u.default.uX(i),this.y2=l+s*u.default.uY(i),i=u.default.add(i,2),this.x3=a+o*u.default.uX(i),this.y3=l+s*u.default.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();i.default=o},{"../math/GroupD8":66}],118:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=t,i.type=e,i}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=r(t("./BaseTexture")),l=t("../utils"),u=t("../ticker"),c=t("../const"),h=r(t("../utils/determineCrossOrigin")),s=function(r){function s(t,e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,t,e));return i.width=t.videoWidth,i.height=t.videoHeight,i._autoUpdate=!0,i._isAutoUpdating=!1,i.autoPlay=!0,i.update=i.update.bind(i),i._onCanPlay=i._onCanPlay.bind(i),t.addEventListener("play",i._onPlayStart.bind(i)),t.addEventListener("pause",i._onPlayStop.bind(i)),i.hasLoaded=!1,i.__loaded=!1,i._isSourceReady()?i._onCanPlay():(t.addEventListener("canplay",i._onCanPlay),t.addEventListener("canplaythrough",i._onCanPlay)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,r),s.prototype._isSourcePlaying=function(){var t=this.source;return 0<t.currentTime&&!1===t.paused&&!1===t.ended&&2<t.readyState},s.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},s.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(u.shared.add(this.update,this,c.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},s.prototype._onPlayStop=function(){this._isAutoUpdating&&(u.shared.remove(this.update,this),this._isAutoUpdating=!1)},s.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},s.prototype.destroy=function(){this._isAutoUpdating&&u.shared.remove(this.update,this),this.source&&this.source._pixiId&&(o.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),r.prototype.destroy.call(this)},s.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+(0,l.uid)());var i=l.BaseTextureCache[t._pixiId];return i||(i=new s(t,e),o.default.addToCache(i,t._pixiId)),i},s.fromUrl=function(t,e,i){var r=document.createElement("video");r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","");var n=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===i&&0!==n.indexOf("data:")?r.crossOrigin=(0,h.default)(n):i&&(r.crossOrigin="string"==typeof i?i:"anonymous"),Array.isArray(t))for(var o=0;o<t.length;++o)r.appendChild(a(t[o].src||t[o],t[o].mime));else r.appendChild(a(n,t.mime));return r.load(),s.fromVideo(r,e)},n(s,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(u.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(u.shared.add(this.update,this,c.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),s}(o.default);(i.default=s).fromUrls=s.fromUrl},{"../const":46,"../ticker":121,"../utils":125,"../utils/determineCrossOrigin":124,"./BaseTexture":112}],119:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=r(t("../settings")),s=t("../const"),a=r(t("./TickerListener")),l=function(){function t(){var e=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._head=new a.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,i))},t.prototype.addOnce=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new a.default(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}e=(i=e).next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*o.default.TARGET_FPMS*this.speed;for(var i=this._head,r=i.next;r;)r=r.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},n(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,o.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();i.default=l},{"../const":46,"../settings":101,"./TickerListener":120}],120:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1}return n.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.previous;return this.next=t?null:e,this.previous=null,e},n}();i.default=r},{}],121:[function(t,e,i){"use strict";i.__esModule=!0,i.Ticker=i.shared=void 0;var r,n=t("./Ticker"),o=(r=n)&&r.__esModule?r:{default:r},s=new o.default;s.autoStart=!0,s.destroy=function(){},i.shared=s,i.Ticker=o.default},{"./Ticker":119}],122:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},{}],123:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){for(var e=6*t,i=new Uint16Array(e),r=0,n=0;r<e;r+=6,n+=4)i[r+0]=n+0,i[r+1]=n+1,i[r+2]=n+2,i[r+3]=n+0,i[r+4]=n+2,i[r+5]=n+3;return i}},{}],124:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a")),s.href=t;var i=!(t=o.default.parse(s.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&i&&t.protocol===e.protocol?"":"anonymous"};var r,n=t("url"),o=(r=n)&&r.__esModule?r:{default:r},s=void 0},{url:38}],125:[function(t,e,i){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.premultiplyBlendMode=i.BaseTextureCache=i.TextureCache=i.earcut=i.mixins=i.pluginTarget=i.EventEmitter=i.removeItems=i.isMobile=void 0,i.uid=function(){return++p},i.hex2rgb=function(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e},i.hex2string=function(t){return t=t.toString(16),"#"+("000000".substr(0,6-t.length)+t)},i.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)},i.getResolutionOfUrl=function(t,e){var i=s.default.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1},i.decomposeDataUri=function(t){var e=o.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]}},i.getUrlFileExtension=function(t){var e=o.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()},i.getSvgSize=function(t){var e=o.SVG_SIZE.exec(t),i={};return e&&(i[e[1]]=Math.round(parseFloat(e[3])),i[e[5]]=Math.round(parseFloat(e[7]))),i},i.skipHello=function(){m=!0},i.sayHello=function(t){if(!m){if(-1<navigator.userAgent.toLowerCase().indexOf("chrome")){var e=["\n %c %c %c PixiJS "+o.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+o.VERSION+" - "+t+" - http://www.pixijs.com/");m=!0}},i.isWebGLSupported=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(t){return!1}},i.sign=function(t){return 0===t?0:t<0?-1:1},i.destroyTextureCache=function(){var t=void 0;for(t in v)v[t].destroy();for(t in g)g[t].destroy()},i.clearTextureCache=function(){var t=void 0;for(t in v)delete v[t];for(t in g)delete g[t]},i.correctBlendMode=function(t,e){return y[e?1:0][t]},i.premultiplyTint=function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,n=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(n=n*e+.5|0)},i.premultiplyRgba=function(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i},i.premultiplyTintToRgba=function(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(r||void 0===r)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i};var o=t("../const"),s=n(t("../settings")),a=n(t("eventemitter3")),l=n(t("./pluginTarget")),u=r(t("./mixin")),c=r(t("ismobilejs")),h=n(t("remove-array-items")),d=n(t("./mapPremultipliedBlendModes")),f=n(t("earcut")),p=0,m=!1;i.isMobile=c,i.removeItems=h.default,i.EventEmitter=a.default,i.pluginTarget=l.default,i.mixins=u,i.earcut=f.default;var v=i.TextureCache=Object.create(null),g=i.BaseTextureCache=Object.create(null),y=i.premultiplyBlendMode=(0,d.default)()},{"../const":46,"../settings":101,"./mapPremultipliedBlendModes":126,"./mixin":128,"./pluginTarget":129,earcut:2,eventemitter3:3,ismobilejs:4,"remove-array-items":31}],126:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){for(var t=[],e=[],i=0;i<32;i++)e[t[i]=i]=i;t[n.BLEND_MODES.NORMAL_NPM]=n.BLEND_MODES.NORMAL,t[n.BLEND_MODES.ADD_NPM]=n.BLEND_MODES.ADD,t[n.BLEND_MODES.SCREEN_NPM]=n.BLEND_MODES.SCREEN,e[n.BLEND_MODES.NORMAL]=n.BLEND_MODES.NORMAL_NPM,e[n.BLEND_MODES.ADD]=n.BLEND_MODES.ADD_NPM,e[n.BLEND_MODES.SCREEN]=n.BLEND_MODES.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r};var n=t("../const")},{"../const":46}],127:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){return o.default.tablet||o.default.phone?4:t};var r,n=t("ismobilejs"),o=(r=n)&&r.__esModule?r:{default:r}},{ismobilejs:4}],128:[function(t,e,i){"use strict";function r(t,e){if(t&&e)for(var i=Object.keys(e),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}}i.__esModule=!0,i.mixin=r,i.delayMixin=function(t,e){n.push(t,e)},i.performMixins=function(){for(var t=0;t<n.length;t+=2)r(n[t],n[t+1]);n.length=0};var n=[]},{}],129:[function(t,e,i){"use strict";i.__esModule=!0,i.default={mixin:function(t){var i;(i=t).__plugins={},i.registerPlugin=function(t,e){i.__plugins[t]=e},i.prototype.initPlugins=function(){for(var t in this.plugins=this.plugins||{},i.__plugins)this.plugins[t]=new i.__plugins[t](this)},i.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}}},{}],130:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){var e=t.width,i=t.height,r=t.getContext("2d"),n=r.getImageData(0,0,e,i).data,o=n.length,s={top:null,left:null,right:null,bottom:null},a=void 0,l=void 0,u=void 0;for(a=0;a<o;a+=4)0!==n[a+3]&&(l=a/4%e,u=~~(a/4/e),null===s.top&&(s.top=u),null===s.left?s.left=l:l<s.left&&(s.left=l),null===s.right?s.right=l+1:s.right<l&&(s.right=l+1),null===s.bottom?s.bottom=u:s.bottom<u&&(s.bottom=u));return e=s.right-s.left,{height:i=s.bottom-s.top+1,width:e,data:r.getImageData(s.left,s.top,e,i)}}},{}],131:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(i){var t=i.mesh,e=i.particles,r=i.extras,n=i.filters,o=i.prepare,s=i.loaders,a=i.interaction;Object.defineProperties(i,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return i.Container}},DisplayObjectContainer:{get:function(){return i.Container}},Strip:{get:function(){return t.Mesh}},Rope:{get:function(){return t.Rope}},ParticleContainer:{get:function(){return e.ParticleContainer}},MovieClip:{get:function(){return r.AnimatedSprite}},TilingSprite:{get:function(){return r.TilingSprite}},BitmapText:{get:function(){return r.BitmapText}},blendModes:{get:function(){return i.BLEND_MODES}},scaleModes:{get:function(){return i.SCALE_MODES}},BaseTextureCache:{get:function(){return i.utils.BaseTextureCache}},TextureCache:{get:function(){return i.utils.TextureCache}},math:{get:function(){return i}},AbstractFilter:{get:function(){return i.Filter}},TransformManual:{get:function(){return i.TransformBase}},TARGET_FPMS:{get:function(){return i.settings.TARGET_FPMS},set:function(t){i.settings.TARGET_FPMS=t}},FILTER_RESOLUTION:{get:function(){return i.settings.FILTER_RESOLUTION},set:function(t){i.settings.FILTER_RESOLUTION=t}},RESOLUTION:{get:function(){return i.settings.RESOLUTION},set:function(t){i.settings.RESOLUTION=t}},MIPMAP_TEXTURES:{get:function(){return i.settings.MIPMAP_TEXTURES},set:function(t){i.settings.MIPMAP_TEXTURES=t}},SPRITE_BATCH_SIZE:{get:function(){return i.settings.SPRITE_BATCH_SIZE},set:function(t){i.settings.SPRITE_BATCH_SIZE=t}},SPRITE_MAX_TEXTURES:{get:function(){return i.settings.SPRITE_MAX_TEXTURES},set:function(t){i.settings.SPRITE_MAX_TEXTURES=t}},RETINA_PREFIX:{get:function(){return i.settings.RETINA_PREFIX},set:function(t){i.settings.RETINA_PREFIX=t}},DEFAULT_RENDER_OPTIONS:{get:function(){return i.settings.RENDER_OPTIONS}}});for(var l=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],u=0;u<l.length;u++)!function(t){var e=l[u];Object.defineProperty(i[e.parent],"DEFAULT",{get:function(){return e.parent,e.target,i.settings[e.target]},set:function(t){e.parent,e.target,i.settings[e.target]=t}})}();Object.defineProperties(i.settings,{PRECISION:{get:function(){return i.settings.PRECISION_FRAGMENT},set:function(t){i.settings.PRECISION_FRAGMENT=t}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return r.AnimatedSprite}}}),r&&Object.defineProperties(r,{TextureTransform:{get:function(){return i.TextureMatrix}}}),i.DisplayObject.prototype.generateTexture=function(t,e,i){return t.generateTexture(this,e,i)},i.Graphics.prototype.generateTexture=function(t,e){return this.generateCanvasTexture(t,e)},i.GroupD8.isSwapWidthHeight=function(t){return i.GroupD8.isVertical(t)},i.RenderTexture.prototype.render=function(t,e,i,r){this.legacyRenderer.render(t,this,i,e,!r)},i.RenderTexture.prototype.getImage=function(t){return this.legacyRenderer.extract.image(t)},i.RenderTexture.prototype.getBase64=function(t){return this.legacyRenderer.extract.base64(t)},i.RenderTexture.prototype.getCanvas=function(t){return this.legacyRenderer.extract.canvas(t)},i.RenderTexture.prototype.getPixels=function(t){return this.legacyRenderer.pixels(t)},i.Sprite.prototype.setTexture=function(t){this.texture=t},r.BitmapText&&(r.BitmapText.prototype.setText=function(t){this.text=t}),i.Text.prototype.setText=function(t){this.text=t},i.Text.calculateFontProperties=function(t){return i.TextMetrics.measureFont(t)},Object.defineProperties(i.Text,{fontPropertiesCache:{get:function(){return i.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i.TextMetrics._context}}}),i.Text.prototype.setStyle=function(t){this.style=t},i.Text.prototype.determineFontProperties=function(t){return i.TextMetrics.measureFont(t)},i.Text.getFontStyle=function(t){return(t=t||{})instanceof i.TextStyle||(t=new i.TextStyle(t)),t.toFontString()},Object.defineProperties(i.TextStyle.prototype,{font:{get:function(){var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){1<t.indexOf("italic")?this._fontStyle="italic":-1<t.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal",-1<t.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),i=-1;this._fontSize=26;for(var r=0;r<e.length;++r)if(e[r].match(/(px|pt|em|%)/)){i=r,this._fontSize=e[r];break}this._fontWeight="normal";for(var n=0;n<i;++n)if(e[n].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[n];break}if(-1<i&&i<e.length-1){this._fontFamily="";for(var o=i+1;o<e.length;++o)this._fontFamily+=e[o]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),i.Texture.prototype.setFrame=function(t){this.frame=t},i.Texture.addTextureToCache=function(t,e){i.Texture.addToCache(t,e)},i.Texture.removeTextureFromCache=function(t){return i.BaseTexture.removeFromCache(t),i.Texture.removeFromCache(t)},Object.defineProperties(n,{AbstractFilter:{get:function(){return i.AbstractFilter}},SpriteMaskFilter:{get:function(){return i.SpriteMaskFilter}},VoidFilter:{get:function(){return n.AlphaFilter}}}),i.utils.uuid=function(){return i.utils.uid()},i.utils.canUseNewCanvasBlendModes=function(){return i.CanvasTinter.canUseMultiply};var c=!0;if(Object.defineProperty(i.utils,"_saidHello",{set:function(t){t&&this.skipHello(),c=t},get:function(){return c}}),o.BasePrepare&&(o.BasePrepare.prototype.register=function(t,e){return t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),o.canvas&&Object.defineProperty(o.canvas,"UPLOADS_PER_FRAME",{set:function(){},get:function(){return NaN}}),o.webgl&&Object.defineProperty(o.webgl,"UPLOADS_PER_FRAME",{set:function(){},get:function(){return NaN}}),s.Loader){var h=s.Resource,d=s.Loader;Object.defineProperties(h.prototype,{isJson:{get:function(){return this.type===h.TYPE.JSON}},isXml:{get:function(){return this.type===h.TYPE.XML}},isImage:{get:function(){return this.type===h.TYPE.IMAGE}},isAudio:{get:function(){return this.type===h.TYPE.AUDIO}},isVideo:{get:function(){return this.type===h.TYPE.VIDEO}}}),Object.defineProperties(d.prototype,{before:{get:function(){return this.pre}},after:{get:function(){return this.use}}})}a.interactiveTarget&&Object.defineProperty(a.interactiveTarget,"defaultCursor",{set:function(t){this.cursor=t},get:function(){return this.cursor}}),a.InteractionManager&&(Object.defineProperty(a.InteractionManager,"defaultCursorStyle",{set:function(t){this.cursorStyles.default=t},get:function(){return this.cursorStyles.default}}),Object.defineProperty(a.InteractionManager,"currentCursorStyle",{set:function(t){this.currentCursorMode=t},get:function(){return this.currentCursorMode}}))}},{}],132:[function(t,e,i){"use strict";i.__esModule=!0;var c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),h=new c.Rectangle,r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(this.renderer=t).extract=this}return e.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},e.prototype.base64=function(t){return this.canvas(t).toDataURL()},e.prototype.canvas=function(t){var e=this.renderer,i=void 0,r=void 0,n=void 0,o=void 0;t&&(o=t instanceof c.RenderTexture?t:e.generateTexture(t)),o?(i=o.baseTexture._canvasRenderTarget.context,r=o.baseTexture._canvasRenderTarget.resolution,n=o.frame):(i=e.rootContext,(n=h).width=this.renderer.width,n.height=this.renderer.height);var s=n.width*r,a=n.height*r,l=new c.CanvasRenderTarget(s,a),u=i.getImageData(n.x*r,n.y*r,s,a);return l.context.putImageData(u,0,0),l.canvas},e.prototype.pixels=function(t){var e=this.renderer,i=void 0,r=void 0,n=void 0,o=void 0;return t&&(o=t instanceof c.RenderTexture?t:e.generateTexture(t)),o?(i=o.baseTexture._canvasRenderTarget.context,r=o.baseTexture._canvasRenderTarget.resolution,n=o.frame):(i=e.rootContext,(n=h).width=e.width,n.height=e.height),i.getImageData(0,0,n.width*r,n.height*r).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();i.default=r,c.CanvasRenderer.registerPlugin("extract",r)},{"../../core":65}],133:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./webgl/WebGLExtract");Object.defineProperty(i,"webgl",{enumerable:!0,get:function(){return r(n).default}});var o=t("./canvas/CanvasExtract");Object.defineProperty(i,"canvas",{enumerable:!0,get:function(){return r(o).default}})},{"./canvas/CanvasExtract":132,"./webgl/WebGLExtract":134}],134:[function(t,e,i){"use strict";i.__esModule=!0;var p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),m=new p.Rectangle,r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),(this.renderer=t).extract=this}return e.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},e.prototype.base64=function(t){return this.canvas(t).toDataURL()},e.prototype.canvas=function(t){var e=this.renderer,i=void 0,r=void 0,n=void 0,o=!1,s=void 0,a=!1;t&&(t instanceof p.RenderTexture?s=t:(s=this.renderer.generateTexture(t),a=!0)),s?(r=(i=s.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,n=s.frame,o=!1):(r=(i=this.renderer.rootRenderTarget).resolution,o=!0,(n=m).width=i.size.width,n.height=i.size.height);var l=n.width*r,u=n.height*r,c=new p.CanvasRenderTarget(l,u);if(i){e.bindRenderTarget(i);var h=new Uint8Array(4*l*u),d=e.gl;d.readPixels(n.x*r,n.y*r,l,u,d.RGBA,d.UNSIGNED_BYTE,h);var f=c.context.getImageData(0,0,l,u);f.data.set(h),c.context.putImageData(f,0,0),o&&(c.context.scale(1,-1),c.context.drawImage(c.canvas,0,-u))}return a&&s.destroy(!0),c.canvas},e.prototype.pixels=function(t){var e=this.renderer,i=void 0,r=void 0,n=void 0,o=void 0,s=!1;t&&(t instanceof p.RenderTexture?o=t:(o=this.renderer.generateTexture(t),s=!0)),o?(r=(i=o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,n=o.frame):(r=(i=this.renderer.rootRenderTarget).resolution,(n=m).width=i.size.width,n.height=i.size.height);var a=n.width*r,l=n.height*r,u=new Uint8Array(4*a*l);if(i){e.bindRenderTarget(i);var c=e.gl;c.readPixels(n.x*r,n.y*r,a,l,c.RGBA,c.UNSIGNED_BYTE,u)}return s&&o.destroy(!0),u},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();i.default=r,p.WebGLRenderer.registerPlugin("extract",r)},{"../../core":65}],135:[function(t,e,i){"use strict";i.__esModule=!0;var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),r=function(r){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,t[0]instanceof s.Texture?t[0]:t[0].texture));return i._textures=null,i._durations=null,i.textures=t,i._autoUpdate=!1!==e,i.animationSpeed=1,i.loop=!0,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i.playing=!1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r),n.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&s.ticker.shared.remove(this.update,this))},n.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&s.ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.HIGH))},n.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},n.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},n.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())},n.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},n.prototype.destroy=function(t){this.stop(),r.prototype.destroy.call(this,t)},n.fromFrames=function(t){for(var e=[],i=0;i<t.length;++i)e.push(s.Texture.fromFrame(t[i]));return new n(e)},n.fromImages=function(t){for(var e=[],i=0;i<t.length;++i)e.push(s.Texture.fromImage(t[i]));return new n(e)},o(n,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof s.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),n}(s.Sprite);i.default=r},{"../core":65}],136:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),C=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=r(t("../core/math/ObservablePoint")),y=t("../core/utils"),b=r(t("../core/settings")),s=function(r){function E(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,E);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==e.tint?e.tint:16777215,align:e.align||"left",name:null,size:0},i.font=e.font,i._text=t,i._maxWidth=0,i._maxLineHeight=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(E,r),E.prototype.updateText=function(){for(var t=E.fonts[this._font.name],e=this._font.size/t.size,i=new C.Point,r=[],n=[],o=null,s=0,a=0,l=0,u=-1,c=0,h=0,d=0,f=0;f<this.text.length;f++){var p=this.text.charCodeAt(f);if(/(\s)/.test(this.text.charAt(f))&&(u=f,c=s),/(?:\r\n|\r|\n)/.test(this.text.charAt(f)))n.push(s),a=Math.max(a,s),l++,i.x=0,i.y+=t.lineHeight,o=null;else if(-1!==u&&0<this._maxWidth&&i.x*e>this._maxWidth)C.utils.removeItems(r,u-h,f-u),f=u,u=-1,++h,n.push(c),a=Math.max(a,c),l++,i.x=0,i.y+=t.lineHeight,o=null;else{var m=t.chars[p];m&&(o&&m.kerning[o]&&(i.x+=m.kerning[o]),r.push({texture:m.texture,line:l,charCode:p,position:new C.Point(i.x+m.xOffset,i.y+m.yOffset)}),s=i.x+(m.texture.width+m.xOffset),i.x+=m.xAdvance,d=Math.max(d,m.yOffset+m.texture.height),o=p)}}n.push(s),a=Math.max(a,s);for(var v=[],g=0;g<=l;g++){var y=0;"right"===this._font.align?y=a-n[g]:"center"===this._font.align&&(y=(a-n[g])/2),v.push(y)}for(var b=r.length,x=this.tint,_=0;_<b;_++){var w=this._glyphs[_];w?w.texture=r[_].texture:(w=new C.Sprite(r[_].texture),this._glyphs.push(w)),w.position.x=(r[_].position.x+v[r[_].line])*e,w.position.y=r[_].position.y*e,w.scale.x=w.scale.y=e,w.tint=x,w.parent||this.addChild(w)}for(var T=b;T<this._glyphs.length;++T)this.removeChild(this._glyphs[T]);if(this._textWidth=a*e,this._textHeight=(i.y+t.lineHeight)*e,0!==this.anchor.x||0!==this.anchor.y)for(var S=0;S<b;S++)this._glyphs[S].x-=this._textWidth*this.anchor.x,this._glyphs[S].y-=this._textHeight*this.anchor.y;this._maxLineHeight=d*e},E.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},E.prototype.getLocalBounds=function(){return this.validate(),r.prototype.getLocalBounds.call(this)},E.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},E.registerFont=function(t,e){var i={},r=t.getElementsByTagName("info")[0],n=t.getElementsByTagName("common")[0],o=t.getElementsByTagName("page")[0].getAttribute("file"),s=(0,y.getResolutionOfUrl)(o,b.default.RESOLUTION);i.font=r.getAttribute("face"),i.size=parseInt(r.getAttribute("size"),10),i.lineHeight=parseInt(n.getAttribute("lineHeight"),10)/s,i.chars={};for(var a=t.getElementsByTagName("char"),l=0;l<a.length;l++){var u=a[l],c=parseInt(u.getAttribute("id"),10),h=new C.Rectangle(parseInt(u.getAttribute("x"),10)/s+e.frame.x/s,parseInt(u.getAttribute("y"),10)/s+e.frame.y/s,parseInt(u.getAttribute("width"),10)/s,parseInt(u.getAttribute("height"),10)/s);i.chars[c]={xOffset:parseInt(u.getAttribute("xoffset"),10)/s,yOffset:parseInt(u.getAttribute("yoffset"),10)/s,xAdvance:parseInt(u.getAttribute("xadvance"),10)/s,kerning:{},texture:new C.Texture(e.baseTexture,h)}}for(var d=t.getElementsByTagName("kerning"),f=0;f<d.length;f++){var p=d[f],m=parseInt(p.getAttribute("first"),10)/s,v=parseInt(p.getAttribute("second"),10)/s,g=parseInt(p.getAttribute("amount"),10)/s;i.chars[v]&&(i.chars[v].kerning[m]=g)}return E.fonts[i.font]=i},n(E,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&0<=t?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=2<=t.length?parseInt(t[0],10):E.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),E}(C.Container);(i.default=s).fonts={}},{"../core":65,"../core/math/ObservablePoint":68,"../core/settings":101,"../core/utils":125}],137:[function(t,e,i){"use strict";i.__esModule=!0;var r,s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),n=t("../core/sprites/canvas/CanvasTinter"),f=(r=n)&&r.__esModule?r:{default:r},a=new d.Point,o=function(n){function o(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));return r.tileTransform=new d.TransformStatic,r._width=e,r._height=i,r._canvasPattern=null,r.uvTransform=t.transform||new d.TextureMatrix(t),r.pluginName="tilingSprite",r.uvRespectAnchor=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},o.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},o.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var i=t.context,r=this.worldTransform,n=t.resolution,o=e.baseTexture,s=o.resolution,a=this.tilePosition.x/this.tileScale.x%e._frame.width*s,l=this.tilePosition.y/this.tileScale.y%e._frame.height*s;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var u=new d.CanvasRenderTarget(e._frame.width,e._frame.height,s);16777215!==this.tint?(this.tintedTexture=f.default.getTintedTexture(this,this.tint),u.context.drawImage(this.tintedTexture,0,0)):u.context.drawImage(o.source,-e._frame.x*s,-e._frame.y*s),this.cachedTint=this.tint,this._canvasPattern=u.context.createPattern(u.canvas,"repeat")}i.globalAlpha=this.worldAlpha,i.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),t.setBlendMode(this.blendMode),i.fillStyle=this._canvasPattern,i.scale(this.tileScale.x/s,this.tileScale.y/s);var c=this.anchor.x*-this._width,h=this.anchor.y*-this._height;this.uvRespectAnchor?(i.translate(a,l),i.fillRect(-a+c,-l+h,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s)):(i.translate(a+c,l+h),i.fillRect(-a,-l,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s))}},o.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},o.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),t||(this._localBoundsRect||(this._localBoundsRect=new d.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):n.prototype.getLocalBounds.call(this,t)},o.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,a);var e=this._width,i=this._height,r=-e*this.anchor._x;if(a.x>=r&&a.x<r+e){var n=-i*this.anchor._y;if(a.y>=n&&a.y<n+i)return!0}return!1},o.prototype.destroy=function(t){n.prototype.destroy.call(this,t),this.tileTransform=null,this.uvTransform=null},o.from=function(t,e,i){return new o(d.Texture.from(t),e,i)},o.fromFrame=function(t,e,i){var r=d.utils.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new o(r,e,i)},o.fromImage=function(t,e,i,r,n){return new o(d.Texture.fromImage(t,r,n),e,i)},s(o,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),o}(d.Sprite);i.default=o},{"../core":65,"../core/sprites/canvas/CanvasTinter":104}],138:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var c=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),h=r(t("../core/textures/Texture")),d=r(t("../core/textures/BaseTexture")),f=t("../core/utils"),n=c.DisplayObject,p=new c.Matrix;n.prototype._cacheAsBitmap=!1,n.prototype._cacheData=!1;var o=function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(n.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){var e=void 0;(this._cacheAsBitmap=t)?(this._cacheData||(this._cacheData=new o),(e=this._cacheData).originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),n.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},n.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var i=this.getLocalBounds().clone();if(this._filters){var r=this._filters[0].padding;i.pad(r)}var n=t._activeRenderTarget,o=t.filterManager.filterStack,s=c.RenderTexture.create(0|i.width,0|i.height),a="cacheAsBitmap_"+(0,f.uid)();this._cacheData.textureCacheId=a,d.default.addToCache(s.baseTexture,a),h.default.addToCache(s,a);var l=p;l.tx=-i.x,l.ty=-i.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,s,!0,l,!0),t.bindRenderTarget(n),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var u=new c.Sprite(s);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-i.x/i.width,u.anchor.y=-i.y/i.height,u.alpha=e,u._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},n.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},n.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var r=t.context,n=c.RenderTexture.create(0|e.width,0|e.height),o="cacheAsBitmap_"+(0,f.uid)();this._cacheData.textureCacheId=o,d.default.addToCache(n.baseTexture,o),h.default.addToCache(n,o);var s=p;this.transform.localTransform.copy(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=r,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var a=new c.Sprite(n);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a._bounds=this._bounds,a.alpha=i,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=a,this.containsPoint=a.containsPoint.bind(a)}},n.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},n.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},n.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,d.default.removeFromCache(this._cacheData.textureCacheId),h.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},n.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},{"../core":65,"../core/textures/BaseTexture":112,"../core/textures/Texture":115,"../core/utils":125}],139:[function(t,e,i){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core"));r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},{"../core":65}],140:[function(t,e,i){"use strict";var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core"));r.DisplayObject.prototype.getGlobalPosition=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new r.Point,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},{"../core":65}],141:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.BitmapText=i.TilingSpriteRenderer=i.TilingSprite=i.AnimatedSprite=void 0;var n=t("./AnimatedSprite");Object.defineProperty(i,"AnimatedSprite",{enumerable:!0,get:function(){return r(n).default}});var o=t("./TilingSprite");Object.defineProperty(i,"TilingSprite",{enumerable:!0,get:function(){return r(o).default}});var s=t("./webgl/TilingSpriteRenderer");Object.defineProperty(i,"TilingSpriteRenderer",{enumerable:!0,get:function(){return r(s).default}});var a=t("./BitmapText");Object.defineProperty(i,"BitmapText",{enumerable:!0,get:function(){return r(a).default}}),t("./cacheAsBitmap"),t("./getChildByName"),t("./getGlobalPosition")},{"./AnimatedSprite":135,"./BitmapText":136,"./TilingSprite":137,"./cacheAsBitmap":138,"./getChildByName":139,"./getGlobalPosition":140,"./webgl/TilingSpriteRenderer":142}],142:[function(t,e,i){"use strict";i.__esModule=!0;var p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),m=t("../../core/const"),v=(t("path"),new p.Matrix),r=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.shader=null,e.simpleShader=null,e.quad=null,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new p.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new p.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new p.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},r.prototype.render=function(t){var e=this.renderer,i=this.quad;e.bindVao(i.vao);var r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.upload();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvTransform,l=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;l&&(o._glTextures[e.CONTEXT_UID]?l=o.wrapMode!==m.WRAP_MODES.CLAMP:o.wrapMode===m.WRAP_MODES.CLAMP&&(o.wrapMode=m.WRAP_MODES.REPEAT));var u=l?this.simpleShader:this.shader;e.bindShader(u);var c=n.width,h=n.height,d=t._width,f=t._height;v.set(s.a*c/d,s.b*c/f,s.c*h/d,s.d*h/f,s.tx/d,s.ty/f),v.invert(),l?v.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=v.toArray(!0),u.uniforms.uColor=p.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,u.uniforms.uColor,o.premultipliedAlpha),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=e.bindTexture(n),e.setBlendMode(p.utils.correctBlendMode(t.blendMode,o.premultipliedAlpha)),i.vao.draw(this.renderer.gl.TRIANGLES,6,0)},r}(p.ObjectRenderer);i.default=r,p.WebGLRenderer.registerPlugin("tilingSprite",r)},{"../../core":65,"../../core/const":46,path:8}],143:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=(t("path"),function(i){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return e.alpha=t,e.glShaderKey="alpha",e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),n(r,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),r}(r.Filter));i.default=o},{"../../core":65,path:8}],144:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),l=r(t("./BlurXFilter")),u=r(t("./BlurYFilter")),o=function(o){function s(t,e,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this));return n.blurXFilter=new l.default(t,e,i,r),n.blurYFilter=new u.default(t,e,i,r),n.padding=0,n.resolution=i||a.settings.RESOLUTION,n.quality=e||4,n.blur=t||8,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s.prototype.apply=function(t,e,i){var r=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,r,!0),this.blurYFilter.apply(t,r,i,!1),t.returnRenderTarget(r)},n(s,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),s}(a.Filter);i.default=o},{"../../core":65,"./BlurXFilter":145,"./BlurYFilter":146}],145:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),h=r(t("./generateBlurVertSource")),d=r(t("./generateBlurFragSource")),f=r(t("./getMaxBlurKernelSize")),o=function(a){function l(t,e,i,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,l),r=r||5;var n=(0,h.default)(r,!0),o=(0,d.default)(r),s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,n,o));return s.resolution=i||u.settings.RESOLUTION,s._quality=0,s.quality=e||4,s.strength=t||8,s.firstRun=!0,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,a),l.prototype.apply=function(t,e,i,r){if(this.firstRun){var n=t.renderer.gl,o=(0,f.default)(n);this.vertexSrc=(0,h.default)(o,!0),this.fragmentSrc=(0,d.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/i.size.width*(i.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{for(var s=t.getRenderTarget(!0),a=e,l=s,u=0;u<this.passes-1;u++){t.applyFilter(this,a,l,!0);var c=l;l=a,a=c}t.applyFilter(this,a,i,r),t.returnRenderTarget(s)}},n(l,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),l}(u.Filter);i.default=o},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],146:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),h=r(t("./generateBlurVertSource")),d=r(t("./generateBlurFragSource")),f=r(t("./getMaxBlurKernelSize")),o=function(a){function l(t,e,i,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,l),r=r||5;var n=(0,h.default)(r,!1),o=(0,d.default)(r),s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,a.call(this,n,o));return s.resolution=i||u.settings.RESOLUTION,s._quality=0,s.quality=e||4,s.strength=t||8,s.firstRun=!0,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,a),l.prototype.apply=function(t,e,i,r){if(this.firstRun){var n=t.renderer.gl,o=(0,f.default)(n);this.vertexSrc=(0,h.default)(o,!1),this.fragmentSrc=(0,d.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/i.size.height*(i.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{for(var s=t.getRenderTarget(!0),a=e,l=s,u=0;u<this.passes-1;u++){t.applyFilter(this,a,l,!0);var c=l;l=a,a=c}t.applyFilter(this,a,i,r),t.returnRenderTarget(s)}},n(l,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),l}(u.Filter);i.default=o},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],147:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){for(var e=l[t],i=e.length,r=u,n="",o=void 0,s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);i<=(o=s)&&(o=t-s-1),n+=a=a.replace("%value%",e[o]),n+="\n"}return(r=r.replace("%blur%",n)).replace("%size%",t)};var l={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},u=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],148:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t,e){var i=Math.ceil(t/2),r=l,n="",o=void 0;o=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var a=o.replace("%index%",s);n+=a=a.replace("%sampleIndex%",s-(i-1)+".0"),n+="\n"}return(r=r.replace("%blur%",n)).replace("%size%",t)};var l=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],149:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),i=15;e<i;)i-=2;return i}},{}],150:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=(t("path"),function(e){function i(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return t.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],t.alpha=1,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i.prototype._loadMatrix=function(t){var e=t;1<arguments.length&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(e,this.uniforms.m,t),e=this._colorMatrix(e)),this.uniforms.m=e},i.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},i.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},i.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},i.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},i.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},i.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=(0,Math.sqrt)(1/3),o=[i+1/3*(1-i),1/3*(1-i)-n*r,1/3*(1-i)+n*r,0,0,1/3*(1-i)+n*r,i+1/3*(1-i),1/3*(1-i)-n*r,0,0,1/3*(1-i)-n*r,1/3*(1-i)+n*r,i+1/3*(1-i),0,0,0,0,0,1,0];this._loadMatrix(o,e)},i.prototype.contrast=function(t,e){var i=(t||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.saturate=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],i=2*t/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},i.prototype.desaturate=function(){this.saturate(-1)},i.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},i.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},i.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},i.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},i.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},i.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},i.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},i.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},i.prototype.colorTone=function(t,e,i,r,n){var o=((i=i||16770432)>>16&255)/255,s=(i>>8&255)/255,a=(255&i)/255,l=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,l,u,c,e=e||.15,0,o-l,s-u,a-c,0,0];this._loadMatrix(h,n)},i.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},i.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},i.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},i.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},r(i,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),i}(n.Filter));(i.default=o).prototype.grayscale=o.prototype.greyscale},{"../../core":65,path:8}],151:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),n=(t("path"),function(n){function o(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var i=new s.Matrix;t.renderable=!1;var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return r.maskSprite=t,r.maskMatrix=i,r.uniforms.mapSampler=t._texture,r.uniforms.filterMatrix=i,r.uniforms.scale={x:1,y:1},null!=e||(e=20),r.scale=new s.Point(e,e),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype.apply=function(t,e,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,i)},r(o,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),o}(s.Filter));i.default=n},{"../../core":65,path:8}],152:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),n=(t("path"),function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.Filter));i.default=n},{"../../core":65,path:8}],153:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./fxaa/FXAAFilter");Object.defineProperty(i,"FXAAFilter",{enumerable:!0,get:function(){return r(n).default}});var o=t("./noise/NoiseFilter");Object.defineProperty(i,"NoiseFilter",{enumerable:!0,get:function(){return r(o).default}});var s=t("./displacement/DisplacementFilter");Object.defineProperty(i,"DisplacementFilter",{enumerable:!0,get:function(){return r(s).default}});var a=t("./blur/BlurFilter");Object.defineProperty(i,"BlurFilter",{enumerable:!0,get:function(){return r(a).default}});var l=t("./blur/BlurXFilter");Object.defineProperty(i,"BlurXFilter",{enumerable:!0,get:function(){return r(l).default}});var u=t("./blur/BlurYFilter");Object.defineProperty(i,"BlurYFilter",{enumerable:!0,get:function(){return r(u).default}});var c=t("./colormatrix/ColorMatrixFilter");Object.defineProperty(i,"ColorMatrixFilter",{enumerable:!0,get:function(){return r(c).default}});var h=t("./alpha/AlphaFilter");Object.defineProperty(i,"AlphaFilter",{enumerable:!0,get:function(){return r(h).default}})},{"./alpha/AlphaFilter":143,"./blur/BlurFilter":144,"./blur/BlurXFilter":145,"./blur/BlurYFilter":146,"./colormatrix/ColorMatrixFilter":150,"./displacement/DisplacementFilter":151,"./fxaa/FXAAFilter":152,"./noise/NoiseFilter":154}],154:[function(t,e,i){"use strict";i.__esModule=!0;var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),n=(t("path"),function(r){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=t,i.seed=e,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r),o(n,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),n}(r.Filter));i.default=n},{"../../core":65,path:8}],155:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.global=new n.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},t.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},r(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();i.default=o},{"../core":65}],156:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();i.default=r},{}],157:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),a=r(t("./InteractionData")),l=r(t("./InteractionEvent")),h=r(t("./InteractionTrackingData")),n=r(t("eventemitter3")),u=r(t("./interactiveTarget"));s.utils.mixins.delayMixin(s.DisplayObject.prototype,u.default);var c=1,d={target:null,data:{global:null}},f=function(r){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this));return e=e||{},i.renderer=t,i.autoPreventDefault=void 0===e.autoPreventDefault||e.autoPreventDefault,i.interactionFrequency=e.interactionFrequency||10,i.mouse=new a.default,i.mouse.identifier=c,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[c]=i.mouse,i.interactionDataPool=[],i.eventData=new l.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new s.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r),n.prototype.hitTest=function(t,e){return d.target=null,d.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(d,e,null,!0),d.target},n.prototype.setTargetElement=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},n.prototype.addEvents=function(){this.interactionDOMElement&&(s.ticker.shared.add(this.update,this,s.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},n.prototype.removeEvents=function(){this.interactionDOMElement&&(s.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},n.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},n.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(void 0===e?"undefined":o(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},n.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},n.prototype.mapPositionToPoint=function(t,e,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},n.prototype.processInteractive=function(t,e,i,r,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,l=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:l=r=!1),a=!1):e._mask&&r&&(e._mask.containsPoint(o)||(l=r=!1)),l&&e.interactiveChildren&&e.children)for(var u=e.children,c=u.length-1;0<=c;c--){var h=u[c],d=this.processInteractive(t,h,i,r,a);if(d){if(!h.parent)continue;a=!1,d&&(t.target&&(r=!1),s=!0)}}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),i&&i(t,e,!!s))),s},n.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},n.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;if(i)if(e.trackedPointers[n]||(e.trackedPointers[n]=new h.default(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},n.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=r[s],l=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,l);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,i,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var c=2===a.button;this.emit(c?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId,l))}},n.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},n.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},n.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},n.prototype.processPointerUp=function(t,e,i){var r=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===r.pointerType;if("mouse"===r.pointerType||"pen"===r.pointerType){var a=2===r.button,l=h.default.FLAGS,u=a?l.RIGHT_DOWN:l.LEFT_DOWN,c=void 0!==o&&o.flags&u;i?(this.dispatchEvent(e,a?"rightup":"mouseup",t),c&&this.dispatchEvent(e,a?"rightclick":"click",t)):c&&this.dispatchEvent(e,a?"rightupoutside":"mouseupoutside",t),o&&(a?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},n.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t;var a="touch"!==n.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},n.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},n.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},n.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[n];i&&!s&&(s=e.trackedPointers[n]=new h.default(n)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},n.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);"mouse"===(r.data.originalEvent=e).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},n.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,i=void 0;return e===c||"mouse"===t.pointerType?i=this.mouse:this.activeInteractionData[e]?i=this.activeInteractionData[e]:((i=this.interactionDataPool.pop()||new a.default).identifier=e,this.activeInteractionData[e]=i),i.copyEvent(t),i},n.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},n.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(i.global.x=i.global.x/this.resolution,i.global.y=i.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},n.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,r=t.changedTouches.length;i<r;i++){var n=t.changedTouches[i];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),n.twist=0,void(n.tangentialPressure=0)===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent||(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=c),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0),e.push(t);return e},n.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},n}(n.default);i.default=f,s.WebGLRenderer.registerPlugin("interaction",f),s.CanvasRenderer.registerPlugin("interaction",f)},{"../core":65,"./InteractionData":155,"./InteractionEvent":156,"./InteractionTrackingData":158,"./interactiveTarget":160,eventemitter3:3}],158:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),n=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},r(e,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),e}();(i.default=n).FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],159:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./InteractionData");Object.defineProperty(i,"InteractionData",{enumerable:!0,get:function(){return r(n).default}});var o=t("./InteractionManager");Object.defineProperty(i,"InteractionManager",{enumerable:!0,get:function(){return r(o).default}});var s=t("./interactiveTarget");Object.defineProperty(i,"interactiveTarget",{enumerable:!0,get:function(){return r(s).default}});var a=t("./InteractionTrackingData");Object.defineProperty(i,"InteractionTrackingData",{enumerable:!0,get:function(){return r(a).default}});var l=t("./InteractionEvent");Object.defineProperty(i,"InteractionEvent",{enumerable:!0,get:function(){return r(l).default}})},{"./InteractionData":155,"./InteractionEvent":156,"./InteractionManager":157,"./InteractionTrackingData":158,"./interactiveTarget":160}],160:[function(t,e,i){"use strict";i.__esModule=!0,i.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],161:[function(t,e,i){"use strict";function o(t,e){t.bitmapFont=r.BitmapText.registerFont(t.data,e)}i.__esModule=!0,i.parse=o,i.default=function(){return function(e,i){if(e.data&&e.type===l.Resource.TYPE.XML)if(0!==e.data.getElementsByTagName("page").length&&0!==e.data.getElementsByTagName("info").length&&null!==e.data.getElementsByTagName("info")[0].getAttribute("face")){var t=e.isDataUrl?"":s.dirname(e.url);e.isDataUrl&&("."===t&&(t=""),this.baseUrl&&t&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(t+="/")),(t=t.replace(this.baseUrl,""))&&"/"!==t.charAt(t.length-1)&&(t+="/");var r=t+e.data.getElementsByTagName("page")[0].getAttribute("file");if(a.utils.TextureCache[r])o(e,a.utils.TextureCache[r]),i();else{var n={crossOrigin:e.crossOrigin,loadType:l.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e};this.add(e.name+"_image",r,n,function(t){o(e,t.texture),i()})}}else i();else i()}};var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("path")),a=t("../core"),l=t("resource-loader"),r=t("../extras")},{"../core":65,"../extras":141,path:8,"resource-loader":36}],162:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.shared=i.Resource=i.textureParser=i.getResourcePath=i.spritesheetParser=i.parseBitmapFontData=i.bitmapFontParser=i.Loader=void 0;var n=t("./bitmapFontParser");Object.defineProperty(i,"bitmapFontParser",{enumerable:!0,get:function(){return r(n).default}}),Object.defineProperty(i,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var o=t("./spritesheetParser");Object.defineProperty(i,"spritesheetParser",{enumerable:!0,get:function(){return r(o).default}}),Object.defineProperty(i,"getResourcePath",{enumerable:!0,get:function(){return o.getResourcePath}});var s=t("./textureParser");Object.defineProperty(i,"textureParser",{enumerable:!0,get:function(){return r(s).default}});var a=t("resource-loader");Object.defineProperty(i,"Resource",{enumerable:!0,get:function(){return a.Resource}});var l=r(t("../core/Application")),u=r(t("./loader"));i.Loader=u.default;var c=new u.default;c.destroy=function(){},i.shared=c;var h=l.default.prototype;h._loader=null,Object.defineProperty(h,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?c:new u.default}return this._loader}}),h._parentDestroy=h.destroy,h.destroy=function(t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t)}},{"../core/Application":43,"./bitmapFontParser":161,"./loader":163,"./spritesheetParser":164,"./textureParser":165,"resource-loader":36}],163:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=r(t("resource-loader")),o=t("resource-loader/lib/middlewares/parsing/blob"),s=r(t("eventemitter3")),a=r(t("./textureParser")),l=r(t("./spritesheetParser")),u=r(t("./bitmapFontParser")),c=function(n){function o(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t,e));s.default.call(r);for(var i=0;i<o._pixiMiddleware.length;++i)r.use(o._pixiMiddleware[i]());return r.onStart.add(function(t){return r.emit("start",t)}),r.onProgress.add(function(t,e){return r.emit("progress",t,e)}),r.onError.add(function(t,e,i){return r.emit("error",t,e,i)}),r.onLoad.add(function(t,e){return r.emit("load",t,e)}),r.onComplete.add(function(t,e){return r.emit("complete",t,e)}),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.addPixiMiddleware=function(t){o._pixiMiddleware.push(t)},o.prototype.destroy=function(){this.removeAllListeners(),this.reset()},o}(n.default);for(var h in i.default=c,s.default.prototype)c.prototype[h]=s.default.prototype[h];c._pixiMiddleware=[o.blobMiddlewareFactory,a.default,l.default,u.default];var d=n.default.Resource;d.setExtensionXhrType("fnt",d.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":161,"./spritesheetParser":164,"./textureParser":165,eventemitter3:3,"resource-loader":36,"resource-loader/lib/middlewares/parsing/blob":37}],164:[function(t,e,i){"use strict";function o(t,e){return t.isDataUrl?t.data.meta.image:a.default.resolve(t.url.replace(e,""),t.data.meta.image)}i.__esModule=!0,i.default=function(){return function(i,r){var t=i.name+"_image";if(i.data&&i.type===s.Resource.TYPE.JSON&&i.data.frames&&!this.resources[t]){var e={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},n=o(i,this.baseUrl);this.add(t,n,e,function(t){if(t.error)r(t.error);else{var e=new l.Spritesheet(t.texture.baseTexture,i.data,i.url);e.parse(function(){i.spritesheet=e,i.textures=e.textures,r()})}})}else r()}},i.getResourcePath=o;var r,s=t("resource-loader"),n=t("url"),a=(r=n)&&r.__esModule?r:{default:r},l=t("../core")},{"../core":65,"resource-loader":36,url:38}],165:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(){return function(t,e){t.data&&t.type===n.Resource.TYPE.IMAGE&&(t.texture=s.default.fromLoader(t.data,t.url,t.name)),e()}};var r,n=t("resource-loader"),o=t("../core/textures/Texture"),s=(r=o)&&r.__esModule?r:{default:r}},{"../core/textures/Texture":115,"resource-loader":36}],166:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),o=t("../core/textures/Texture"),l=(r=o)&&r.__esModule?r:{default:r},h=new a.Point,d=new a.Polygon,s=function(s){function c(t,e,i,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this));return o._texture=t||l.default.EMPTY,o.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),o.vertices=e||new Float32Array([0,0,100,0,100,100,0,100]),o.indices=r||new Uint16Array([0,1,3,2]),o.dirty=0,o.indexDirty=0,o.blendMode=a.BLEND_MODES.NORMAL,o.canvasPadding=a.settings.MESH_CANVAS_PADDING,o.drawMode=n||c.DRAW_MODES.TRIANGLE_MESH,o.shader=null,o.tintRgb=new Float32Array([1,1,1]),o._glDatas={},o._uvTransform=new a.TextureMatrix(o._texture),o.uploadUvTransform=!1,o.pluginName="mesh",o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,s),c.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},c.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},c.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},c.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},c.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},c.prototype._refresh=function(){},c.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},c.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,h);for(var e=this.vertices,i=d.points,r=this.indices,n=this.indices.length,o=this.drawMode===c.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<n;s+=o){var a=2*r[s],l=2*r[s+1],u=2*r[s+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[l],i[3]=e[l+1],i[4]=e[u],i[5]=e[u+1],d.contains(h.x,h.y))return!0}return!1},n(c,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&((this._texture=t)&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return a.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=a.utils.hex2rgb(t,this.tintRgb)}}]),c}(a.Container);(i.default=s).DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":65,"../core/textures/Texture":115}],167:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),o=t("./Plane"),s=(r=o)&&r.__esModule?r:{default:r},l=10,a=function(s){function a(t,e,i,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this,t,4,4));return o._origWidth=t.orig.width,o._origHeight=t.orig.height,o._width=o._origWidth,o._height=o._origHeight,o.leftWidth=void 0!==e?e:l,o.rightWidth=void 0!==r?r:l,o.topHeight=void 0!==i?i:l,o.bottomHeight=void 0!==n?n:l,o.refresh(!0),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,s),a.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},a.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},a.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var i=this.worldTransform,r=t.resolution;t.roundPixels?e.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r|0,i.ty*r|0):e.setTransform(i.a*r,i.b*r,i.c*r,i.d*r,i.tx*r,i.ty*r);var n=this._texture.baseTexture,o=n.source,s=n.width*n.resolution,a=n.height*n.resolution;this.drawSegment(e,o,s,a,0,1,10,11),this.drawSegment(e,o,s,a,2,3,12,13),this.drawSegment(e,o,s,a,4,5,14,15),this.drawSegment(e,o,s,a,8,9,18,19),this.drawSegment(e,o,s,a,10,11,20,21),this.drawSegment(e,o,s,a,12,13,22,23),this.drawSegment(e,o,s,a,16,17,26,27),this.drawSegment(e,o,s,a,18,19,28,29),this.drawSegment(e,o,s,a,20,21,30,31)},a.prototype.drawSegment=function(t,e,i,r,n,o,s,a){var l=this.uvs,u=this.vertices,c=(l[s]-l[n])*i,h=(l[a]-l[o])*r,d=u[s]-u[n],f=u[a]-u[o];c<1&&(c=1),h<1&&(h=1),d<1&&(d=1),f<1&&(f=1),t.drawImage(e,l[n]*i,l[o]*r,c,h,u[n],u[o],d,f)},a.prototype._refresh=function(){s.prototype._refresh.call(this);var t=this.uvs,e=this._texture;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var i=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=i*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-i*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},n(a,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),a}(s.default);i.default=a},{"./Plane":168}],168:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./Mesh"),s=(r=n)&&r.__esModule?r:{default:r},o=function(n){function o(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t));return r._ready=!0,r.verticesX=e||10,r.verticesY=i||10,r.drawMode=s.default.DRAW_MODES.TRIANGLES,r.refresh(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(o,n),o.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,i=[],r=[],n=[],o=this.verticesX-1,s=this.verticesY-1,a=t.width/o,l=t.height/s,u=0;u<e;u++){var c=u%this.verticesX,h=u/this.verticesX|0;i.push(c*a,h*l),r.push(c/o,h/s)}for(var d=o*s,f=0;f<d;f++){var p=f%o,m=f/o|0,v=m*this.verticesX+p,g=m*this.verticesX+p+1,y=(m+1)*this.verticesX+p,b=(m+1)*this.verticesX+p+1;n.push(v,g,y),n.push(g,b,y)}this.vertices=new Float32Array(i),this.uvs=new Float32Array(r),this.colors=new Float32Array([]),this.indices=new Uint16Array(n),this.dirty++,this.indexDirty++,this.multiplyUvs()},o.prototype._onTextureUpdate=function(){s.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},o}(s.default);i.default=o},{"./Mesh":166}],169:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("./Mesh"),o=function(r){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,t));return i.points=e,i.vertices=new Float32Array(4*e.length),i.uvs=new Float32Array(4*e.length),i.colors=new Float32Array(2*e.length),i.indices=new Uint16Array(2*e.length),i.autoUpdate=!0,i.refresh(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,r),n.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,i=this.indices,r=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,r[0]=1,r[1]=1,i[0]=0,i[1]=1;for(var n=t.length,o=1;o<n;o++){var s=4*o,a=o/(n-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,r[s=2*o]=1,r[s+1]=1,i[s=2*o]=s,i[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},n.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],i=void 0,r=0,n=0,o=this.vertices,s=t.length,a=0;a<s;a++){var l=t[a],u=4*a;n=-((i=a<t.length-1?t[a+1]:l).x-e.x),r=i.y-e.y;var c=10*(1-a/(s-1));1<c&&(c=1);var h=Math.sqrt(r*r+n*n),d=this._texture.height/2;r/=h,n/=h,r*=d,n*=d,o[u]=l.x+r,o[u+1]=l.y+n,o[u+2]=l.x-r,o[u+3]=l.y-n,e=l}},n.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},n}(((r=n)&&r.__esModule?r:{default:r}).default);i.default=o},{"./Mesh":166}],170:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),o=t("../Mesh"),s=(r=o)&&r.__esModule?r:{default:r},a=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.renderer=t}return e.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldTransform,n=e.resolution;e.roundPixels?i.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n|0,r.ty*n|0):i.setTransform(r.a*n,r.b*n,r.c*n,r.d*n,r.tx*n,r.ty*n),e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),t.drawMode===s.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},e.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,i=0;i<e-2;i++){var r=2*i;this._renderDrawTriangle(t,r,r+2,r+4)}},e.prototype._renderTriangles=function(t){for(var e=t.indices,i=e.length,r=0;r<i;r+=3){var n=2*e[r],o=2*e[r+1],s=2*e[r+2];this._renderDrawTriangle(t,n,o,s)}},e.prototype._renderDrawTriangle=function(t,e,i,r){var n=this.renderer.context,o=t.uvs,s=t.vertices,a=t._texture;if(a.valid){var l=a.baseTexture,u=l.source,c=l.width,h=l.height,d=void 0,f=void 0,p=void 0,m=void 0,v=void 0,g=void 0;if(t.uploadUvTransform){var y=t._uvTransform.mapCoord;d=(o[e]*y.a+o[e+1]*y.c+y.tx)*l.width,f=(o[i]*y.a+o[i+1]*y.c+y.tx)*l.width,p=(o[r]*y.a+o[r+1]*y.c+y.tx)*l.width,m=(o[e]*y.b+o[e+1]*y.d+y.ty)*l.height,v=(o[i]*y.b+o[i+1]*y.d+y.ty)*l.height,g=(o[r]*y.b+o[r+1]*y.d+y.ty)*l.height}else d=o[e]*l.width,f=o[i]*l.width,p=o[r]*l.width,m=o[e+1]*l.height,v=o[i+1]*l.height,g=o[r+1]*l.height;var b=s[e],x=s[i],_=s[r],w=s[e+1],T=s[i+1],S=s[r+1],E=t.canvasPadding/this.renderer.resolution;if(0<E){var C=E/Math.abs(t.worldTransform.a),O=E/Math.abs(t.worldTransform.d),M=(b+x+_)/3,A=(w+T+S)/3,P=b-M,k=w-A,D=Math.sqrt(P*P+k*k);b=M+P/D*(D+C),w=A+k/D*(D+O),k=T-A,x=M+(P=x-M)/(D=Math.sqrt(P*P+k*k))*(D+C),T=A+k/D*(D+O),k=S-A,_=M+(P=_-M)/(D=Math.sqrt(P*P+k*k))*(D+C),S=A+k/D*(D+O)}n.save(),n.beginPath(),n.moveTo(b,w),n.lineTo(x,T),n.lineTo(_,S),n.closePath(),n.clip();var R=d*v+m*p+f*g-v*p-m*f-d*g,I=b*v+m*_+x*g-v*_-m*x-b*g,L=d*x+b*p+f*_-x*p-b*f-d*_,N=d*v*_+m*x*p+b*f*g-b*v*p-m*f*_-d*x*g,B=w*v+m*S+T*g-v*S-m*T-w*g,j=d*T+w*p+f*S-T*p-w*f-d*S,F=d*v*S+m*T*p+w*f*g-w*v*p-m*f*S-d*T*g;n.transform(I/R,B/R,L/R,j/R,N/R,F/R),n.drawImage(u,0,0,c*l.resolution,h*l.resolution,0,0,c,h),n.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.vertices,r=i.length/2;e.beginPath();for(var n=1;n<r-2;++n){var o=2*n,s=i[o],a=i[o+1],l=i[o+2],u=i[o+3],c=i[o+4],h=i[o+5];e.moveTo(s,a),e.lineTo(l,u),e.lineTo(c,h)}e.fillStyle="#FF0000",e.fill(),e.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();i.default=a,n.CanvasRenderer.registerPlugin("mesh",a)},{"../../core":65,"../Mesh":166}],171:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./Mesh");Object.defineProperty(i,"Mesh",{enumerable:!0,get:function(){return r(n).default}});var o=t("./webgl/MeshRenderer");Object.defineProperty(i,"MeshRenderer",{enumerable:!0,get:function(){return r(o).default}});var s=t("./canvas/CanvasMeshRenderer");Object.defineProperty(i,"CanvasMeshRenderer",{enumerable:!0,get:function(){return r(s).default}});var a=t("./Plane");Object.defineProperty(i,"Plane",{enumerable:!0,get:function(){return r(a).default}});var l=t("./NineSlicePlane");Object.defineProperty(i,"NineSlicePlane",{enumerable:!0,get:function(){return r(l).default}});var u=t("./Rope");Object.defineProperty(i,"Rope",{enumerable:!0,get:function(){return r(u).default}})},{"./Mesh":166,"./NineSlicePlane":167,"./Plane":168,"./Rope":169,"./canvas/CanvasMeshRenderer":170,"./webgl/MeshRenderer":172}],172:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),a=r(t("pixi-gl-core")),l=r(t("../Mesh")),u=(t("path"),s.Matrix.IDENTITY),n=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.shader=null,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new s.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},r.prototype.render=function(t){var e=this.renderer,i=e.gl,r=t._texture;if(r.valid){var n=t._glDatas[e.CONTEXT_UID];n||(e.bindVao(null),(n={shader:this.shader,vertexBuffer:a.default.GLBuffer.createVertexBuffer(i,t.vertices,i.STREAM_DRAW),uvBuffer:a.default.GLBuffer.createVertexBuffer(i,t.uvs,i.STREAM_DRAW),indexBuffer:a.default.GLBuffer.createIndexBuffer(i,t.indices,i.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty}).vao=new a.default.VertexArrayObject(i).addIndex(n.indexBuffer).addAttribute(n.vertexBuffer,n.shader.attributes.aVertexPosition,i.FLOAT,!1,8,0).addAttribute(n.uvBuffer,n.shader.attributes.aTextureCoord,i.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=n),e.bindVao(n.vao),t.dirty!==n.dirty&&(n.dirty=t.dirty,n.uvBuffer.upload(t.uvs)),t.indexDirty!==n.indexDirty&&(n.indexDirty=t.indexDirty,n.indexBuffer.upload(t.indices)),n.vertexBuffer.upload(t.vertices),e.bindShader(n.shader),n.shader.uniforms.uSampler=e.bindTexture(r),e.state.setBlendMode(s.utils.correctBlendMode(t.blendMode,r.baseTexture.premultipliedAlpha)),n.shader.uniforms.uTransform&&(t.uploadUvTransform?n.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):n.shader.uniforms.uTransform=u.toArray(!0)),n.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),n.shader.uniforms.uColor=s.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,n.shader.uniforms.uColor,r.baseTexture.premultipliedAlpha);var o=t.drawMode===l.default.DRAW_MODES.TRIANGLE_MESH?i.TRIANGLE_STRIP:i.TRIANGLES;n.vao.draw(o,t.indices.length,0)}},r}(s.ObjectRenderer);i.default=n,s.WebGLRenderer.registerPlugin("mesh",n)},{"../../core":65,"../Mesh":166,path:8,"pixi-gl-core":15}],173:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),n=t("../core/utils"),o=function(o){function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,e=arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,o.call(this));return 16384<i&&(i=16384),t<i&&(i=t),n._properties=[!1,!0,!1,!1,!1],n._maxSize=t,n._batchSize=i,n._glBuffers={},n._bufferUpdateIDs=[],n._updateID=0,n.interactiveChildren=!1,n.blendMode=a.BLEND_MODES.NORMAL,n.autoResize=r,n.roundPixels=!0,n.baseTexture=null,n.setProperties(e),n._tint=0,n.tintRgb=new Float32Array(4),n.tint=16777215,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o),s.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},s.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},s.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},s.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},s.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,r=!0,n=0,o=0,s=0,a=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var u=this.children[l];if(u.visible){var c=u._texture.frame;if(e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0)r&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx*t.resolution,i.ty*t.resolution),r=!1),n=u.anchor.x*(-c.width*u.scale.x)+u.position.x+.5,o=u.anchor.y*(-c.height*u.scale.y)+u.position.y+.5,s=c.width*u.scale.x,a=c.height*u.scale.y;else{r||(r=!0),u.displayObjectUpdateTransform();var h=u.worldTransform;t.roundPixels?e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution|0,h.ty*t.resolution|0):e.setTransform(h.a,h.b,h.c,h.d,h.tx*t.resolution,h.ty*t.resolution),n=u.anchor.x*-c.width+.5,o=u.anchor.y*-c.height+.5,s=c.width,a=c.height}var d=u._texture.baseTexture.resolution;e.drawImage(u._texture.baseTexture.source,c.x*d,c.y*d,c.width*d,c.height*d,n*t.resolution,o*t.resolution,s*t.resolution,a*t.resolution)}}}},s.prototype.destroy=function(t){if(o.prototype.destroy.call(this,t),this._buffers)for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r(s,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,n.hex2rgb)(t,this.tintRgb)}}]),s}(a.Container);i.default=o},{"../core":65,"../core/utils":125}],174:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./ParticleContainer");Object.defineProperty(i,"ParticleContainer",{enumerable:!0,get:function(){return r(n).default}});var o=t("./webgl/ParticleRenderer");Object.defineProperty(i,"ParticleRenderer",{enumerable:!0,get:function(){return r(o).default}})},{"./ParticleContainer":173,"./webgl/ParticleRenderer":176}],175:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var f=r(t("pixi-gl-core")),p=r(t("../../core/utils/createIndicesForQuads")),n=function(){function s(t,e,i,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,s),this.gl=t,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;++n){var o=e[n];o={attribute:o.attribute,size:o.size,uploadFunction:o.uploadFunction,unsignedByte:o.unsignedByte,offset:o.offset},i[n]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return s.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,p.default)(this.size),this.indexBuffer=f.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW);for(var i=this.dynamicStride=0;i<this.dynamicProperties.length;++i){var r=this.dynamicProperties[i];r.offset=e,e+=r.size,this.dynamicStride+=r.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=f.default.GLBuffer.createVertexBuffer(t,n,t.STREAM_DRAW);for(var o=0,s=this.staticStride=0;s<this.staticProperties.length;++s){var a=this.staticProperties[s];a.offset=o,o+=a.size,this.staticStride+=a.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=f.default.GLBuffer.createVertexBuffer(t,l,t.STATIC_DRAW),this.vao=new f.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var u=0;u<this.dynamicProperties.length;++u){var c=this.dynamicProperties[u];c.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,c.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*c.offset):this.vao.addAttribute(this.dynamicBuffer,c.attribute,t.FLOAT,!1,4*this.dynamicStride,4*c.offset)}for(var h=0;h<this.staticProperties.length;++h){var d=this.staticProperties[h];d.unsignedByte?this.vao.addAttribute(this.staticBuffer,d.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*d.offset):this.vao.addAttribute(this.staticBuffer,d.attribute,t.FLOAT,!1,4*this.staticStride,4*d.offset)}},s.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer.upload()},s.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer.upload()},s.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},s}();i.default=n},{"../../core/utils/createIndicesForQuads":123,"pixi-gl-core":15}],176:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var v=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),n=r(t("./ParticleShader")),a=r(t("./ParticleBuffer")),h=t("../../core/utils"),o=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.shader=null,e.indexBuffer=null,e.properties=null,e.tempMatrix=new v.Matrix,e.CONTEXT_UID=0,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new n.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},r.prototype.start=function(){this.renderer.bindShader(this.shader)},r.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,o=e.length;if(0!==o){i<o&&(o=i);var s=t._glBuffers[n.CONTEXT_UID];s||(s=t._glBuffers[n.CONTEXT_UID]=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.setBlendMode(v.utils.correctBlendMode(t.blendMode,a.premultipliedAlpha));var l=n.gl,u=t.worldTransform.copy(this.tempMatrix);u.prepend(n._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=u.toArray(!0),this.shader.uniforms.uColor=v.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.premultipliedAlpha),this.shader.uniforms.uSampler=n.bindTexture(a);for(var c=!1,h=0,d=0;h<o;h+=r,d+=1){var f=o-h;if(r<f&&(f=r),d>=s.length){if(!t.autoResize)break;s.push(this._generateOneMoreBuffer(t))}var p=s[d];p.uploadDynamic(e,h,f);var m=t._bufferUpdateIDs[h]||0;(c=c||p._updateID<m)&&(p._updateID=t._updateID,p.uploadStatic(e,h,f)),n.bindVao(p.vao),p.vao.draw(l.TRIANGLES,6*f)}}},r.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,i=[],r=t._maxSize,n=t._batchSize,o=t._properties,s=0;s<r;s+=n)i.push(new a.default(e,this.properties,o,n));return i},r.prototype._generateOneMoreBuffer=function(t){var e=this.renderer.gl,i=t._batchSize,r=t._properties;return new a.default(e,this.properties,r,i)},r.prototype.uploadVertices=function(t,e,i,r,n,o){for(var s=0,a=0,l=0,u=0,c=0;c<i;++c){var h=t[e+c],d=h._texture,f=h.scale.x,p=h.scale.y,m=d.trim,v=d.orig;m?(s=(a=m.x-h.anchor.x*v.width)+m.width,l=(u=m.y-h.anchor.y*v.height)+m.height):(s=v.width*(1-h.anchor.x),a=v.width*-h.anchor.x,l=v.height*(1-h.anchor.y),u=v.height*-h.anchor.y),r[o]=a*f,r[o+1]=u*p,r[o+n]=s*f,r[o+n+1]=u*p,r[o+2*n]=s*f,r[o+2*n+1]=l*p,r[o+3*n]=a*f,r[o+3*n+1]=l*p,o+=4*n}},r.prototype.uploadPosition=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+n]=a.x,r[o+n+1]=a.y,r[o+2*n]=a.x,r[o+2*n+1]=a.y,r[o+3*n]=a.x,r[o+3*n+1]=a.y,o+=4*n}},r.prototype.uploadRotation=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].rotation;r[o]=a,r[o+n]=a,r[o+2*n]=a,r[o+3*n]=a,o+=4*n}},r.prototype.uploadUvs=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+n]=a.x1,r[o+n+1]=a.y1,r[o+2*n]=a.x2,r[o+2*n+1]=a.y2,r[o+3*n]=a.x3,r[o+3*n+1]=a.y3):(r[o]=0,r[o+1]=0,r[o+n]=0,r[o+n+1]=0,r[o+2*n]=0,r[o+2*n+1]=0,r[o+3*n]=0,r[o+3*n+1]=0),o+=4*n}},r.prototype.uploadTint=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s],l=a._texture.baseTexture.premultipliedAlpha,u=a.alpha,c=u<1&&l?(0,h.premultiplyTint)(a._tintRGB,u):a._tintRGB+(255*u<<24);r[o]=c,r[o+n]=c,r[o+2*n]=c,r[o+3*n]=c,o+=4*n}},r.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},r}(v.ObjectRenderer);i.default=o,v.WebGLRenderer.registerPlugin("particle",o)},{"../../core":65,"../../core/utils":125,"./ParticleBuffer":175,"./ParticleShader":177}],177:[function(t,e,i){"use strict";i.__esModule=!0;var r,n=t("../../core/Shader"),o=function(e){function i(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,e.call(this,t,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i}(((r=n)&&r.__esModule?r:{default:r}).default);i.default=o},{"../../core/Shader":44}],178:[function(t,e,i){"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:0<t?1:-1})},{}],179:[function(t,e,i){"use strict";var r,n=t("object-assign"),o=(r=n)&&r.__esModule?r:{default:r};Object.assign||(Object.assign=o.default)},{"object-assign":6}],180:[function(t,e,i){"use strict";t("./Object.assign"),t("./requestAnimationFrame"),t("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":178,"./Object.assign":179,"./requestAnimationFrame":181}],181:[function(t,e,i){(function(t){"use strict";if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var e=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-e}}for(var r=Date.now(),i=["ms","moz","webkit","o"],n=0;n<i.length&&!t.requestAnimationFrame;++n){var o=i[n];t.requestAnimationFrame=t[o+"RequestAnimationFrame"],t.cancelAnimationFrame=t[o+"CancelAnimationFrame"]||t[o+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),i=16+r-e;return i<0&&(i=0),r=e,setTimeout(function(){r=Date.now(),t(performance.now())},i)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],182:[function(t,e,i){"use strict";function r(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof h.Texture){var n=t._textures[r].baseTexture;-1===e.indexOf(n)&&(e.push(n),i=!0)}return i}function n(t,e){return t instanceof h.BaseTexture&&(-1===e.indexOf(t)&&e.push(t),!0)}function o(t,e){if(t._texture&&t._texture instanceof h.Texture){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function s(t,e){return e instanceof h.Text&&(e.updateText(!0),!0)}function a(t,e){if(e instanceof h.TextStyle){var i=e.toFontString();return h.TextMetrics.measureFont(i),!0}return!1}function l(t,e){if(t instanceof h.Text){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function u(t,e){return t instanceof h.TextStyle&&(-1===e.indexOf(t)&&e.push(t),!0)}i.__esModule=!0;var c,h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../core")),d=t("./limiters/CountLimiter"),f=(c=d)&&c.__esModule?c:{default:c},p=h.ticker.shared;h.settings.UPLOADS_PER_FRAME=4;var m=function(){function i(t){var e=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,i),this.limiter=new f.default(h.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(l),this.registerFindHook(u),this.registerFindHook(r),this.registerFindHook(n),this.registerFindHook(o),this.registerUploadHook(s),this.registerUploadHook(a)}return i.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,p.addOnce(this.tick,this,h.UPDATE_PRIORITY.UTILITY))):e&&e()},i.prototype.tick=function(){setTimeout(this.delayedTick,0)},i.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)p.addOnce(this.tick,this,h.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var n=this.completes.slice(0),o=this.completes.length=0,s=n.length;o<s;o++)n[o]()}},i.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},i.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},i.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof h.Container)for(var r=t.children.length-1;0<=r;r--)this.add(t.children[r]);return this},i.prototype.destroy=function(){this.ticking&&p.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},i}();i.default=m},{"../core":65,"./limiters/CountLimiter":185}],183:[function(t,e,i){"use strict";function n(t,e){if(e instanceof o.BaseTexture){var i=e.source,r=0===i.width?t.canvas.width:Math.min(t.canvas.width,i.width),n=0===i.height?t.canvas.height:Math.min(t.canvas.height,i.height);return t.ctx.drawImage(i,0,0,r,n,0,0,t.canvas.width,t.canvas.height),!0}return!1}i.__esModule=!0;var r,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),s=t("../BasePrepare"),a=(r=s)&&r.__esModule?r:{default:r},l=16,u=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return(e.uploadHookHelper=e).canvas=document.createElement("canvas"),e.canvas.width=l,e.canvas.height=l,e.ctx=e.canvas.getContext("2d"),e.registerUploadHook(n),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r.prototype.destroy=function(){i.prototype.destroy.call(this),this.ctx=null,this.canvas=null},r}(a.default);i.default=u,o.CanvasRenderer.registerPlugin("prepare",u)},{"../../core":65,"../BasePrepare":182}],184:[function(t,e,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0;var n=t("./webgl/WebGLPrepare");Object.defineProperty(i,"webgl",{enumerable:!0,get:function(){return r(n).default}});var o=t("./canvas/CanvasPrepare");Object.defineProperty(i,"canvas",{enumerable:!0,get:function(){return r(o).default}});var s=t("./BasePrepare");Object.defineProperty(i,"BasePrepare",{enumerable:!0,get:function(){return r(s).default}});var a=t("./limiters/CountLimiter");Object.defineProperty(i,"CountLimiter",{enumerable:!0,get:function(){return r(a).default}});var l=t("./limiters/TimeLimiter");Object.defineProperty(i,"TimeLimiter",{enumerable:!0,get:function(){return r(l).default}})},{"./BasePrepare":182,"./canvas/CanvasPrepare":183,"./limiters/CountLimiter":185,"./limiters/TimeLimiter":186,"./webgl/WebGLPrepare":187}],185:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},e}();i.default=r},{}],186:[function(t,e,i){"use strict";i.__esModule=!0;var r=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();i.default=r},{}],187:[function(t,e,i){"use strict";function n(t,e){return e instanceof a.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function o(t,e){return e instanceof a.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function s(t,e){return t instanceof a.Graphics&&(e.push(t),!0)}i.__esModule=!0;var r,a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("../../core")),l=t("../BasePrepare"),u=function(i){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,i.call(this,t));return e.uploadHookHelper=e.renderer,e.registerFindHook(s),e.registerUploadHook(n),e.registerUploadHook(o),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,i),r}(((r=l)&&r.__esModule?r:{default:r}).default);i.default=u,a.WebGLRenderer.registerPlugin("prepare",u)},{"../../core":65,"../BasePrepare":182}],188:[function(g,t,y){(function(t){"use strict";function e(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}y.__esModule=!0,y.loader=y.prepare=y.particles=y.mesh=y.loaders=y.interaction=y.filters=y.extras=y.extract=y.accessibility=void 0;var i=g("./polyfill");Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(y,t,{enumerable:!0,get:function(){return i[t]}})});var r=g("./core");Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(y,t,{enumerable:!0,get:function(){return r[t]}})});var n,o=g("./deprecation"),s=(n=o)&&n.__esModule?n:{default:n},a=e(g("./accessibility")),l=e(g("./extract")),u=e(g("./extras")),c=e(g("./filters")),h=e(g("./interaction")),d=e(g("./loaders")),f=e(g("./mesh")),p=e(g("./particles")),m=e(g("./prepare"));r.utils.mixins.performMixins();var v=d.shared||null;y.accessibility=a,y.extract=l,y.extras=u,y.filters=c,y.interaction=h,y.loaders=d,y.mesh=f,y.particles=p,y.prepare=m,y.loader=v,"function"==typeof s.default&&(0,s.default)(y),t.PIXI=y}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":42,"./core":65,"./deprecation":131,"./extract":133,"./extras":141,"./filters":153,"./interaction":159,"./loaders":162,"./mesh":171,"./particles":174,"./polyfill":180,"./prepare":184}]},{},[188])(188)});saveAs=saveAs||function(a){"use strict";if(!(void 0===a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=a.document,l=function(){return a.URL||a.webkitURL||a},u=t.createElementNS("http://www.w3.org/1999/xhtml","a"),c="download"in u,h=/constructor/i.test(a.HTMLElement)||a.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),f=a.setImmediate||a.setTimeout,p=function(t){f(function(){throw t},0)},m=function(t){setTimeout(function(){"string"==typeof t?l().revokeObjectURL(t):t.remove()},4e4)},v=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},r=function(t,i,e){e||(t=v(t));var r,n=this,o="application/octet-stream"===t.type,s=function(){!function(t,e,i){for(var r=(e=[].concat(e)).length;r--;){var n=t["on"+e[r]];if("function"==typeof n)try{n.call(t,i||t)}catch(t){p(t)}}}(n,"writestart progress write writeend".split(" "))};if(n.readyState=n.INIT,c)return r=l().createObjectURL(t),void f(function(){var t,e;u.href=r,u.download=i,t=u,e=new MouseEvent("click"),t.dispatchEvent(e),s(),m(r),n.readyState=n.DONE},0);!function(){if((d||o&&h)&&a.FileReader){var e=new FileReader;return e.onloadend=function(){var t=d?e.result:e.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(t,"_blank")||(a.location.href=t),t=void 0,n.readyState=n.DONE,s()},e.readAsDataURL(t),n.readyState=n.INIT}r||(r=l().createObjectURL(t)),o?a.location.href=r:a.open(r,"_blank")||(a.location.href=r);n.readyState=n.DONE,s(),m(r)}()},e=r.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=v(t)),navigator.msSaveOrOpenBlob(t,e)}:(e.abort=function(){},e.readyState=e.INIT=0,e.WRITING=1,e.DONE=2,e.error=e.onwritestart=e.onprogress=e.onwrite=e.onabort=e.onerror=e.onwriteend=null,function(t,e,i){return new r(t,e||t.name||"download",i)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);!function(t){"use strict";var c,h=t.Uint8Array,e=t.HTMLCanvasElement,i=e&&e.prototype,l=/\s*;\s*base64\s*(?:;|$)/i,u="toDataURL";h&&(c=new h([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!e||i.toBlob&&i.toBlobHD||(i.toBlob||(i.toBlob=function(t,e){if(e||(e="image/png"),this.mozGetAsFile)t(this.mozGetAsFile("canvas",e));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(e))t(this.msToBlob());else{var i,r=Array.prototype.slice.call(arguments,1),n=this[u].apply(this,r),o=n.indexOf(","),s=n.substring(o+1),a=l.test(n.substring(0,o));Blob.fake?((i=new Blob).encoding=a?"base64":"URI",i.data=s,i.size=s.length):h&&(i=a?new Blob([function(t){for(var e,i,r=t.length,n=new h(r/4*3|0),o=0,s=0,a=[0,0],l=0,u=0;r--;)i=t.charCodeAt(o++),255!==(e=c[i-43])&&void 0!==e&&(a[1]=a[0],a[0]=i,u=u<<6|e,4==++l&&(n[s++]=u>>>16,61!==a[1]&&(n[s++]=u>>>8),61!==a[0]&&(n[s++]=u),l=0));return n}(s)],{type:e}):new Blob([decodeURIComponent(s)],{type:e})),t(i)}}),!i.toBlobHD&&i.toDataURLHD?i.toBlobHD=function(){u="toDataURLHD";var t=this.toBlob();return u="toDataURL",t}:i.toBlobHD=i.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),function(T){var t="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",e="webkitAnimationEnd mozAnimationEnd oAnimationEnd oanimationend animationend",S={en:{name:"English",gregorian:!1,months:{short:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],full:["January","February","March","April","May","June","July","August","September","October","November","December"]},weekdays:{short:["S","M","T","W","T","F","S"],full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},it:{name:"Italiano",gregorian:!0,months:{short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]},weekdays:{short:["D","L","M","M","G","V","S"],full:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]}},fr:{name:"Français",gregorian:!0,months:{short:["Jan","Fév","Mar","Avr","Mai","Jui","Jui","Aoû","Sep","Oct","Nov","Déc"],full:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"]},weekdays:{short:["D","L","M","M","J","V","S"],full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}},zh:{name:"中文",gregorian:!0,months:{short:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],full:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},weekdays:{short:["天","一","二","三","四","五","六"],full:["星期天","星期一","星期二","星期三","星期四","星期五","星期六"]}},ar:{name:"العَرَبِيَّة",gregorian:!1,months:{short:["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],full:["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},weekdays:{short:["S","M","T","W","T","F","S"],full:["الأحد","الإثنين","الثلثاء","الأربعاء","الخميس","الجمعة","السبت"]}},fa:{name:"فارسی",gregorian:!1,months:{short:["ژانویه","فووریه","مارچ","آپریل","می","جون","جولای","آگوست","سپتامبر","اکتبر","نوامبر","دسامبر"],full:["ژانویه","فووریه","مارچ","آپریل","می","جون","جولای","آگوست","سپتامبر","اکتبر","نوامبر","دسامبر"]},weekdays:{short:["S","M","T","W","T","F","S"],full:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنج شنبه","جمعه","شنبه"]}},hu:{name:"Hungarian",gregorian:!0,months:{short:["jan","feb","már","ápr","máj","jún","júl","aug","sze","okt","nov","dec"],full:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"]},weekdays:{short:["v","h","k","s","c","p","s"],full:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"]}},gr:{name:"Ελληνικά",gregorian:!0,months:{short:["Ιαν","Φεβ","Μάρ","Απρ","Μάι","Ιούν","Ιούλ","Αύγ","Σεπ","Οκτ","Νοέ","Δεκ"],full:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"]},weekdays:{short:["Κ","Δ","Τ","Τ","Π","Π","Σ"],full:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]}},es:{name:"Español",gregorian:!0,months:{short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},weekdays:{short:["D","L","M","X","J","V","S"],full:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]}},da:{name:"Dansk",gregorian:!0,months:{short:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],full:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"]},weekdays:{short:["s","m","t","o","t","f","l"],full:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]}},de:{name:"Deutsch",gregorian:!0,months:{short:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],full:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},weekdays:{short:["S","M","D","M","D","F","S"],full:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}},nl:{name:"Nederlands",gregorian:!0,months:{short:["jan","feb","maa","apr","mei","jun","jul","aug","sep","okt","nov","dec"],full:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},weekdays:{short:["z","m","d","w","d","v","z"],full:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]}},pl:{name:"język polski",gregorian:!0,months:{short:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],full:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"]},weekdays:{short:["n","p","w","ś","c","p","s"],full:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"]}},pt:{name:"Português",gregorian:!0,months:{short:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],full:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},weekdays:{short:["D","S","T","Q","Q","S","S"],full:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"]}},si:{name:"Slovenščina",gregorian:!0,months:{short:["jan","feb","mar","apr","maj","jun","jul","avg","sep","okt","nov","dec"],full:["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"]},weekdays:{short:["n","p","t","s","č","p","s"],full:["nedelja","ponedeljek","torek","sreda","četrtek","petek","sobota"]}},uk:{name:"українська мова",gregorian:!0,months:{short:["січень","лютий","березень","квітень","травень","червень","липень","серпень","вересень","жовтень","листопад","грудень"],full:["січень","лютий","березень","квітень","травень","червень","липень","серпень","вересень","жовтень","листопад","грудень"]},weekdays:{short:["н","п","в","с","ч","п","с"],full:["неділя","понеділок","вівторок","середа","четвер","п'ятниця","субота"]}},ru:{name:"русский язык",gregorian:!0,months:{short:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],full:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},weekdays:{short:["в","п","в","с","ч","п","с"],full:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]}},tr:{name:"Türkçe",gregorian:!0,months:{short:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],full:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},weekdays:{short:["P","P","S","Ç","P","C","C"],full:["Pazar","Pazartesi","Sali","Çarşamba","Perşembe","Cuma","Cumartesi"]}},ko:{name:"조선말",gregorian:!0,months:{short:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],full:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},weekdays:{short:["일","월","화","수","목","금","토"],full:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]}},fi:{name:"suomen kieli",gregorian:!0,months:{short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"]},weekdays:{short:["S","M","T","K","T","P","L"],full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"]}},vi:{name:"Tiếng việt",gregorian:!1,months:{short:["Th.01","Th.02","Th.03","Th.04","Th.05","Th.06","Th.07","Th.08","Th.09","Th.10","Th.11","Th.12"],full:["Tháng 01","Tháng 02","Tháng 03","Tháng 04","Tháng 05","Tháng 06","Tháng 07","Tháng 08","Tháng 09","Tháng 10","Tháng 11","Tháng 12"]},weekdays:{short:["CN","T2","T3","T4","T5","T6","T7"],full:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]}}},E={},C=null,O=!1,n=null,s=null,a=null,l=!1,u=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},r=function(){C&&E[C.id].fx&&!E[C.id].fxmobile&&(T(window).width()<480?C.element.removeClass("picker-fxs"):C.element.addClass("picker-fxs"))},c=function(){var t=D(p()),e=D(f());if(E[C.id].lock){if("from"==E[C.id].lock)return t<e?($(),C.element.addClass("picker-lkd"),!0):(C.element.removeClass("picker-lkd"),!1);if("to"==E[C.id].lock)return e<t?($(),C.element.addClass("picker-lkd"),!0):(C.element.removeClass("picker-lkd"),!1)}return E[C.id].disabledays?-1!=E[C.id].disabledays.indexOf(t)?($(),C.element.addClass("picker-lkd"),!0):(C.element.removeClass("picker-lkd"),!1):void 0},M=function(t){return t%1==0},A=function(t){return/(^\d{1,4}[\.|\\/|-]\d{1,2}[\.|\\/|-]\d{1,4})(\s*(?:0?[1-9]:[0-5]|1(?=[012])\d:[0-5])\d\s*[ap]m)?$/.test(t)},h=function(t){return parseInt(E[C.id].key[t].current)},d=function(t){return parseInt(E[C.id].key[t].today)},f=function(){return d("m")+"/"+d("d")+"/"+d("y")},p=function(){return h("m")+"/"+h("d")+"/"+h("y")},m=function(t,e){for(var i=[],r=E[C.id].key[t],n=r.min;n<=r.max;n++)n%e==0&&i.push(n);return i},v=function(t,e){var i=E[C.id].key[t];return e>i.max?v(t,e-i.max+(i.min-1)):e<i.min?v(t,e+1+(i.max-i.min)):e},P=function(){return S[E[C.id].lang].gregorian?[1,2,3,4,5,6,0]:[0,1,2,3,4,5,6]},g=function(t){return k('ul.pick[data-k="'+t+'"]')},y=function(t,e){ul=g(t);var i=[];return ul.find("li").each(function(){i.push(T(this).attr("value"))}),"last"==e?i[i.length-1]:i[0]},k=function(t){return C?C.element.find(t):void 0},D=function(t){return Date.parse(t)/1e3},b=function(){E[C.id].large&&(C.element.toggleClass("picker-lg"),L())},x=function(){k("ul.pick.pick-l").toggleClass("visible")},_=function(){if(!C.element.hasClass("picker-modal")){var t=C.input,e=t.offset().left+t.outerWidth()/2,i=t.offset().top+t.outerHeight();C.element.css({left:e,top:i})}},w=function(){var e=P();k(".pick-lg .pick-lg-h li").each(function(t){T(this).html(S[E[C.id].lang].weekdays.short[e[t]])}),k("ul.pick.pick-m li").each(function(){T(this).html(S[E[C.id].lang].months.short[T(this).attr("value")-1])})},R=function(){c()||(C.element.removeClass("picker-focus"),C.element.hasClass("picker-modal")&&T(".picker-modal-overlay").addClass("tohide"),C=null),O=!1},I=function(t){var e=g(t),r=E[C.id].key[t];for(E[C.id].key[t].current=r.today<r.min&&r.min||r.today,i=r.min;i<=r.max;i++){var n=i;"m"==t&&(n=S[E[C.id].lang].months.short[i-1]),"l"==t&&(n=S[Object.keys(S)[i]].name),n+="d"==t?"<span></span>":"",T("<li>",{value:i,html:n}).appendTo(e)}T("<div>",{class:"pick-arw pick-arw-s1 pick-arw-l",html:T("<i>",{class:"pick-i-l"})}).appendTo(e),T("<div>",{class:"pick-arw pick-arw-s1 pick-arw-r",html:T("<i>",{class:"pick-i-r"})}).appendTo(e),"y"==t&&(T("<div>",{class:"pick-arw pick-arw-s2 pick-arw-l",html:T("<i>",{class:"pick-i-l"})}).appendTo(e),T("<div>",{class:"pick-arw pick-arw-s2 pick-arw-r",html:T("<i>",{class:"pick-i-r"})}).appendTo(e)),B(t,h(t))},L=function(){var t=0,e=k(".pick-lg-b");e.find("li").empty().removeClass("pick-n pick-b pick-a pick-v pick-lk pick-sl pick-h").attr("data-value","");var i=(new Date(p()),new Date(p())),r=new Date(p()),n=function(t){var e=t.getMonth(),i=t.getFullYear();return[31,i%4==0&&(i%100!=0||i%400==0)?29:28,31,30,31,30,31,31,30,31,30,31][e]};r.setMonth(r.getMonth()-1),i.setDate(1);var o=i.getDay()-1;o<0&&(o=6),S[E[C.id].lang].gregorian&&(--o<0&&(o=6));for(var s=n(r)-o;s<=n(r);s++)e.find("li").eq(t).html(s).addClass("pick-b pick-n pick-h"),t++;for(s=1;s<=n(i);s++)e.find("li").eq(t).html(s).addClass("pick-n pick-v").attr("data-value",s),t++;if(e.find("li.pick-n").length<42){var a=42-e.find("li.pick-n").length;for(s=1;s<=a;s++)e.find("li").eq(t).html(s).addClass("pick-a pick-n pick-h"),t++}E[C.id].lock&&("from"===E[C.id].lock?h("y")<=d("y")&&(h("m")==d("m")?k('.pick-lg .pick-lg-b li.pick-v[data-value="'+d("d")+'"]').prevAll("li").addClass("pick-lk"):h("m")<d("m")?k(".pick-lg .pick-lg-b li").addClass("pick-lk"):h("m")>d("m")&&h("y")<d("y")&&k(".pick-lg .pick-lg-b li").addClass("pick-lk")):h("y")>=d("y")&&(h("m")==d("m")?k('.pick-lg .pick-lg-b li.pick-v[data-value="'+d("d")+'"]').nextAll("li").addClass("pick-lk"):h("m")>d("m")?k(".pick-lg .pick-lg-b li").addClass("pick-lk"):h("m")<d("m")&&h("y")>d("y")&&k(".pick-lg .pick-lg-b li").addClass("pick-lk"))),E[C.id].disabledays&&T.each(E[C.id].disabledays,function(t,e){if(e&&A(e)){var i=new Date(1e3*e);i.getMonth()+1==h("m")&&i.getFullYear()==h("y")&&k('.pick-lg .pick-lg-b li.pick-v[data-value="'+i.getDate()+'"]').addClass("pick-lk")}}),k(".pick-lg-b li.pick-v[data-value="+h("d")+"]").addClass("pick-sl")},N=function(){var e,i,t;C.element.hasClass("picker-lg")&&L(),e=h("m"),i=h("y"),t=i%4==0&&(i%100!=0||i%400==0),E[C.id].key.d.max=[31,t?29:28,31,30,31,30,31,31,30,31,30,31][e-1],h("d")>E[C.id].key.d.max&&(E[C.id].key.d.current=E[C.id].key.d.max,B("d",h("d"))),k(".pick-d li").removeClass("pick-wke").each(function(){var t=new Date(e+"/"+T(this).attr("value")+"/"+i).getDay();T(this).find("span").html(S[E[C.id].lang].weekdays.full[t]),(0==t||6==t)&&T(this).addClass("pick-wke")}),C.element.hasClass("picker-lg")&&(k(".pick-lg-b li").removeClass("pick-wke"),k(".pick-lg-b li.pick-v").each(function(){var t=new Date(e+"/"+T(this).attr("data-value")+"/"+i).getDay();(0==t||6==t)&&T(this).addClass("pick-wke")})),z()},B=function(t,e){var i,r=g(t);(r.find("li").removeClass("pick-sl pick-bfr pick-afr"),e==y(t,"last"))&&((i=r.find('li[value="'+y(t,"first")+'"]')).clone().insertAfter(r.find("li[value="+e+"]")),i.remove());e==y(t,"first")&&((i=r.find('li[value="'+y(t,"last")+'"]')).clone().insertBefore(r.find("li[value="+e+"]")),i.remove());r.find("li[value="+e+"]").addClass("pick-sl"),r.find("li.pick-sl").nextAll("li").addClass("pick-afr"),r.find("li.pick-sl").prevAll("li").addClass("pick-bfr")},j=function(t,e){var i=E[C.id].key[t];e>i.max&&("d"==t&&F("m","right"),"m"==t&&F("y","right"),e=i.min),e<i.min&&("d"==t&&F("m","left"),"m"==t&&F("y","left"),e=i.max),E[C.id].key[t].current=e,B(t,e)},F=function(t,e){var i=h(t);"right"==e?i++:i--,j(t,i)},$=function(){C.element.addClass("picker-rmbl")},U=function(t){return t<10?"0"+t:t},z=function(){if(!c()&&O){var t=h("d"),e=h("m"),i=h("y"),r=new Date(e+"/"+t+"/"+i).getDay(),n=E[C.id].format.replace(/\b(d)\b/g,U(t)).replace(/\b(m)\b/g,U(e)).replace(/\b(S)\b/g,(o=t,s=["th","st","nd","rd"],a=o%100,o+(s[(a-20)%10]||s[a]||s[0]))).replace(/\b(Y)\b/g,i).replace(/\b(U)\b/g,D(p())).replace(/\b(D)\b/g,S[E[C.id].lang].weekdays.short[r]).replace(/\b(l)\b/g,S[E[C.id].lang].weekdays.full[r]).replace(/\b(F)\b/g,S[E[C.id].lang].months.full[e-1]).replace(/\b(M)\b/g,S[E[C.id].lang].months.short[e-1]).replace(/\b(n)\b/g,e).replace(/\b(j)\b/g,t);C.input.val(n).change(),O=!1}var o,s,a};if(u())var W={i:"touchstart",m:"touchmove",e:"touchend"};else W={i:"mousedown",m:"mousemove",e:"mouseup"};var H="div.datedropper.picker-focus";T(document).on("click",function(t){C&&(C.input.is(t.target)||C.element.is(t.target)||0!==C.element.has(t.target).length||(R(),n=null))}).on(e,H+".picker-rmbl",function(){C.element.hasClass("picker-rmbl")&&T(this).removeClass("picker-rmbl")}).on(t,".picker-modal-overlay",function(){T(this).remove()}).on(W.i,H+" .pick-lg li.pick-v",function(){k(".pick-lg-b li").removeClass("pick-sl"),T(this).addClass("pick-sl"),E[C.id].key.d.current=T(this).attr("data-value"),B("d",T(this).attr("data-value")),O=!0}).on("click",H+" .pick-btn-sz",function(){b()}).on("click",H+" .pick-btn-lng",function(){x()}).on(W.i,H+" .pick-arw.pick-arw-s2",function(t){t.preventDefault(),n=null;var e,i=(T(this).closest("ul").data("k"),E[C.id].jump);e=T(this).hasClass("pick-arw-r")?h("y")+i:h("y")-i;var r=m("y",i);e>r[r.length-1]&&(e=r[0]),e<r[0]&&(e=r[r.length-1]),E[C.id].key.y.current=e,B("y",h("y")),O=!0}).on(W.i,H+" .pick-arw.pick-arw-s1",function(t){t.preventDefault(),n=null;var e=T(this).closest("ul").data("k");T(this).hasClass("pick-arw-r")?F(e,"right"):F(e,"left"),O=!0}).on(W.i,H+" ul.pick.pick-y li",function(){l=!0}).on(W.e,H+" ul.pick.pick-y li",function(){if(l&&!(E[C.id].jump>=E[C.id].key.y.max-E[C.id].key.y.min)){T(this).closest("ul").toggleClass("pick-jump");var t=function(t,e){for(var i=e[0],r=Math.abs(t-i),n=0;n<e.length;n++){var o=Math.abs(t-e[n]);o<r&&(r=o,i=e[n])}return i}(h("y"),m("y",E[C.id].jump));E[C.id].key.y.current=t,B("y",h("y")),l=!1}}).on(W.i,H+" ul.pick.pick-d li",function(){l=!0}).on(W.e,H+" ul.pick.pick-d li",function(){l&&(b(),l=!1)}).on(W.i,H+" ul.pick.pick-l li",function(){l=!0}).on(W.e,H+" ul.pick.pick-l li",function(){var t;l&&(x(),t=T(this).val(),E[C.id].lang=Object.keys(S)[t],w(),N(),l=!1)}).on(W.i,H+" ul.pick",function(t){if(n=T(this)){var e=n.data("k");s=u()?t.originalEvent.touches[0].pageY:t.pageY,a=h(e)}}).on(W.m,function(t){if(l=!1,n){t.preventDefault();var e=n.data("k");o=u()?t.originalEvent.touches[0].pageY:t.pageY,o=s-o,o=Math.round(.026*o),i=a+o;var r=v(e,i);r!=E[C.id].key[e].current&&j(e,r),O=!0}}).on(W.e,function(){n&&(a=s=n=null),C&&N()}).on(W.i,H+" .pick-submit",function(){R()}),T(window).resize(function(){C&&(_(),r())}),T.fn.dateDropper=function(){return T(this).each(function(){if(T(this).is("input")&&!T(this).hasClass("picker-input")){var t=T(this),e="datedropper-"+Object.keys(E).length;t.attr("data-id",e).addClass("picker-input").prop({type:"text",readonly:!0});var i=t.data("default-date")&&A(t.data("default-date"))?t.data("default-date"):null,r=t.data("disabled-days")?t.data("disabled-days").split(","):null,n=t.data("format")||"m/d/Y",o=!1!==t.data("fx")||t.data("fx"),s=!1===t.data("fx")?"":"picker-fxs",a=!1!==t.data("fx-mobile")||t.data("fx-mobile"),l=!1!==t.data("init-set"),u=t.data("lang")&&t.data("lang")in S?t.data("lang"):"en",c=!0===t.data("large-mode"),h=!0===t.data("large-default")&&!0===c?"picker-lg":"",d=("from"==t.data("lock")||"to"==t.data("lock"))&&t.data("lock"),f=t.data("jump")&&M(t.data("jump"))?t.data("jump"):10,p=t.data("max-year")&&M(t.data("max-year"))?t.data("max-year"):(new Date).getFullYear(),m=t.data("min-year")&&M(t.data("min-year"))?t.data("min-year"):1970,v=!0===t.data("modal")?"picker-modal":"",g=t.data("theme")||"primary",y=!0===t.data("translate-mode");if(r&&T.each(r,function(t,e){e&&A(e)&&(r[t]=D(e))}),E[e]={disabledays:r,format:n,fx:o,fxmobile:a,lang:u,large:c,lock:d,jump:f,key:{m:{min:1,max:12,current:1,today:(new Date).getMonth()+1},d:{min:1,max:31,current:1,today:(new Date).getDate()},y:{min:m,max:p,current:m,today:(new Date).getFullYear()},l:{min:0,max:Object.keys(S).length-1,current:0,today:0}},translate:y},i){var b=i.match(/\d+/g);T.each(b,function(t,e){b[t]=parseInt(e)}),E[e].key.m.today=b[0]&&b[0]<=12?b[0]:E[e].key.m.today,E[e].key.d.today=b[1]&&b[1]<=31?b[1]:E[e].key.d.today,E[e].key.y.today=b[2]?b[2]:E[e].key.y.today,E[e].key.y.today>E[e].key.y.max&&(E[e].key.y.max=E[e].key.y.today),E[e].key.y.today<E[e].key.y.min&&(E[e].key.y.min=E[e].key.y.today)}for(var x in T("<div>",{class:"datedropper "+v+" "+g+" "+s+" "+h,id:e,html:T("<div>",{class:"picker"})}).appendTo("body"),C={id:e,input:t,element:T("#"+e)},E[e].key)T("<ul>",{class:"pick pick-"+x,"data-k":x}).appendTo(k(".picker")),I(x);if(E[e].large){T("<div>",{class:"pick-lg"}).insertBefore(k(".pick-d")),T('<ul class="pick-lg-h"></ul><ul class="pick-lg-b"></ul>').appendTo(k(".pick-lg"));for(var _=P(),w=0;w<7;w++)T("<li>",{html:S[E[C.id].lang].weekdays.short[_[w]]}).appendTo(k(".pick-lg .pick-lg-h"));for(w=0;w<42;w++)T("<li>").appendTo(k(".pick-lg .pick-lg-b"))}T("<div>",{class:"pick-btns"}).appendTo(k(".picker")),T("<div>",{class:"pick-submit"}).appendTo(k(".pick-btns")),E[C.id].translate&&T("<div>",{class:"pick-btn pick-btn-lng"}).appendTo(k(".pick-btns")),E[C.id].large&&T("<div>",{class:"pick-btn pick-btn-sz"}).appendTo(k(".pick-btns")),("Y"==n||"m"==n)&&(k(".pick-d,.pick-btn-sz").hide(),C.element.addClass("picker-tiny"),"Y"==n&&k(".pick-m,.pick-btn-lng").hide(),"m"==n&&k(".pick-y").hide()),l&&(O=!0,z()),C=null}}).focus(function(t){t.preventDefault(),T(this).blur(),C&&R(),C={id:T(this).data("id"),input:T(this),element:T("#"+T(this).data("id"))},r(),_(),N(),C.element.addClass("picker-focus"),C.element.hasClass("picker-modal")&&T("body").append('<div class="picker-modal-overlay"></div>')})}}(jQuery),function(){"use strict";function e(t){var e=r(i,t||{});this.create(e),this.add()}var i={ellipsis:"…",debounce:0,responsive:!0,className:".clamp",lines:2,portrait:null,break_word:!0},n=0,o=!!window.requestAnimationFrame,s=function(t,e){var i,r=n+=1;i=r,e.setAttribute("data-ellipsis-id",i),t[r]=t[r]||{},t[r].element=e,t[r].innerHTML=e.innerHTML},a=function(i){return Object.keys(i).map(function(t,e){return i[t].element})},r=function(t,e){var i={};for(var r in t)i[r]=t[r];for(var n in e)i[n]=e[n];return i};e.prototype={conf:{},prop:{},lines:{},temp:null,listener:null,create:function(t){if(this.conf=t,this.lines={get current(){return t.portrait&&window.innerHeight>window.innerWidth?t.portrait:t.lines}},this.conf.responsive){this.temp={};var e,i=this.conf.debounce;if(o&&!i){this._isScheduled=!1;var r=this;e=function(t){r._isScheduled||(r._isScheduled=!0,window.requestAnimationFrame(function(){r._isScheduled=!1,r.add(a(r.temp))}))}}else{var n;i=i||16,e=function(t){clearTimeout(n),n=setTimeout(function(){this.add(a(this.temp))}.bind(this),i)}}this.listener=e.bind(this),window.addEventListener("resize",this.listener,!1),window.removeEventListener("beforeunload",this.listener,!1)}},destroy:function(){this.listener&&window.removeEventListener("resize",this.listener,!1)},createProp:function(e){this.prop={get height(){var t=e.getBoundingClientRect();return parseInt(t.bottom-t.top,10)},get lineheight(){var t=getComputedStyle(e).getPropertyValue("line-height");return-1<String("normal|initial|inherit").indexOf(t)&&(t=parseInt(getComputedStyle(e).getPropertyValue("font-size"),10)+2),parseInt(t,10)}}},add:function(t){if(!t&&this.conf.className&&(t=document.querySelectorAll(this.conf.className)),t)if(t.length)for(var e=0;e<t.length;e++)this.addElement(t[e]);else void 0===t.length&&this.addElement(t)},addElement:function(t){if(this.conf.responsive){var e=(i=this.temp,r=t,i?i[(n=r,n.getAttribute("data-ellipsis-id"))]:null);e?t.innerHTML!==e.innerHTML&&(t.innerHTML=e.innerHTML):s(this.temp,t)}var i,r,n;this.createProp(t),this.isNotCorrect()&&(t.childNodes.length&&1<t.childNodes.length?this.handleChildren(t):t.childNodes.length&&1===t.childNodes.length&&3===t.childNodes[0].nodeType&&this.simpleText(t))},breakWord:function(t,e,i){var r=t.split(" ");if(r.pop(),i&&r.pop(),!e)return r[r.length-1]&&(r[r.length-1]=r[r.length-1].replace(/(,$)/g,"").replace(/(\.$)/g,"")),r.push(this.conf.ellipsis),r.join(" ");if(r[r.length-1])return r[r.length-1]=r[r.length-1].replace(/(,$)/g,"").replace(/(\.$)/g,""),r.push(this.conf.ellipsis),[r.join(" "),e];if(!r[r.length-1]&&e){var n=" "+e.trim().replace(/(,$)/g,"").replace(/(\.$)/g,"")+" ";return r.push(this.conf.ellipsis),[r.join(" "),n]}},simpleText:function(t){for(var e=t.childNodes[0].nodeValue;this.prop.height>this.prop.lineheight*this.lines.current;)t.childNodes[0].nodeValue=e.slice(0,-1),e=t.childNodes[0].nodeValue;this.conf.break_word?(t.childNodes[0].nodeValue=e.slice(0,-this.conf.ellipsis.length)+this.conf.ellipsis,this.isNotCorrect()&&(t.childNodes[0].nodeValue=" "+t.childNodes[0].nodeValue.slice(0,-(this.conf.ellipsis.length+1)).trim().slice(0,-this.conf.ellipsis.length)+this.conf.ellipsis)):(t.childNodes[0].nodeValue=this.breakWord(t.childNodes[0].nodeValue),this.isNotCorrect()&&(t.childNodes[0].nodeValue=this.breakWord(t.childNodes[0].nodeValue,null,!0)))},isNotCorrect:function(){return this.prop.height>this.prop.lineheight*this.lines.current},processBreak:function(t,e,i){var r=this.breakWord(t.innerText||t.nodeValue,e.innerText||e.nodeValue,i);t.innerText?t.innerText=r[0]:t.nodeValue=r[0],e.innerText?e.innerText=r[1]:e.nodeValue=r[1]},handleChildren:function(t){for(var e,i=t.childNodes,r=i.length-1;0<=r;r--){var n;if(8!==i[r].nodeType){if(3===i[r].nodeType?(n=i[r].nodeValue,i[r].nodeValue=""):(n=getComputedStyle(i[r]).getPropertyValue("display"),i[r].style.display="none"),this.prop.height<=this.prop.lineheight*this.lines.current){if(3===i[r].nodeType){for(i[r].nodeValue=n,e=i[r].nodeValue;this.prop.height>this.prop.lineheight*this.lines.current;)i[r].nodeValue=e.slice(0,-1),e=i[r].nodeValue;if(this.conf.break_word){if(i[r].nodeValue=e.slice(0,-this.conf.ellipsis.length)+this.conf.ellipsis,this.isNotCorrect()){if(i[r].nodeValue=" "+i[r].nodeValue.slice(0,-this.conf.ellipsis.length).trim().slice(0,-this.conf.ellipsis.length),!(1<i[r].nodeValue.length))continue;i[r].nodeValue=i[r].nodeValue.slice(0,-this.conf.ellipsis.length)+this.conf.ellipsis}}else{if(!i[r].innerText&&!i[r].nodeValue)continue;if(this.processBreak(i[r],i[r-1]),this.isNotCorrect()&&(this.processBreak(i[r],i[r-1],!0),this.isNotCorrect())){t.removeChild(i[r]);continue}}}else{for(i[r].style.display=n,e=i[r].innerText;this.prop.height>this.prop.lineheight*this.lines.current;)i[r].innerText=e.slice(0,-1),e=i[r].innerText;if(this.conf.break_word){if(i[r].innerText=e.slice(0,-this.conf.ellipsis.length)+this.conf.ellipsis,this.isNotCorrect()){if(i[r].innerText=" "+i[r].innerText.slice(0,-this.conf.ellipsis.length).trim().slice(0,-this.conf.ellipsis.length),!(1<i[r].innerText.length))continue;i[r].innerText=i[r].innerText.slice(0,-this.conf.ellipsis.length)+this.conf.ellipsis}}else{if(!i[r].innerText&&!i[r].nodeValue)continue;if(this.processBreak(i[r],i[r-1]),this.isNotCorrect()&&(this.processBreak(i[r],i[r-1],!0),this.isNotCorrect())){t.removeChild(i[r]);continue}}}break}t.removeChild(i[r])}}}};var t=function(t){return new e(t)};"function"==typeof define&&define.amd&&define("ellipsis",[],function(){return t}),self.Ellipsis=t}(),function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.noUiSlider=t()}(function(){"use strict";function K(t){t.preventDefault()}function n(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function Q(t,e,i){0<i&&(J(t,e),setTimeout(function(){tt(t,e)},i))}function Z(t){return Array.isArray(t)?t:[t]}function e(t){var e=(t=String(t)).split(".");return 1<e.length?e[1].length:0}function J(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function tt(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function et(t){var e=void 0!==window.pageXOffset,i="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop}}function c(t,e){return 100/(e-t)}function h(t,e){return 100*e/(t[1]-t[0])}function d(t,e){for(var i=1;t>=e[i];)i+=1;return i}function i(t,e,i){if(i>=t.slice(-1)[0])return 100;var r,n,o,s,a,l,u=d(i,t);return r=t[u-1],n=t[u],o=e[u-1],s=e[u],o+(l=i,h(a=[r,n],a[0]<0?l+Math.abs(a[0]):l-a[0])/c(o,s))}function r(t,e,i,r){if(100===r)return r;var n,o,s,a,l=d(r,t);return i?(n=t[l-1],((o=t[l])-n)/2<r-n?o:n):e[l-1]?t[l-1]+(s=r-t[l-1],a=e[l-1],Math.round(s/a)*a):r}function o(t,e,i){var r;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider ("+rt+"): 'range' contains invalid value.");if(!n(r="min"===t?0:"max"===t?100:parseFloat(t))||!n(e[0]))throw new Error("noUiSlider ("+rt+"): 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(e[0]),r?i.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(i.xSteps[0]=e[1]),i.xHighestCompleteStep.push(0)}function s(t,e,i){if(!e)return!0;i.xSteps[t]=h([i.xVal[t],i.xVal[t+1]],e)/c(i.xPct[t],i.xPct[t+1]);var r=(i.xVal[t+1]-i.xVal[t])/i.xNumSteps[t],n=Math.ceil(Number(r.toFixed(3))-1),o=i.xVal[t]+i.xNumSteps[t]*n;i.xHighestCompleteStep[t]=o}function a(t,e,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=e;var r,n=[];for(r in t)t.hasOwnProperty(r)&&n.push([t[r],r]);for(n.sort(n.length&&"object"==typeof n[0][0]?function(t,e){return t[0][0]-e[0][0]}:function(t,e){return t[0]-e[0]}),r=0;r<n.length;r++)o(n[r][1],n[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)s(r,this.xNumSteps[r],this)}function l(t){if("object"==typeof(e=t)&&"function"==typeof e.to&&"function"==typeof e.from)return!0;var e;throw new Error("noUiSlider ("+rt+"): 'format' requires 'to' and 'from' methods.")}function u(t,e){if(!n(e))throw new Error("noUiSlider ("+rt+"): 'step' is not numeric.");t.singleStep=e}function f(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider ("+rt+"): 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider ("+rt+"): Missing 'min' or 'max' in 'range'.");if(e.min===e.max)throw new Error("noUiSlider ("+rt+"): 'range' 'min' and 'max' cannot be equal.");t.spectrum=new a(e,t.snap,t.singleStep)}function p(t,e){if(e=Z(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider ("+rt+"): 'start' option is incorrect.");t.handles=e.length,t.start=e}function m(t,e){if("boolean"!=typeof(t.snap=e))throw new Error("noUiSlider ("+rt+"): 'snap' option must be a boolean.")}function v(t,e){if("boolean"!=typeof(t.animate=e))throw new Error("noUiSlider ("+rt+"): 'animate' option must be a boolean.")}function g(t,e){if("number"!=typeof(t.animationDuration=e))throw new Error("noUiSlider ("+rt+"): 'animationDuration' option must be a number.")}function y(t,e){var i,r=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(i=1;i<t.handles;i++)r.push(e);r.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider ("+rt+"): 'connect' option doesn't match handle count.");r=e}t.connect=r}function b(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider ("+rt+"): 'orientation' option is invalid.")}}function x(t,e){if(!n(e))throw new Error("noUiSlider ("+rt+"): 'margin' option must be numeric.");if(0!==e&&(t.margin=t.spectrum.getMargin(e),!t.margin))throw new Error("noUiSlider ("+rt+"): 'margin' option is only supported on linear sliders.")}function _(t,e){if(!n(e))throw new Error("noUiSlider ("+rt+"): 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit||t.handles<2)throw new Error("noUiSlider ("+rt+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function w(t,e){if(!n(e))throw new Error("noUiSlider ("+rt+"): 'padding' option must be numeric.");if(0!==e){if(t.padding=t.spectrum.getMargin(e),!t.padding)throw new Error("noUiSlider ("+rt+"): 'padding' option is only supported on linear sliders.");if(t.padding<0)throw new Error("noUiSlider ("+rt+"): 'padding' option must be a positive number.");if(50<=t.padding)throw new Error("noUiSlider ("+rt+"): 'padding' option must be less than half the range.")}}function T(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider ("+rt+"): 'direction' option was not recognized.")}}function S(t,e){if("string"!=typeof e)throw new Error("noUiSlider ("+rt+"): 'behaviour' must be a string containing options.");var i=0<=e.indexOf("tap"),r=0<=e.indexOf("drag"),n=0<=e.indexOf("fixed"),o=0<=e.indexOf("snap"),s=0<=e.indexOf("hover");if(n){if(2!==t.handles)throw new Error("noUiSlider ("+rt+"): 'fixed' behaviour must be used with 2 handles");x(t,t.start[1]-t.start[0])}t.events={tap:i||o,drag:r,fixed:n,snap:o,hover:s}}function E(t,e){if(!1!==e)if(!0===e){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(!0)}else{if(t.tooltips=Z(e),t.tooltips.length!==t.handles)throw new Error("noUiSlider ("+rt+"): must pass a formatter for all handles.");t.tooltips.forEach(function(t){if("boolean"!=typeof t&&("object"!=typeof t||"function"!=typeof t.to))throw new Error("noUiSlider ("+rt+"): 'tooltips' must be passed a formatter or 'false'.")})}}function C(t,e){l(t.ariaFormat=e)}function O(t,e){l(t.format=e)}function M(t,e){if(void 0!==e&&"string"!=typeof e&&!1!==e)throw new Error("noUiSlider ("+rt+"): 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function A(t,e){if(void 0!==e&&"object"!=typeof e)throw new Error("noUiSlider ("+rt+"): 'cssClasses' must be an object.");if("string"==typeof t.cssPrefix)for(var i in t.cssClasses={},e)e.hasOwnProperty(i)&&(t.cssClasses[i]=t.cssPrefix+e[i]);else t.cssClasses=e}function P(t,e){if(!0!==e&&!1!==e)throw new Error("noUiSlider ("+rt+"): 'useRequestAnimationFrame' option should be true (default) or false.");t.useRequestAnimationFrame=e}function it(e){var i={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:D,format:D},r={step:{r:!1,t:u},start:{r:!0,t:p},connect:{r:!0,t:y},direction:{r:!0,t:T},snap:{r:!1,t:m},animate:{r:!1,t:v},animationDuration:{r:!1,t:g},range:{r:!0,t:f},orientation:{r:!1,t:b},margin:{r:!1,t:x},limit:{r:!1,t:_},padding:{r:!1,t:w},behaviour:{r:!0,t:S},ariaFormat:{r:!1,t:C},format:{r:!1,t:O},tooltips:{r:!1,t:E},cssPrefix:{r:!1,t:M},cssClasses:{r:!1,t:A},useRequestAnimationFrame:{r:!1,t:P}},n={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(r).forEach(function(t){if(void 0===e[t]&&void 0===n[t]){if(r[t].r)throw new Error("noUiSlider ("+rt+"): '"+t+"' is required.");return!0}r[t].t(i,void 0===e[t]?n[t]:e[t])}),i.pips=e.pips;var t=[["left","top"],["right","bottom"]];return i.style=t[i.dir][i.ort],i.styleOposite=t[i.dir?0:1][i.ort],i}function k(t,h,o){function d(t,e){var i=Y.createElement("div");return e&&J(i,e),t.appendChild(i),i}function s(t,e){return!!e&&d(t,h.cssClasses.connect)}function e(t,e){return!!h.tooltips[e]&&d(t.firstChild,h.cssClasses.tooltip)}function c(e,r,n){function o(t,e){var i=e===h.cssClasses.value,r=i?a:l;return e+" "+(i?u:c)[h.ort]+" "+r[t]}var s=Y.createElement("div"),a=[h.cssClasses.valueNormal,h.cssClasses.valueLarge,h.cssClasses.valueSub],l=[h.cssClasses.markerNormal,h.cssClasses.markerLarge,h.cssClasses.markerSub],u=[h.cssClasses.valueHorizontal,h.cssClasses.valueVertical],c=[h.cssClasses.markerHorizontal,h.cssClasses.markerVertical];return J(s,h.cssClasses.pips),J(s,0===h.ort?h.cssClasses.pipsHorizontal:h.cssClasses.pipsVertical),Object.keys(e).forEach(function(t){!function(t,e){e[1]=e[1]&&r?r(e[0],e[1]):e[1];var i=d(s,!1);i.className=o(e[1],h.cssClasses.marker),i.style[h.style]=t+"%",e[1]&&((i=d(s,!1)).className=o(e[1],h.cssClasses.value),i.style[h.style]=t+"%",i.innerText=n.to(e[0]))}(t,e[t])}),s}function x(){var t;R&&((t=R).parentElement.removeChild(t),R=null)}function a(t){x();var f,p,m,e,v,i,r,g,y,b,n=t.mode,o=t.density||1,s=t.filter||!1,a=function(t,e,i){if("range"===t||"steps"===t)return W.xVal;if("count"===t){if(!e)throw new Error("noUiSlider ("+rt+"): 'values' required for mode 'count'.");var r,n=100/(e-1),o=0;for(e=[];(r=o++*n)<=100;)e.push(r);t="positions"}return"positions"===t?e.map(function(t){return W.fromStepping(i?W.getStep(t):t)}):"values"===t?i?e.map(function(t){return W.fromStepping(W.getStep(W.toStepping(t)))}):e:void 0}(n,t.values||!1,t.stepped||!1),l=(f=o,p=n,m=a,v={},i=W.xVal[0],r=W.xVal[W.xVal.length-1],y=g=!1,b=0,e=m.slice().sort(function(t,e){return t-e}),(m=e.filter(function(t){return!this[t]&&(this[t]=!0)},{}))[0]!==i&&(m.unshift(i),g=!0),m[m.length-1]!==r&&(m.push(r),y=!0),m.forEach(function(t,e){var i,r,n,o,s,a,l,u,c,h=t,d=m[e+1];if("steps"===p&&(i=W.xNumSteps[e]),i||(i=d-h),!1!==h&&void 0!==d)for(i=Math.max(i,1e-7),r=h;r<=d;r=(r+i).toFixed(7)/1){for(l=(s=(o=W.toStepping(r))-b)/f,c=s/(u=Math.round(l)),n=1;n<=u;n+=1)v[(b+n*c).toFixed(5)]=["x",0];a=-1<m.indexOf(r)?1:"steps"===p?2:0,!e&&g&&(a=0),r===d&&y||(v[o.toFixed(5)]=[r,a]),b=o}}),v),u=t.format||{to:Math.round};return R=F.appendChild(c(l,s,u))}function l(){var t=A.getBoundingClientRect(),e="offset"+["Width","Height"][h.ort];return 0===h.ort?t.width||A[e]:t.height||A[e]}function u(r,e,n,o){var i=function(t){return!F.hasAttribute("disabled")&&(e=F,i=h.cssClasses.tap,(e.classList?!e.classList.contains(i):!new RegExp("\\b"+i+"\\b").test(e.className))&&(!!(t=function(t,e){var i,r,n=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),s=0===t.type.indexOf("pointer");if(0===t.type.indexOf("MSPointer")&&(s=!0),n){if(1<t.touches.length)return!1;i=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY}return e=e||et(Y),(o||s)&&(i=t.clientX+e.x,r=t.clientY+e.y),t.pageOffset=e,t.points=[i,r],t.cursor=o||s,t}(t,o.pageOffset))&&(!(r===B.start&&void 0!==t.buttons&&1<t.buttons)&&((!o.hover||!t.buttons)&&(j||t.preventDefault(),t.calcPoint=t.points[h.ort],void n(t,o))))));var e,i},s=[];return r.split(" ").forEach(function(t){e.addEventListener(t,i,!!j&&{passive:!0}),s.push([t,i])}),s}function f(t){var e,i,r,n,o,s,a=100*(t-(e=A,i=h.ort,r=e.getBoundingClientRect(),n=e.ownerDocument,o=n.documentElement,s=et(n),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(s.x=0),i?r.top+s.y-o.clientTop:r.left+s.x-o.clientLeft))/l();return h.dir?100-a:a}function r(t,r,i,e){var n=i.slice(),o=[!t,t],s=[t,!t];e=e.slice(),t&&e.reverse(),1<e.length?e.forEach(function(t,e){var i=b(n,t,n[t]+r,o[e],s[e],!1);!1===i?r=0:(r=i-n[t],n[t]=i)}):o=s=[!0];var a=!1;e.forEach(function(t,e){a=T(t,i[t]+r,o[e],s[e])||a}),a&&e.forEach(function(t){p("update",t),p("slide",t)})}function p(i,r,n){Object.keys(X).forEach(function(t){var e=t.split(".")[0];i===e&&X[t].forEach(function(t){t.call(D,H.map(h.format.to),r,H.slice(),n||!1,$.slice())})})}function m(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&g(t,e)}function v(t,e){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==e.buttonsProperty)return g(t,e);var i=(h.dir?-1:1)*(t.calcPoint-e.startCalcPoint);r(0<i,100*i/e.baseSize,e.locations,e.handleNumbers)}function g(t,e){z&&(tt(z,h.cssClasses.active),z=!1),t.cursor&&(V.style.cursor="",V.removeEventListener("selectstart",K)),G.forEach(function(t){q.removeEventListener(t[0],t[1])}),tt(F,h.cssClasses.drag),w(),e.handleNumbers.forEach(function(t){p("change",t),p("set",t),p("end",t)})}function y(t,e){if(1===e.handleNumbers.length){var i=P[e.handleNumbers[0]];if(i.hasAttribute("disabled"))return!1;J(z=i.children[0],h.cssClasses.active)}t.stopPropagation();var r=u(B.move,q,v,{startCalcPoint:t.calcPoint,baseSize:l(),pageOffset:t.pageOffset,handleNumbers:e.handleNumbers,buttonsProperty:t.buttons,locations:$.slice()}),n=u(B.end,q,g,{handleNumbers:e.handleNumbers}),o=u("mouseout",q,m,{handleNumbers:e.handleNumbers});G=r.concat(n,o),t.cursor&&(V.style.cursor=getComputedStyle(t.target).cursor,1<P.length&&J(F,h.cssClasses.drag),V.addEventListener("selectstart",K,!1)),e.handleNumbers.forEach(function(t){p("start",t)})}function i(t){t.stopPropagation();var r,n,o,e=f(t.calcPoint),i=(r=e,o=!(n=100),P.forEach(function(t,e){if(!t.hasAttribute("disabled")){var i=Math.abs($[e]-r);i<n&&(o=e,n=i)}}),o);return!1!==i&&(h.events.snap||Q(F,h.cssClasses.tap,h.animationDuration),T(i,e,!0,!0),w(),p("slide",i,!0),p("update",i,!0),p("change",i,!0),p("set",i,!0),void(h.events.snap&&y(t,{handleNumbers:[i]})))}function n(t){var e=f(t.calcPoint),i=W.getStep(e),r=W.fromStepping(i);Object.keys(X).forEach(function(t){"hover"===t.split(".")[0]&&X[t].forEach(function(t){t.call(D,r)})})}function b(t,e,i,r,n,o){return 1<P.length&&(r&&0<e&&(i=Math.max(i,t[e-1]+h.margin)),n&&e<P.length-1&&(i=Math.min(i,t[e+1]-h.margin))),1<P.length&&h.limit&&(r&&0<e&&(i=Math.min(i,t[e-1]+h.limit)),n&&e<P.length-1&&(i=Math.max(i,t[e+1]-h.limit))),h.padding&&(0===e&&(i=Math.max(i,h.padding)),e===P.length-1&&(i=Math.min(i,100-h.padding))),i=W.getStep(i),s=i,!((i=Math.max(Math.min(s,100),0))===t[e]&&!o)&&i;var s}function _(t){return t+"%"}function w(){U.forEach(function(t){var e=50<$[t]?-1:1,i=3+(P.length+e*t);P[t].childNodes[0].style.zIndex=i})}function T(t,e,i,r){return!1!==(e=b($,t,e,i,r,!1))&&(function(t,e){$[t]=e,H[t]=W.fromStepping(e);var i=function(){P[t].style[h.style]=_(e),S(t),S(t+1)};window.requestAnimationFrame&&h.useRequestAnimationFrame?window.requestAnimationFrame(i):i()}(t,e),!0)}function S(t){if(k[t]){var e=0,i=100;0!==t&&(e=$[t-1]),t!==k.length-1&&(i=$[t]),k[t].style[h.style]=_(e),k[t].style[h.styleOposite]=_(100-i)}}function E(t,e){null!==t&&!1!==t&&("number"==typeof t&&(t=String(t)),!1===(t=h.format.from(t))||isNaN(t)||T(e,W.toStepping(t),!1,!1))}function C(t,e){var i=Z(t),r=void 0===$[0];e=void 0===e||!!e,i.forEach(E),h.animate&&!r&&Q(F,h.cssClasses.tap,h.animationDuration),U.forEach(function(t){T(t,$[t],!0,!1)}),w(),U.forEach(function(t){p("update",t),null!==i[t]&&e&&p("set",t)})}function O(){var t=H.map(h.format.to);return 1===t.length?t[0]:t}function M(t,e){X[t]=X[t]||[],X[t].push(e),"update"===t.split(".")[0]&&P.forEach(function(t,e){p("update",e)})}var A,P,k,D,R,I,L,N,B=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},j=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),F=t,$=[],U=[],z=!1,W=h.spectrum,H=[],X={},G=null,Y=t.ownerDocument,q=Y.documentElement,V=Y.body;if(F.noUiSlider)throw new Error("noUiSlider ("+rt+"): Slider was already initialized.");return J(N=F,h.cssClasses.target),0===h.dir?J(N,h.cssClasses.ltr):J(N,h.cssClasses.rtl),0===h.ort?J(N,h.cssClasses.horizontal):J(N,h.cssClasses.vertical),A=d(N,h.cssClasses.base),function(t,e){P=[],(k=[]).push(s(e,t[0]));for(var i=0;i<h.handles;i++)P.push((r=i,o=void 0,n=d(e,h.cssClasses.origin),(o=d(n,h.cssClasses.handle)).setAttribute("data-handle",r),o.setAttribute("tabindex","0"),o.setAttribute("role","slider"),o.setAttribute("aria-orientation",h.ort?"vertical":"horizontal"),0===r?J(o,h.cssClasses.handleLower):r===h.handles-1&&J(o,h.cssClasses.handleUpper),n)),U[i]=i,k.push(s(e,t[i+1]));var r,n,o}(h.connect,A),D={destroy:function(){for(var t in h.cssClasses)h.cssClasses.hasOwnProperty(t)&&tt(F,h.cssClasses[t]);for(;F.firstChild;)F.removeChild(F.firstChild);delete F.noUiSlider},steps:function(){return $.map(function(t,e){var i=W.getNearbySteps(t),r=H[e],n=i.thisStep.step,o=null;!1!==n&&r+n>i.stepAfter.startValue&&(n=i.stepAfter.startValue-r),o=r>i.thisStep.startValue?i.thisStep.step:!1!==i.stepBefore.step&&r-i.stepBefore.highestStep,100===t?n=null:0===t&&(o=null);var s=W.countStepDecimals();return null!==n&&!1!==n&&(n=Number(n.toFixed(s))),null!==o&&!1!==o&&(o=Number(o.toFixed(s))),[o,n]})},on:M,off:function(t){var r=t&&t.split(".")[0],n=r&&t.substring(r.length);Object.keys(X).forEach(function(t){var e=t.split(".")[0],i=t.substring(e.length);r&&r!==e||n&&n!==i||delete X[t]})},get:O,set:C,reset:function(t){C(h.start,t)},__moveHandles:function(t,e,i){r(t,e,$,i)},options:o,updateOptions:function(e,t){var i=O(),r=["margin","limit","padding","range","animate","snap","step","format"];r.forEach(function(t){void 0!==e[t]&&(o[t]=e[t])});var n=it(o);r.forEach(function(t){void 0!==e[t]&&(h[t]=n[t])}),W=n.spectrum,h.margin=n.margin,h.limit=n.limit,h.padding=n.padding,h.pips&&a(h.pips),$=[],C(e.start||i,t)},target:F,removePips:x,pips:a},(L=h.events).fixed||P.forEach(function(t,e){u(B.start,t.children[0],y,{handleNumbers:[e]})}),L.tap&&u(B.start,A,i,{}),L.hover&&u(B.move,A,n,{hover:!0}),L.drag&&k.forEach(function(t,e){if(!1!==t&&0!==e&&e!==k.length-1){var i=P[e-1],r=P[e],n=[t];J(t,h.cssClasses.draggable),L.fixed&&(n.push(i.children[0]),n.push(r.children[0])),n.forEach(function(t){u(B.start,t,y,{handles:[i,r],handleNumbers:[e-1,e]})})}}),C(h.start),h.pips&&a(h.pips),h.tooltips&&(I=P.map(e),M("update",function(t,e,i){if(I[e]){var r=t[e];!0!==h.tooltips[e]&&(r=h.tooltips[e].to(i[e])),I[e].innerHTML=r}})),M("update",function(t,e,s,i,a){U.forEach(function(t){var e=P[t],i=b($,t,0,!0,!0,!0),r=b($,t,100,!0,!0,!0),n=a[t],o=h.ariaFormat.to(s[t]);e.children[0].setAttribute("aria-valuemin",i.toFixed(1)),e.children[0].setAttribute("aria-valuemax",r.toFixed(1)),e.children[0].setAttribute("aria-valuenow",n.toFixed(1)),e.children[0].setAttribute("aria-valuetext",o)})}),D}var rt="10.0.0";a.prototype.getMargin=function(t){var e=this.xNumSteps[0];if(e&&t/e%1!=0)throw new Error("noUiSlider ("+rt+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&h(this.xVal,t)},a.prototype.toStepping=function(t){return i(this.xVal,this.xPct,t)},a.prototype.fromStepping=function(t){return function(t,e,i){if(100<=i)return t.slice(-1)[0];var r,n,o,s,a,l=d(i,e);return r=t[l-1],n=t[l],o=e[l-1],s=e[l],a=[r,n],(i-o)*c(o,s)*(a[1]-a[0])/100+a[0]}(this.xVal,this.xPct,t)},a.prototype.getStep=function(t){return r(this.xPct,this.xSteps,this.snap,t)},a.prototype.getNearbySteps=function(t){var e=d(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e-0],step:this.xNumSteps[e-0],highestStep:this.xHighestCompleteStep[e-0]}}},a.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(e);return Math.max.apply(null,t)},a.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var D={to:function(t){return void 0!==t&&t.toFixed(2)},from:Number};return{version:rt,create:function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider ("+rt+"): create requires a single element, got: "+t);var i=k(t,it(e),e);return t.noUiSlider=i}}}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},r=i[t]=i[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var r=i.indexOf(e);return-1!=r&&i.splice(r,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var r=0,n=i[r];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];n;){var s=o&&o[n];s&&(this.off(t,n),delete o[n]),n.apply(this,e),n=i[r+=s?0:1]}return this}},t}),function(e,i){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}(window,function(e,t){function r(t,e){for(var i in e)t[i]=e[i];return t}function n(t,e,i){return this instanceof n?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=function(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}(t),this.options=r({},this.options),"function"==typeof e?i=e:r(this.options,e),i&&this.on("always",i),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(function(){this.check()}.bind(this))):new n(t,e,i)}function i(t){this.img=t}function o(t,e){this.url=t,this.element=e,this.img=new Image}var s=e.jQuery,a=e.console;n.prototype=Object.create(t.prototype),n.prototype.options={},n.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},n.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&l[e]){for(var i=t.querySelectorAll("img"),r=0;r<i.length;r++){var n=i[r];this.addImage(n)}if("string"==typeof this.options.background){var o=t.querySelectorAll(this.options.background);for(r=0;r<o.length;r++){var s=o[r];this.addElementBackgroundImages(s)}}}};var l={1:!0,9:!0,11:!0};return n.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,r=i.exec(e.backgroundImage);null!==r;){var n=r&&r[2];n&&this.addBackground(n,t),r=i.exec(e.backgroundImage)}},n.prototype.addImage=function(t){var e=new i(t);this.images.push(e)},n.prototype.addBackground=function(t,e){var i=new o(t,e);this.images.push(i)},n.prototype.check=function(){function e(t,e,i){setTimeout(function(){r.progress(t,e,i)})}var r=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},n.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},n.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},i.prototype=Object.create(t.prototype),i.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},o.prototype=Object.create(i.prototype),o.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},o.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},n.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((s=t).fn.imagesLoaded=function(t,e){return new n(this,t,e).jqDeferred.promise(s(this))})},n.makeJQueryPlugin(),n}),function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";function i(u,n,c){(c=c||e||t.jQuery)&&(n.prototype.option||(n.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[u]=function(t){if("string"==typeof t){var e=h.call(arguments,1);return s=e,l="$()."+u+'("'+(o=t)+'")',(i=this).each(function(t,e){var i=c.data(e,u);if(i){var r=i[o];if(r&&"_"!=o.charAt(0)){var n=r.apply(i,s);a=void 0===a?n:a}else d(l+" is not a valid method")}else d(u+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==a?a:i}var i,o,s,a,l,r;return r=t,this.each(function(t,e){var i=c.data(e,u);i?(i.option(r),i._init()):(i=new n(e,r),c.data(e,u,i))}),this},r(c))}function r(t){!t||t&&t.bridget||(t.bridget=i)}var h=Array.prototype.slice,n=t.console,d=void 0===n?function(){}:function(t){n.error(t)};return r(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},r=i[t]=i[t]||[];return-1==r.indexOf(e)&&r.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var r=i.indexOf(e);return-1!=r&&i.splice(r,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var r=0,n=i[r];e=e||[];for(var o=this._onceEvents&&this._onceEvents[t];n;){var s=o&&o[n];s&&(this.off(t,n),delete o[n]),n.apply(this,e),n=i[r+=s?0:1]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function g(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function y(t){var e=getComputedStyle(t);return e||i("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function b(t){if(function(){if(!T){T=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var e=document.body||document.documentElement;e.appendChild(t);var i=y(t);b.isBoxSizeOuter=x=200==g(i.width),e.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=y(t);if("none"==e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<w;e++)t[_[e]]=0;return t}();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var r=i.isBorderBox="border-box"==e.boxSizing,n=0;n<w;n++){var o=_[n],s=e[o],a=parseFloat(s);i[o]=isNaN(a)?0:a}var l=i.paddingLeft+i.paddingRight,u=i.paddingTop+i.paddingBottom,c=i.marginLeft+i.marginRight,h=i.marginTop+i.marginBottom,d=i.borderLeftWidth+i.borderRightWidth,f=i.borderTopWidth+i.borderBottomWidth,p=r&&x,m=g(e.width);!1!==m&&(i.width=m+(p?0:l+d));var v=g(e.height);return!1!==v&&(i.height=v+(p?0:u+f)),i.innerWidth=i.width-(l+d),i.innerHeight=i.height-(u+f),i.outerWidth=i.width+c,i.outerHeight=i.height+h,i}}var x,i="undefined"==typeof console?function(){}:function(t){console.error(t)},_=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],w=_.length,T=!1;return b}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var r=e[i]+"MatchesSelector";if(t[r])return r}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(u,o){var c={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e},makeArray:function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},removeFrom:function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},getParent:function(t,e){for(;t!=document.body;)if(t=t.parentNode,o(t,e))return t},getQueryElement:function(t){return"string"==typeof t?document.querySelector(t):t},handleEvent:function(t){var e="on"+t.type;this[e]&&this[e](t)},filterFindElements:function(t,r){t=c.makeArray(t);var n=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!r)return void n.push(t);o(t,r)&&n.push(t);for(var e=t.querySelectorAll(r),i=0;i<e.length;i++)n.push(e[i])}}),n},debounceMethod:function(t,e,r){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,i=this;this[o]=setTimeout(function(){n.apply(i,e),delete i[o]},r||100)}},docReady:function(t){var e=document.readyState;"complete"==e||"interactive"==e?t():document.addEventListener("DOMContentLoaded",t)},toDashed:function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()}},h=u.console;return c.htmlInit=function(a,l){c.docReady(function(){var t=c.toDashed(l),n="data-"+t,e=document.querySelectorAll("["+n+"]"),i=document.querySelectorAll(".js-"+t),r=c.makeArray(e).concat(c.makeArray(i)),o=n+"-options",s=u.jQuery;r.forEach(function(e){var t,i=e.getAttribute(n)||e.getAttribute(o);try{t=i&&JSON.parse(i)}catch(t){return void(h&&h.error("Error parsing "+n+" on "+e.className+": "+t))}var r=new a(e,t);s&&s.data(e,l,r)})})},c}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var r=document.documentElement.style,n="string"==typeof r.transition?"transition":"WebkitTransition",o="string"==typeof r.transform?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],a={transform:o,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"},l=i.prototype=Object.create(t.prototype);l.constructor=i,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.getSize=function(){this.size=e(this.element)},l.css=function(t){var e=this.element.style;for(var i in t){e[a[i]||i]=t[i]}},l.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=t[e?"left":"right"],n=t[i?"top":"bottom"],o=this.layout.size,s=-1!=r.indexOf("%")?parseFloat(r)/100*o.width:parseInt(r,10),a=-1!=n.indexOf("%")?parseFloat(n)/100*o.height:parseInt(n,10);s=isNaN(s)?0:s,a=isNaN(a)?0:a,s-=e?o.paddingLeft:o.paddingRight,a-=i?o.paddingTop:o.paddingBottom,this.position.x=s,this.position.y=a},l.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop"),n=i?"paddingLeft":"paddingRight",o=i?"left":"right",s=i?"right":"left",a=this.position.x+t[n];e[o]=this.getXValue(a),e[s]="";var l=r?"paddingTop":"paddingBottom",u=r?"top":"bottom",c=r?"bottom":"top",h=this.position.y+t[l];e[u]=this.getYValue(h),e[c]="",this.css(e),this.emitEvent("layout",[this])},l.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},l.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},l._transitionTo=function(t,e){this.getPosition();var i=this.position.x,r=this.position.y,n=parseInt(t,10),o=parseInt(e,10),s=n===this.position.x&&o===this.position.y;if(this.setPosition(t,e),!s||this.isTransitioning){var a=t-i,l=e-r,u={};u.transform=this.getTranslate(a,l),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},l.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},l._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},l.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var u="opacity,"+o.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()});l.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:u,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1)}},l.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},l.onotransitionend=function(t){this.ontransitionend(t)};var c={"-webkit-transform":"transform"};l.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,i=c[t.propertyName]||t.propertyName;if(delete e.ingProperties[i],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd)e.onEnd[i].call(this),delete e.onEnd[i];this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},l._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(h)},l.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){return n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},l.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(n,o){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,i,r){return o(n,t,e,i,r)}):"object"==typeof module&&module.exports?module.exports=o(n,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):n.Outlayer=o(n,n.EvEmitter,n.getSize,n.fizzyUIUtils,n.Outlayer.Item)}(window,function(t,e,n,o,r){"use strict";function s(t,e){var i=o.getQueryElement(t);if(i){this.element=i,u&&(this.$element=u(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(e);var r=++c;this.element.outlayerGUID=r,(h[r]=this)._create(),this._getOption("initLayout")&&this.layout()}else l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t))}function a(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e}var l=t.console,u=t.jQuery,i=function(){},c=0,h={};s.namespace="outlayer",s.Item=r,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=s.prototype;o.extend(d,e.prototype),d.option=function(t){o.extend(this.options,t)},d._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,r=[],n=0;n<e.length;n++){var o=new i(e[n],this);r.push(o)}return r},d._filterFindItemElements=function(t){return o.filterFindElements(t,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(t){return t.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=n(this.element)},d._getMeasurement=function(t,e){var i,r=this.options[t];r?("string"==typeof r?i=this.element.querySelector(r):r instanceof HTMLElement&&(i=r),this[t]=i?n(i)[e]:r):this[t]=0},d.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},d._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},d._layoutItems=function(t,i){if(this._emitCompleteOnItems("layout",t),t&&t.length){var r=[];t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=i||t.isLayoutInstant,r.push(e)},this),this._processLayoutQueue(r)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},d.updateStagger=function(){var t=this.options.stagger;return null==t?void(this.stagger=0):(this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],r=e&&e[2];return i.length?(i=parseFloat(i))*(f[r]||1):0}(t),this.stagger)},d._positionItem=function(t,e,i,r,n){r?t.goTo(e,i):(t.stagger(n*this.stagger),t.moveTo(e,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},d._getContainerSize=i,d._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},d._emitCompleteOnItems=function(e,t){function i(){n.dispatchEvent(e+"Complete",null,[t])}function r(){++s==o&&i()}var n=this,o=t.length;if(t&&o){var s=0;t.forEach(function(t){t.once(e,r)})}else i()},d.dispatchEvent=function(t,e,i){var r=e?[e].concat(i):i;if(this.emitEvent(t,r),u)if(this.$element=this.$element||u(this.element),e){var n=u.Event(e);n.type=t,this.$element.trigger(n,i)}else this.$element.trigger(t,i)},d.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},d.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},d.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},d.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){o.removeFrom(this.stamps,t),this.unignore(t)},this)},d._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o.makeArray(t)):void 0},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},d._manageStamp=i,d._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,r=n(t);return{left:e.left-i.left-r.marginLeft,top:e.top-i.top-r.marginTop,right:i.right-e.right-r.marginRight,bottom:i.bottom-e.bottom-r.marginBottom}},d.handleEvent=o.handleEvent,d.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},o.debounceMethod(s,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var t=n(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},d.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},d.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},d.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},d.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var i=this.updateStagger();t.forEach(function(t,e){t.stagger(e*i),t.reveal()})}},d.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var i=this.updateStagger();t.forEach(function(t,e){t.stagger(e*i),t.hide()})}},d.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},d.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},d.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},d.getItems=function(t){t=o.makeArray(t);var i=[];return t.forEach(function(t){var e=this.getItem(t);e&&i.push(e)},this),i},d.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),o.removeFrom(this.items,t)},this)},d.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete h[e],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},s.data=function(t){var e=(t=o.getQueryElement(t))&&t.outlayerGUID;return e&&h[e]},s.create=function(t,e){var i=a(s);return i.defaults=o.extend({},s.defaults),o.extend(i.defaults,e),i.compatOptions=o.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=a(r),o.htmlInit(i,t),u&&u.bridget&&u.bridget(t,i),i};var f={ms:1,s:1e3};return s.Item=r,s}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,u){var e=t.create("masonry");return e.compatOptions.fitWidth="isFitWidth",e.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},e.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],e=t&&t.element;this.columnWidth=e&&u(e).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,r=this.containerWidth+this.gutter,n=r/i,o=i-r%i;n=Math[o&&o<1?"round":"floor"](n),this.cols=Math.max(n,1)},e.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,e=u(t);this.containerWidth=e&&e.innerWidth},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var r=this._getColGroup(i),n=Math.min.apply(Math,r),o=r.indexOf(n),s={x:this.columnWidth*o,y:n},a=n+t.size.outerHeight,l=this.cols+1-r.length,u=0;u<l;u++)this.colYs[o+u]=a;return s},e.prototype._getColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,r=0;r<i;r++){var n=this.colYs.slice(r,r+t);e[r]=Math.max.apply(Math,n)}return e},e.prototype._manageStamp=function(t){var e=u(t),i=this._getElementOffset(t),r=this._getOption("originLeft")?i.left:i.right,n=r+e.outerWidth,o=Math.floor(r/this.columnWidth);o=Math.max(0,o);var s=Math.floor(n/this.columnWidth);s-=n%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var a=(this._getOption("originTop")?i.top:i.bottom)+e.outerHeight,l=o;l<=s;l++)this.colYs[l]=Math.max(a,this.colYs[l])},e.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},e.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},e.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},e}),function(t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():window.wNumb=t()}(function(){"use strict";function x(t){return t.split("").reverse().join("")}function m(t,e){return t.substring(0,e.length)===e}function o(t,e,i){if((t[e]||t[i])&&t[e]===t[i])throw new Error(e)}function _(t){return"number"==typeof t&&isFinite(t)}function i(t,e,i,r,n,o,s,a,l,u,c,h){var d,f,p,m,v,g=h,y="",b="";return o&&(h=o(h)),!!_(h)&&(!1!==t&&0===parseFloat(h.toFixed(t))&&(h=0),h<0&&(d=!0,h=Math.abs(h)),!1!==t&&(v=t,m=(m=h).toString().split("e"),h=(+((m=(m=Math.round(+(m[0]+"e"+(m[1]?+m[1]+v:v)))).toString().split("e"))[0]+"e"+(m[1]?+m[1]-v:-v))).toFixed(v)),-1!==(h=h.toString()).indexOf(".")?(p=(f=h.split("."))[0],i&&(y=i+f[1])):p=h,e&&(p=x((p=x(p).match(/.{1,3}/g)).join(x(e)))),d&&a&&(b+=a),r&&(b+=r),d&&l&&(b+=l),b+=p,b+=y,n&&(b+=n),u&&(b=u(b,g)),b)}function r(t,e,i,r,n,o,s,a,l,u,c,h){var d,f,p="";return c&&(h=c(h)),!(!h||"string"!=typeof h)&&(a&&m(h,a)&&(h=h.replace(a,""),d=!0),r&&m(h,r)&&(h=h.replace(r,"")),l&&m(h,l)&&(h=h.replace(l,""),d=!0),n&&(f=n,h.slice(-1*f.length)===f)&&(h=h.slice(0,-1*n.length)),e&&(h=h.split(e).join("")),i&&(h=h.replace(i,".")),d&&(p+="-"),""!==(p=(p+=h).replace(/[^0-9\.\-.]/g,""))&&(p=Number(p),s&&(p=s(p)),!!_(p)&&p))}function n(t,e,i){var r,n=[];for(r=0;r<s.length;r+=1)n.push(t[s[r]]);return n.push(i),e.apply("",n)}var s=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];return function t(e){if(!(this instanceof t))return new t(e);"object"==typeof e&&(e=function(t){var e,i,r,n={};for(void 0===t.suffix&&(t.suffix=t.postfix),e=0;e<s.length;e+=1)if(void 0===(r=t[i=s[e]]))"negative"!==i||n.negativeBefore?"mark"===i&&"."!==n.thousand?n[i]=".":n[i]=!1:n[i]="-";else if("decimals"===i){if(!(0<=r&&r<8))throw new Error(i);n[i]=r}else if("encoder"===i||"decoder"===i||"edit"===i||"undo"===i){if("function"!=typeof r)throw new Error(i);n[i]=r}else{if("string"!=typeof r)throw new Error(i);n[i]=r}return o(n,"mark","thousand"),o(n,"prefix","negative"),o(n,"prefix","negativeBefore"),n}(e),this.to=function(t){return n(e,i,t)},this.from=function(t){return n(e,r,t)})}}),$(".menuBar").addClass("menuFixed"),$(".navbox").addClass("navboxFixed"),$("article").addClass("p_top"),$("a").click(function(t){if(!$(this).hasClass("noAction")){t.preventDefault();var e=$(this).attr("href"),i=$(this).attr("target"),r=e.split("/"),n=r.pop(),o=r.pop(),s=n.substr(0,1),a=location.href.split("/"),l=a.pop(),u=a.pop(),c=n.substr(0,1),h=localStorage.getItem("alreadyLogin");if(""==n&&(n="index.html"),""==l&&(l="index.html"),""==r&&(o=u),"_blank"==i&&"true"==h)window.open(e),i="";else if(0<=e.indexOf("mailto:")||0<=e.indexOf("tel:"))window.location.assign(e),i="";else if("true"!==h)alert("因版權問題只能給你看首頁!");else if(0<=e.indexOf("javascript"));else if(0<=e.indexOf("mp4"));else if(0<=e.indexOf("youtube"));else if(o!=u)pagechange(e),e="";else if(n!=l&&"#"!=s&&"#"!=c&&""!=e)r.pop()==a.pop()&&n==l||(pagechange(e),e="");else{var d=$(this.hash);"#top"==this.hash?($("article").addClass("p_top"),$("html, body").animate({scrollTop:0},{duration:500,easing:"easeInOutCirc"})):($("article").removeClass("p_top"),d.length&&$("html, body").animate({scrollTop:d.offset().top},{duration:500,easing:"easeInOutCirc"}))}}});var pagechange=function(t){nav.close(),$("body").append("<div id='cutto'><div class='cutto01'><div class='cuttologo'></div></div></div>"),$("body").css({overflowY:"hidden"}),$(".cutto01").css({background:"#F0F0F0"}),$(".cutto01").animate({height:"100vh"},{queue:!0,duration:500},"swing"),$(".cuttologo").animate({opacity:0},{queue:!0,duration:200},"swing"),$(".cuttologo").delay(250).animate({opacity:1},{queue:!0,duration:350},"swing"),$("html").delay(1e3).animate({opacity:"0"},{queue:!0,duration:500,complete:function(){setTimeout(function(){window.location.assign(t)},100)}})};window.onunload=function(){$("#cutto").remove()},$(".menuBtn").on("click",function(){$(this).addClass("opennav"),nav.open()}),$(".nav-close").on("click",function(){nav.close(),$(".menuBtn").removeClass("opennav")}),0<$(".nav-accent").size()&&$(".nav-accent>div").mCustomScrollbar({theme:"minimal"});var nav={open:function(){$(".navmenu").delay(500).slideToggle(500),setTimeout(function(){$("body").css({overflowY:"hidden"})},1e3)},close:function(){$(".navmenu").slideUp(),$("body").css({overflowY:""})}};$(".product_nav").on("click",function(){$(this).toggleClass("open")}),$(document).click(function(t){$(".product_nav ul").is(t.target)||0!==$(".product_nav ul").has(t.target).length||$(".product_nav").removeClass("open")}),$(".product_nav li").on("click",function(){var t=$(this).find("a").text();$(".product_nav ul>span a").text(t)}),$(window).resize(function(){$(".product_nav").removeClass("open")}),$(document).ready(function(){$(".six").insertAfter(".product_nav ul li:nth-child(7)")}),$(".product_info_buy_right ul").on("click",function(){$(this).toggleClass("open")}),$(".product_info_buy_right ul li").on("click",function(){var t=$(this).text(),e=$(this).find("span").css("background-color");$(".product_info_buy_right ul>span").text(""),$(".product_info_buy_right ul>span").append("<span></span>"+t),$(".product_info_buy_right ul>span span").addClass("color").css("background-color",e)}),$(".add").on("click",function(){var t=$(".num").text();t++,$(".num").text(t)}),$(".sub").on("click",function(){var t=$(".num").text();1<t&&t--,$(".num").text(t)}),0<$(".product").length&&$("article>section:nth-child(2)").addClass("product_fixed"),16<$(".product_info_icon li").length&&$(".product_info_icon ul").addClass("more"),$(".product_fixed").waypoint(function(){0<$(".product_nav.fixed").length?$(".product_nav").removeClass("fixed"):$(".product_nav").addClass("fixed")},{offset:"0%"}),$(".product_info_godown").on("click",function(){document.documentElement.scrollTop+document.body.scrollTop==0?$("html,body").animate({scrollTop:$("#product_info").offset().top-110},500):$("html,body").animate({scrollTop:$("#product_info").offset().top},500)}),$(".search_box_right li").click(function(){$(this).find("a").toggleClass("check")}),$(".product_x").click(function(){$(this).parent().toggleClass("open")}),$(".product_search_bottom a:first-child").click(function(){$(".open").removeClass("open"),setTimeout(function(){$(".product_111 .pinner").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_3n%3+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-03s animated fadeIn"),run_3n++;break;case 2:$(e).addClass("delay-03s  animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-06s animated fadeIn"),run_3n++;break;case 3:$(e).addClass("delay-06s  animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-09s animated fadeIn"),run_3n++}},{offset:"90%"})})},500)});var tooltipSlider=document.getElementById("slider-tooltips");$(".product_search_bottom a:last-child").click(function(){$(".check").removeClass("check"),tooltipSlider.noUiSlider.reset()}),$(".product_nav li").click(function(){$(this).parent().find("a").removeClass("pick"),$(this).find("a").toggleClass("pick")}),$(".search_spec_right li div:first-child").click(function(){$(window).width()<583&&($(this).toggleClass("on"),$(this).next("div").slideToggle(500))}),$(".search_spec_left").click(function(){$(window).width()<583&&($(this).toggleClass("on"),$(this).next("div").slideToggle(500))}),$(window).resize(function(){$(".search_spec_right").css("display","")}),$(".location_inner .location_txt li ul div,.location_txt li  div ul>i").on("click",function(){$(this).parent().toggleClass("open")}),$(".location_inner .location_txt li ul li").on("click",function(){"open"==$(this).parent().attr("class")||$(this).parent().toggleClass("open")}),$(".thenav ul").on("click",function(){$(window).width()<767&&$(this).parent().toggleClass("open")}),$(window).resize(function(){$(".thenav.open").removeClass("open")}),$(".thenav li").on("click",function(){var t=$(this).find("a").text();$(".thenav ul>span a").text(t)}),$(".location_search i").on("click",function(){$(this).parent().toggleClass("open")}),$(".thenav li").on("click",function(){$(this).parent().find("li").removeClass("pick"),$(this).toggleClass("pick")}),$(".faq_datil .faq_datil_qa ul li:first-child").on("click",function(){$(this).parent().toggleClass("open")}),beforeScrollTop=document.documentElement.scrollTop+document.body.scrollTop,window.addEventListener("scroll",function(){var t=document.documentElement.scrollTop+document.body.scrollTop;beforeScrollTop>t?($(".menuBar").addClass("menuFixed"),$(".navbox").addClass("navboxFixed")):($(".menuBar").removeClass("menuFixed"),$(".navbox").removeClass("navboxFixed")),beforeScrollTop=t,beforeScrollTop<=1?($("article").addClass("p_top"),$(".menuBar").addClass("menuFixed"),$(".navbox").addClass("navboxFixed")):$("article").removeClass("p_top"),beforeScrollTop<1e3?$(".gotopfixed").css("display",""):$(".gotopfixed").css("display","block")});var bLazy=new Blazy({offset:300,success:function(t){Waypoint.refreshAll()}});$(document).ready(function(){$(".footer-dropdown li").hide(),$(".footer-dropdown").each(function(){$(this).click(function(){$(this).toggleClass("open"),$(this).find("li").slideToggle()})}),$(document).click(function(t){$(".footer-dropdown").is(t.target)||0!==$(".footer-dropdown").has(t.target).length||($(".footer-dropdown li").slideUp(),$(".footer-dropdown").removeClass("open"))}),$(".footer-dropdown li a").on("click",function(){var t=$(this).text();$(this).closest(".footer-dropdown").find("span").addClass("clicked").text(t),$(this).closest(".footer-dropdown").find("input").val(t)})}),$(document).ready(function(){$(".small_slick:not(.homebox0301)").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:'<div class="prev-button icon-arrow-left"></div>',nextArrow:'<div class="next-button icon-arrow-right"></div>'}),$(".homebox0301.small_slick").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,autoplay:!0,autoplaySpeed:3e3,pauseOnHover:!1,prevArrow:'<div class="prev-button icon-arrow-left"></div>',nextArrow:'<div class="next-button icon-arrow-right"></div>'}),0<$(".homebox01").length&&($(".home_img").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,asNavFor:".home_txt",arrows:!0,autoplay:!1,autoplaySpeed:3e3,pauseOnHover:!1,prevArrow:'<div class="prev-button icon-teco_left"></div>',nextArrow:'<div class="next-button icon-teco_right"></div>'}),setTimeout(function(){$(".home_img").slick("slickPlay")},2e3),$(".home_txt").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,centerMode:!0,centerPadding:0,arrows:!1,asNavFor:".home_img",focusOnSelect:!0,responsive:[{breakpoint:1200,settings:{centerMode:!1,slidesToShow:2}},{breakpoint:768,settings:{centerMode:!0,slidesToShow:1}}]}),$(".homebox05 .home_style1_txt").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,asNavFor:".homebox05 .home_style1_pic",dots:!0,arrows:!0,prevArrow:'<div class="prev-button icon-arrow-left"></div>',nextArrow:'<div class="next-button icon-arrow-right"></div>',responsive:[{breakpoint:1400,settings:{dots:!1}}]}),$(".homebox05 .home_style1_pic").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,centerMode:!0,centerPadding:0,arrows:!1,asNavFor:".homebox05 .home_style1_txt"}),$(".homebox05_ltr .home_style1_txt_ltr").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,asNavFor:".homebox05_ltr .home_style1_pic_ltr",dots:!0,arrows:!0,prevArrow:'<div class="prev-button icon-arrow-left"></div>',nextArrow:'<div class="next-button icon-arrow-right"></div>'}),$(".homebox05_ltr .home_style1_pic_ltr").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,centerMode:!0,centerPadding:0,arrows:!1,asNavFor:".homebox05_ltr .home_style1_txt_ltr"}),$(".homebox06 .home_style2_txt").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,asNavFor:".homebox06  .home_style2_pic",dots:!0,arrows:!0,prevArrow:'<div class="prev-button icon-arrow-left"></div>',nextArrow:'<div class="next-button icon-arrow-right"></div>',responsive:[{breakpoint:1400,settings:{dots:!1}}]}),$(".homebox06 .home_style2_pic").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!1,asNavFor:".homebox06  .home_style2_txt",responsive:[{breakpoint:1400,settings:{slidesToShow:1}},{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]}),$(".homebox06_ltr .home_style2_txt_ltr").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,asNavFor:".homebox06_ltr .home_style2_pic_ltr",dots:!0,arrows:!0,prevArrow:'<div class="prev-button icon-arrow-left"></div>',nextArrow:'<div class="next-button icon-arrow-right"></div>',responsive:[{breakpoint:1400,settings:{dots:!1}}]}),$(".homebox06_ltr .home_style2_pic_ltr").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,arrows:!1,asNavFor:".homebox06_ltr .home_style2_txt_ltr",responsive:[{breakpoint:1400,settings:{slidesToShow:1}},{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]})),$(".product_small_slick").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,dots:!0,fade:!0}),$(".product_featured_slick").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,dots:!0,arrows:!0,prevArrow:'<div class="prev-button icon-arrow-left"></div>',nextArrow:'<div class="next-button icon-arrow-right"></div>',responsive:[{breakpoint:1200,settings:{arrows:!1,slidesToShow:2,slidesToScroll:2}},{breakpoint:600,settings:{arrows:!1,slidesToShow:1,slidesToScroll:1}}]}),3<$(".product_info_slick").find("li").length?$(".product_info_slick").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,arrows:!1,centerMode:!0,centerPadding:0,focusOnSelect:!0,responsive:[{breakpoint:600,settings:{arrows:!1,slidesToShow:1,slidesToScroll:1}}]}):1<$(".product_info_slick").find("li").length?($(".product_info_slick").addClass("product_info_slick_less").removeClass("product_info_slick"),$(".product_info_slick_less").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,centerMode:!0,centerPadding:0,focusOnSelect:!0})):$(".product_info_slick").addClass("product_info_slick_only").removeClass("product_info_slick"),$(".about_slick").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:'<div class="prev-button icon-arrow-left"></div>',nextArrow:'<div class="next-button icon-arrow-right"></div>'});var r=new Blazy({offset:300,success:function(t){Waypoint.refreshAll()}});$(".small_slick").on("afterChange",function(t,e,i){r.load($(this).find("img"))}),$(".home_img").on("afterChange",function(t,e,i){r.load($(this).find("img"))}),$(".home_style1_pic,.home_style1_txt_ltr,.home_style2_pic,.home_style2_pic_ltr").on("afterChange",function(t,e,i){r.load($(this).find("img"))}),$(".product_featured_slick").on("afterChange",function(t,e,i){r.load($(this).find("img"))})}),$(document).ready(function(){if(0<$(".new_grid").size()){var e=$(".new_grid").masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0});e.imagesLoaded().progress(function(){e.masonry("layout")});new Blazy({success:function(t){e.masonry("layout")}})}}),$("._video").click(function(t){t.preventDefault();var e=$('<div class="box-modal" id="exampleModal" />'),i=$(this).attr("href");e.html('<video preload controls loop  autoplay="autoplay"><source src="'+i+'"type="video/mp4" /></video></div>'),e.prepend('<div class="box-modal_close swpmodal-close">&times;</div>'),$.swpmodal({content:e,closeOnEsc:!1,closeOnOverlayClick:!1,overlay:{css:{backgroundColor:"#000",opacity:.75}}})}),$("._youtube").click(function(t){t.preventDefault();var e=$('<div class="box-modal" id="exampleModal" />'),i=$(this).attr("href");e.html('<iframe  src="'+i+'" frameborder="0" allowfullscreen><'),e.prepend('<div class="box-modal_close swpmodal-close">&times;</div>'),$.swpmodal({content:e,closeOnEsc:!1,closeOnOverlayClick:!1,overlay:{css:{backgroundColor:"#000",opacity:.75}}})}),$(".teco_table").click(function(){$.swpmodal({type:"ajax",url:$("base").attr("href")+"/Contact/form_table",afterLoadingOnShow:function(t,e){},beforeClose:function(t,e){}})});var run_3n=3,run_2n=2;$(document).ready(function(){0<$(".about01").length&&($(".about_nav").waypoint(function(){$(".about_nav .col-12").toggleClass("fixed")},{offset:"0%"}),$(".about_video").waypoint(function(){$(".about_nav .col-12 .col-3").removeClass("pick"),$(".about_nav .col-12 .col-3:nth-child(1)").addClass("pick")},{offset:"0%"}),$(".about_motor").waypoint(function(){$(".about_nav .col-12 .col-3").removeClass("pick"),$(".about_nav .col-12 .col-3:nth-child(2)").addClass("pick")},{offset:"0%"}),$(".about_had").waypoint(function(){$(".about_nav .col-12 .col-3").removeClass("pick"),$(".about_nav .col-12 .col-3:nth-child(3)").addClass("pick")},{offset:"0%"}),$(".about_glory").waypoint(function(){$(".about_nav .col-12 .col-3").removeClass("pick"),$(".about_nav .col-12 .col-3:nth-child(4)").addClass("pick")},{offset:"0%"}),$(".about .about01_txt  h4").addClass("delay-05s animated-slow fadeIn"),$(".about .about01_txt  hr").addClass("delay-10s animated-slow fadeIn"),$(".about .about01_txt  p").addClass("delay-15s animated-slow fadeIn"),$(".about_video .col-12").addClass("hide"),$(".about_video .col-12 h5").waypoint(function(){$(".about_video .col-12 img").addClass("animated fadeIn").removeClass("hide"),$(".about_video .col-12 h5").addClass("delay-03s animated fadeIn").removeClass("hide"),$(".about_video .col-12 hr").addClass("delay-06s animated fadeIn").removeClass("hide"),$(".about_video .col-12 p,.about_video .col-12 ul").addClass("delay-09s animated fadeIn").removeClass("hide")},{offset:"90%"}),$(".about_motor>.col-12>.col-6,.about_had .col-12>div,.hadbox4 h3,.hadbox4 h5,.hadbox4 hr").addClass("hide"),$(".about_motor>.col-12>.col-6,.about_had .col-12>div").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_2n%2+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide"),run_2n++;break;case 2:$(e).addClass("delay-03s animated fadeIn").removeClass("hide"),run_2n++}},{offset:"80%"})}),$(".hadbox4 h3").waypoint(function(){$(".hadbox4 h3").addClass("animated fadeIn").removeClass("hide"),$(".hadbox4 h5").addClass("delay-03s animated fadeIn").removeClass("hide"),$(".hadbox4 hr").addClass("delay-06s animated fadeIn").removeClass("hide")},{offset:"90%"}),$(".glorybox0,.about_glory .col-12>div").addClass("hide"),$(".glorybox0").waypoint(function(){$(".glorybox0").addClass("delay-06s animated fadeIn").removeClass("hide")},{offset:"90%"}),$(".about_glory .col-12>div").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_2n%2+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide"),run_2n++;break;case 2:$(e).addClass("delay-03s animated fadeIn").removeClass("hide"),run_2n++}},{offset:"80%"})}))}),$(document).ready(function(){0<$(".homebox01").length&&($(".home_img_txt p").addClass("delay-05s animated-slow fadeIn"),$(".home_img_txt h4").addClass("delay-10s animated-slow fadeIn"),$(".home_img_txt a").addClass("delay-15s animated-slow fadeIn"),$(".homebox02>ul,.homebox03>div,.homebox04>div>div,.homebox05>div,.homebox06>div").addClass("hide"),$(".homebox02>ul,.homebox03>div,.homebox05>div,.homebox06>div").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_2n%2+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide"),run_2n++;break;case 2:$(e).addClass("delay-03s animated fadeIn").removeClass("hide"),run_2n++}},{offset:"80%"})}),$(".homebox04>div>div").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_3n%3+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide"),run_3n++;break;case 2:$(e).addClass("delay-03s animated fadeIn").removeClass("hide"),run_3n++;break;case 3:$(e).addClass("delay-06s animated fadeIn").removeClass("hide"),run_3n++}},{offset:"80%"})}))}),$(document).ready(function(){0<$(".product_index").length&&($(".product_img_txt h4").addClass("delay-05s animated-slow fadeIn"),$(".product_img_txt hr").addClass("delay-10 animated-slow fadeIn"),$(".product_img_txt p").addClass("delay-15s animated-slow fadeIn"),$(".product_index_collectin h4").addClass("delay-20s animated-slow fadeIn"),$(".product_index_collectin p").addClass("delay-25s animated-slow fadeIn"),$(".w100 .w50>div,.w100 .w33,.product_index_txt").addClass("hide"),$(".w100>:not(div),.w100 .w50>:not(div)").parent().addClass("hide"),$(".w100>:not(div)").waypoint(function(){$(".w100>:not(div)").parent().addClass("animated fadeIn").removeClass("hide").find(".product_index_txt").addClass("delay-03s animated fadeIn")},{offset:"90%"}),$(".w100 .w50>:not(div)").each(function(t,e){$(e).waypoint(function(){$(e).parent().addClass("animated fadeIn").removeClass("hide").find(".product_index_txt").addClass("delay-03s animated fadeIn")},{offset:"90%"})}),$(".w100 .w50>div").each(function(t,e){$(e).waypoint(function(){$(e).addClass("delay-03s animated fadeIn").removeClass("hide").find(".product_index_txt").addClass("delay-06s animated fadeIn")},{offset:"90%"})}),$(".w100 .w33").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_3n%3+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide").find(".product_index_txt").addClass("delay-03s animated fadeIn"),run_3n++;break;case 2:$(e).addClass("delay-03s animated fadeIn").removeClass("hide").find(".product_index_txt").addClass("delay-06s animated fadeIn"),run_3n++;break;case 3:$(e).addClass("delay-06s animated fadeIn").removeClass("hide").find(".product_index_txt").addClass("delay-09s animated fadeIn"),run_3n++}},{offset:"90%"})}))}),$(document).ready(function(){0<$(".product_1,.product_11,.product_111,.product_12").length&&($(".pinner").addClass("hide"),$(".animated,.fadeIn").removeClass("animated").removeClass("fadeIn"),$(".product_inner_txt h4").addClass("delay-05s animated-slow fadeIn"),$(".product_inner_txt hr").addClass("delay-10s animated-slow fadeIn"),$(".product_inner_txt p").addClass("delay-15s animated-slow fadeIn"),$(".product_nav").addClass("animated-slow fadeIn"),$(".product_1 .pinner").each(function(t,e){$(e).waypoint(function(){$(e).addClass("animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-03s animated fadeIn")},{offset:"90%"})}),$(".product_11 .pinner").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_2n%2+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-03s animated fadeIn"),run_2n++;break;case 2:$(e).addClass("delay-03s animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-06s animated fadeIn"),run_2n++}},{offset:"90%"})}),$(".product_111 .pinner").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_3n%3+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-03s animated fadeIn"),run_3n++;break;case 2:$(e).addClass("delay-03s  animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-06s animated fadeIn"),run_3n++;break;case 3:$(e).addClass("delay-06s  animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-09s animated fadeIn"),run_3n++}},{offset:"90%"})}),$(".product_12 .pinner").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_3n%3+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-03s animated fadeIn"),run_3n++;break;case 2:$(e).addClass("delay-03s  animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-06s animated fadeIn"),run_3n++;break;case 3:$(e).addClass("delay-06s  animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-09s animated fadeIn"),run_3n++}},{offset:"90%"})}))}),$(document).ready(function(){0<$(".product_info").length&&($(".product_info,.product_info_buy,.product_spec>div,.product_explore>*,.product_featured>div").addClass("hide"),$(".product_info").waypoint(function(){$(".product_info_pic").addClass("animated-slow fadeIn").removeClass("hide"),$(".product_info_txt").addClass("delay-03s animated-slow fadeIn").removeClass("hide"),$(".product_info_other").addClass("delay-06s animated-slow fadeIn").removeClass("hide")},{offset:"90%"}),$(".product_info_buy").waypoint(function(){$(".product_info_buy").addClass("animated-slow fadeIn").removeClass("hide")},{offset:"90%"}),$(".product_spec>div").each(function(t,e){$(e).waypoint(function(){$(e).addClass("animated-slow fadeIn"),$(e).removeClass("hide")},{offset:"90%"})}),$(".product_explore>*").each(function(t,e){$(e).waypoint(function(){$(e).addClass("animated-slow fadeIn").removeClass("hide")},{offset:"90%"})}),$(".product_featured>div").each(function(t,e){$(e).waypoint(function(){$(e).addClass("animated-slow fadeIn").removeClass("hide")},{offset:"90%"})}))}),$(document).ready(function(){0<$(".new").length&&($(".location_topnav h4").addClass("delay-05s animated-slow fadeIn"),$(".location_topnav p").addClass("delay-10s animated-slow fadeIn"),$(".new_nav ul").addClass("delay-15s animated-slow fadeIn"),$(".location_topnav + section").addClass("delay-20s animated-slow fadeIn"),$(".grid-item").addClass("hide"),$(".grid-item").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_2n%2+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide"),run_2n++;break;case 2:$(e).addClass("delay-03s animated fadeIn").removeClass("hide"),run_2n++}},{offset:"80%"})}))}),$(document).ready(function(){0<$(".faqbox01,.faqbox02 ").length&&($(".faqbox01_txt h4").addClass("delay-05s  animated-slow fadeIn"),$(".faqbox01_txt hr").addClass("delay-10s animated-slow fadeIn"),$(".faqbox01_txt p").addClass("delay-15s animated-slow fadeIn"),$(".faqbox02>h4").addClass("delay-20s animated-slow fadeIn"),$(".faqbox02>p").addClass("delay-25s animated-slow fadeIn"),$(".faqbox02_inner>div").addClass("hide"),$(".faqbox02_inner>div").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_3n%3+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-03s animated fadeIn"),run_3n++;break;case 2:$(e).addClass("delay-03s  animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-06s animated fadeIn"),run_3n++;break;case 3:$(e).addClass("delay-06s  animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-09s animated fadeIn"),run_3n++}},{offset:"80%"})}),$(".contact_inner>div").each(function(t,e){$(e).waypoint(function(){if(0<$(e).attr("class").indexOf("animated"));else switch(run_3n%3+1){case 1:$(e).addClass("animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-03s animated fadeIn"),run_3n++;break;case 2:$(e).addClass("delay-03s  animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-06s animated fadeIn"),run_3n++;break;case 3:$(e).addClass("delay-06s  animated fadeIn").removeClass("hide").find(".product_txt").addClass("delay-09s animated fadeIn"),run_3n++}},{offset:"80%"})}))}),$(document).ready(function(){0<$(".faq_nav").length&&($(".location_topnav h4").addClass("delay-05s animated-slow fadeIn"),$(".location_topnav p").addClass("delay-10s animated-slow fadeIn"),$(".faq_nav ul").addClass("delay-15s animated-slow fadeIn"),$(".location_topnav + section").addClass("delay-20s animated-slow fadeIn"),$(".faq_datil").addClass("hide"),$(".faq_datil").each(function(t,e){$(e).waypoint(function(){$(e).addClass("animated fadeIn").removeClass("hide")},{offset:"80%"})}))}),$(document).ready(function(){0<$(".location_nav").length&&($(".location_topnav h4").addClass("delay-05s animated-slow fadeIn"),$(".location_topnav p").addClass("delay-10s animated-slow fadeIn"),$(".location_nav ul").addClass("delay-15s animated-slow fadeIn"),$(".location_topnav + section").addClass("delay-20s animated-slow fadeIn"),$(".location").addClass("hide"),$(".location").each(function(t,e){$(e).waypoint(function(){$(e).addClass("animated fadeIn").removeClass("hide")},{offset:"80%"})}))}),$(".use_search").on("click",function(){$.swpmodal({type:"ajax",url:"../../views/load/the_search.html",overlay:{block:void 0,tpl:'<div class="swpmodal-overlay"></div>',css:{backgroundColor:"#000",opacity:.6}},afterLoadingOnShow:function(t,e){$(".search_ok").on("click",function(){})}})}),$(document).ready(function(){0<$(".search_page1").length&&($(".search_page1 h4").addClass("delay-05s animated-slow fadeIn"),$(".search_page1 p").addClass("delay-5s animated-slow fadeIn"),$(".search_page2").addClass("delay-10s animated-slow fadeIn"),$(".search_result").addClass("delay-15s animated-slow fadeIn")),privacy.open_click()});var privacy={open_click:function(){$(".footernav li a").click(function(){"隱私權政策"==$(this).text()&&($("body").append("<article class='privacyLibox'></article>"),$.ajax({url:"../../views/load/the_privacy.html"}).done(function(t){$(".privacyLibox").html(t),privacy.all()}))})},open:function(){$(".privacyLibox").addClass("open"),1024<$(window).width()?$("body").css({"overflow-y":"hidden","padding-right":"1rem"}):$("body").css("overflow-y","hidden")},close_click:function(){$(".privacyLibox .topNav .back").click(function(){privacy.close()})},close:function(){$(".privacyLibox").removeClass("open").addClass("close"),1024<$(window).width()?$("body").css({"overflow-y":"visible","padding-right":"0rem"}):$("body").css("overflow-y","visible"),setTimeout(function(){$(".privacyLibox").remove()},400)},countUp:function(){$(".privacyLibox .content ul li").each(function(){if((t=$(this).index()+1)<10)var t="0"+t;$(this).find("h6").attr("data-numb",t)})},all:function(){privacy.open(),privacy.close_click(),privacy.countUp()}},u=navigator.userAgent,isAndroid=-1<u.indexOf("Android")||-1<u.indexOf("Adr"),isiOS=!!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),device=isAndroid||isiOS,is_safari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),originalImg=$(".makeframe .standardImg img").attr("src"),customized={scrollBar:function(){$(".sideNav .skinstyle").mCustomScrollbar({scrollInertia:800,mouseWheel:{preventDefault:!0,scrollAmount:200},callbacks:{whileScrolling:function(){$(".sideNav .skinstyle .title").innerHeight()+parseInt($(".sideNav .skinstyle .navBg").css("margin-top"))<=Math.abs(this.mcs.top)?$(".sideNav .skinstyle .nav").addClass("fixed"):$(".sideNav .skinstyle .nav").removeClass("fixed"),_Blazy.customizeW()},onOverflowYNone:function(){$(".sideNav .skinstyle").mCustomScrollbar("scrollTo",0),$(".sideNav .skinstyle .nav").removeClass("fixed")}}}),$(".sideNav .accessories").mCustomScrollbar({scrollInertia:800,mouseWheel:{preventDefault:!0,scrollAmount:200},callbacks:{whileScrolling:function(){var t=$(".sideNav .accessories .title").innerHeight()+parseInt($(".sideNav .accessories .navBg").css("margin-top")),e=Math.abs(this.mcs.top);t<=e?$(".sideNav .accessories .nav").addClass("fixed"):$(".sideNav .accessories .nav").removeClass("fixed"),10<e&&900<$(window).width()?$(".sideNav .accessories .nextStep").addClass("hideWords"):$(".sideNav .accessories .nextStep").removeClass("hideWords");var n=Math.floor($(window).height()/3);$(".sideNav .accessories .selectObjects .type").each(function(){var t=Math.floor(this.getBoundingClientRect().top),e=n-$(this).height()/2,i=n+$(this).height()/2,r=$(this).index();e<=t&&t<=i&&$(".sideNav .accessories .nav li").eq(r).addClass("active").siblings().removeClass("active")}),_Blazy.customizeW()},onOverflowYNone:function(){$(".sideNav .accessories").mCustomScrollbar("scrollTo",0),$(".sideNav .accessories .nav").removeClass("fixed")}}})},stepButon_click:function(){$(".sideNav .stepButon ul li").click(function(){$(this).hasClass("openSkinstyle")?(customized.makeframeOpen(),customized.skinstyleOpen()):$(this).hasClass("openAccessories")?customized.accessoriesOpen():($(".openAccessories,.openSkinstyle").removeClass("active"),$(".orderForm").addClass("active"),$(".accessories").hasClass("open")&&customized.accessoriesClose(),$(".skinstyle").hasClass("open")&&customized.skinstyleClose(),customized.orderDetailsOpen())})},makeframeOpen:function(){$(".orderDetails").css("display","none"),$(".sideNav").removeClass("step3"),$(window).width()<701?$(".makeframe").css("display","flex"):$(".makeframe").css("display","block")},orderDetailsOpen:function(){$(".orderDetails").css("display","block"),$(".makeframe").css("display","none"),$(".sideNav").addClass("step3"),_Blazy.customizeW(),$(window).width()<901&&($(".sideNav .stepButon ul").slick("slickGoTo",2),$(".sideNav .stepButon ul").slick("slickSetOption","swipe",!1))},skinstyleOpen:function(){$(".accessories .nav").removeClass("fixed"),$(".orderForm").removeClass("active"),device?$(".openSkinstyle").hasClass("active")?(customized.skinstyleClose(),$(window).width()<900&&$(".sideNav .stepButon ul").slick("slickSetOption","swipe",!0)):($(".openSkinstyle").addClass("active"),$(".skinstyle").slideDown(500),$(".skinstyle").addClass("open"),$(window).width()<900&&($(".sideNav .stepButon ul").slick("slickSetOption","swipe",!1),$(".sideNav .stepButon ul").slick("slickGoTo",0))):($(".openSkinstyle").addClass("active"),$(".accessories").hasClass("open")&&customized.accessoriesClose(),$(".skinstyle").addClass("open")),setTimeout(function(){_Blazy.customizeW()},500)},accessoriesOpen:function(){function t(){$(".sideNav .accessories .selectObjects ul .blueBorder").each(function(){var t=$(this).closest("ul").find("li.checked").innerWidth()+"px",e=$(this).closest("ul").find("li.checked").innerHeight()+"px",i=$(this).closest("ul").find("li.checked").position().top+"px";$(this).css({width:t,height:e,top:i})})}$(".skinstyle .nav").removeClass("fixed"),$(".orderForm").removeClass("active"),device?$(".openAccessories").hasClass("active")?(customized.accessoriesClose(),$(window).width()<900&&$(".sideNav .stepButon ul").slick("slickSetOption","swipe",!0)):($(".openAccessories").addClass("active"),$(".accessories").slideDown(500),$(".accessories").addClass("open"),$(window).width()<900&&($(".sideNav .stepButon ul").slick("slickSetOption","swipe",!1),$(".sideNav .stepButon ul").slick("slickGoTo",1))):($(".openAccessories").addClass("active"),$(".skinstyle").hasClass("open")&&customized.skinstyleClose(),$(".accessories").addClass("open")),customized.scrollBar(),$(window).resize(function(){t()}),t(),setTimeout(function(){_Blazy.customizeW()},500)},skinstyleClose:function(){$(".openSkinstyle").removeClass("active"),$(".sideNav .skinstyle").removeClass("open"),$(".sideNav .skinstyle").addClass("close"),$(".sideNav .skinstyle .nav").removeClass("fixed"),device&&($(".sideNav .skinstyle").slideUp(500),$(window).width()<900&&$(".sideNav .stepButon ul").slick("slickSetOption","swipe",!0)),setTimeout(function(){$(".sideNav .skinstyle").removeClass("close")},500)},skinstyleClose_click:function(){$(".sideNav .skinstyle .boxClose").click(function(){customized.skinstyleClose()}),$(".skinstyle").click(function(t){$(t.target).hasClass("mCSB_container")&&customized.skinstyleClose()})},chooseStyle:function(){$(".sideNav .skinstyle .navBg .nav li").click(function(){$(this).addClass("active").siblings().removeClass("active");var t=$(this).index();$(".sideNav .skinstyle .choose>div").eq(t).addClass("active").siblings().removeClass("active")}),$(".choose .material ._img,.choose .color ._img").click(function(){if($(this).closest("li").hasClass("active"))$(".makeframe .standardImg img").attr("src",originalImg),$(this).closest("li").removeClass("active"),$(".orderDetails .productFrame").css("display","none");else{var t=$(this).attr("data-src");$(".makeframe .standardImg img").attr("src",t),$(this).closest("li").addClass("active").siblings().removeClass("active"),0<$(this).closest(".material").length?$(".sideNav .skinstyle .color li,.sideNav .skinstyle .upload li").removeClass("active"):0<$(this).closest(".color").length&&$(".sideNav .skinstyle .material li,.sideNav .skinstyle .upload li").removeClass("active"),$(".orderDetails .productFrame").css("display","flex")}$(".makeframe .customizedCanvas").removeClass("active"),$(".makeframe .standardImg").addClass("active"),customized.skinstyleClose()}),$(".sideNav .skinstyle .uploadButton input").change(function(t){var r=$(this).val().split("/").pop().split("\\").pop(),n=$(this).val();if(this.files&&this.files[0]){var e=new FileReader;e.onload=function(i){var t=new Image;t.src=i.target.result,t.onload=function(){this.height,this.width;var t=$(".sideNav .skinstyle .uploadButton .price").text(),e='<li><div><div class="_img"><img src="'+i.target.result+'"  data-path="'+n+'" ><div class="hoverBox"><span class="iconN-hook"></span></div></div><p  class="name">'+r+'</p><p  class="price">'+t+"</p></div></li>";$(".sideNav .skinstyle .choose .upload ul").off().append(e),$(".sideNav .skinstyle .choose .upload li ._img").off().click(function(){if($(this).closest("li").hasClass("active"))$(".makeframe .customizedCanvas").removeClass("active"),$(".makeframe .standardImg").addClass("active"),$(".makeframe .standardImg img").attr("src",originalImg),$(this).closest("li").removeClass("active"),$(".orderDetails .productFrame").css("display","none");else{var t=$(this).find("img").attr("src");$(".makeframe .standardImg").removeClass("active"),$(".makeframe .customizedCanvas").addClass("active"),$(".makeframe #canvas canvas").remove(),customized.canvas(t),$(this).closest("li").addClass("active").siblings().removeClass("active"),$(".orderDetails .productFrame").css("display","flex");var e=$(this).find("img").attr("data-path");console.log(e),$("#uploadImgBig").val(e)}$(".sideNav .skinstyle .material li,.sideNav .skinstyle .color li").removeClass("active"),customized.skinstyleClose()})}},e.readAsDataURL(this.files[0])}})},canvas:function(t){function s(){$this=this,$(window).on("mousewheel",function(t){t.preventDefault(),t.deltaY<0?($this.scale.x*=.95,$this.scale.y*=.95):0<t.deltaY&&($this.scale.x*=1.05,$this.scale.y*=1.05)})}function a(){$(window).unbind("mousewheel")}function l(t){t.target.cursor="grabbing",this.dragging||(this.data=t.data,this.oldGroup=this.parentGroup,this.parentGroup=n,this.dragging=!0,this.scale.x*=1,this.scale.y*=1,this.dragPoint=t.data.getLocalPosition(this.parent),this.dragPoint.x-=this.x,this.dragPoint.y-=this.y)}function u(t){t.target.cursor="grab",this.dragging&&(this.dragging=!1,this.parentGroup=this.oldGroup,this.scale.x/=1,this.scale.y/=1,this.data=null)}function c(){if(this.dragging){var t=this.data.getLocalPosition(this.parent);this.x=t.x-this.dragPoint.x,this.y=t.y-this.dragPoint.y}}function h(t){if(1===this.data.originalEvent.touches.length&&this.dragging){var e=this.data.getLocalPosition(this.parent);this.x=e.x-this.dragPoint.x,this.y=e.y-this.dragPoint.y}else if(2===this.data.originalEvent.touches.length){var i=this.data.originalEvent.touches[0].clientX;touch1y=this.data.originalEvent.touches[0].clientY,touch2x=this.data.originalEvent.touches[1].clientX,touch2y=this.data.originalEvent.touches[1].clientY;var r=i-touch2x,n=touch1y-touch2y,o=Math.sqrt(r*r+n*n),s=m.pop();m.push(o),s<o&&this.scale.x<.5?(this.scale.x*=1.02,this.scale.y*=1.02):o<s&&.1<this.scale.x&&(this.scale.x*=.98,this.scale.y*=.98)}}var e=$(".makeframe .srcbox").width(),i=$(".makeframe .srcbox").height(),d=new PIXI.Application(e,i,{transparent:!0,preserveDrawingBuffer:!0});document.querySelector(".makeframe #canvas").appendChild(d.view),d.stage.interactive=!0;var r=new PIXI.Container;r.x=d.screen.width/2,r.y=d.screen.height/2;var n,o,f,p=new PIXI.Container;p.x=d.screen.width/2,p.y=d.screen.height/2,o=$(".makeframe .productImg").attr("src"),(f=PIXI.Sprite.fromImage(o)).anchor.set(.5),f.width=d.screen.width,f.height=d.screen.height,r.addChild(f),d.stage.addChild(r),function(t){var e=t,i=PIXI.Texture.fromImage(e);i.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST;var r=new PIXI.Sprite(i);r.interactive=!0,r.buttonMode=!0,r.anchor.set(.5),r.scale.set(1),device||(r.cursor="grab"),r.on("mousedown",l).on("touchstart",l).on("mouseup",u).on("mouseupoutside",u).on("touchend",u).on("touchendoutside",u).on("mousemove",c).on("touchmove",h).on("mouseover",s).on("mouseout",a),$(".makeframe .zoomIn").click(function(){r.scale.x*=1.05,r.scale.y*=1.05}),$(".makeframe .zoomOut").click(function(){r.scale.x*=.95,r.scale.y*=.95}),$(".makeframe .reset").click(function(){r.scale.x=1,r.scale.y=1,r.x=0,r.y=0});var n=$(".makeframe .frame").attr("src"),o=PIXI.Sprite.fromImage(n);o.anchor.set(.5,.5),o.width=d.screen.width,o.height=d.screen.height,r.mask=o,p.addChild(r,o),d.stage.addChild(p),d.stage.setChildIndex(p,0)}(t);var m=[]},materialPreview:function(){$(".openPreview").click(function(){var t="<article class='materialPreview'><section class='topNav'><div class='back'><span></span><p>CLOSE</p></div></section><section class='_img'><img src='"+$(this).closest("li").find("img").attr("src")+"'/></section></article>";$("body").append(t),$(".materialPreview").click(function(){$(this).addClass("close"),setTimeout(function(){$(".materialPreview").remove()},400)})})},accessoriesClose:function(){"block"==$(".orderDetails").css("display")&&$(".orderForm").addClass("active"),$(".sideNav .accessories").removeClass("open"),$(".sideNav .accessories").addClass("close"),$(".accessories .nav li").eq(0).addClass("active").siblings().removeClass("active"),$(".openAccessories").removeClass("active"),$(".sideNav .accessories .nav").removeClass("fixed"),device&&($(".sideNav .accessories").slideUp(500),$(window).width()<900&&$(".sideNav .stepButon ul").slick("slickSetOption","swipe",!0)),setTimeout(function(){$(".sideNav .accessories").removeClass("close")},500)},accessoriesClose_click:function(){$(".sideNav .accessories .nextStep").click(function(){customized.accessoriesClose(),customized.orderDetailsOpen()}),$(".accessories").click(function(t){$(t.target).hasClass("mCSB_container")&&customized.accessoriesClose()})},accessoriesChoose:function(){$(".sideNav .accessories .selectObjects ul li").click(function(t){if(0===$(".opentxt").has(t.target).length){$(this).addClass("checked").siblings().removeClass("checked");var e=$(this).position().top+"px",i=$(this).innerHeight()+"px";$(this).closest("ul").find(".blueBorder").css({top:e,height:i})}})},toTop:function(){$(".sideNav .accessories .toTop").click(function(){$(".sideNav .accessories").mCustomScrollbar("scrollTo",0,{scrollInertia:1800})})},anchor:function(){$(".sideNav .accessories .nav li").click(function(){var t=$(this).index();customized.anchorfunction(t)}),$(".sideNav .accessories .nav select").change(function(){var t=$(this).val();customized.anchorfunction(t)})},anchorfunction:function(t){for(var e=$(".sideNav .accessories .title").innerHeight(),i=$(".sideNav .accessories .navBg").innerHeight()+parseInt($(".sideNav .accessories .navBg").css("margin-top")),r=parseInt($(".sideNav .accessories .selectObjects").css("padding-top")),n=$(".sideNav .accessories .selectObjects .type").eq(t).prevAll(),o=0,s=0;s<n.length;s++)o=o+($(n).eq(s).innerHeight()+parseInt($(n).eq(s).css("margin-top")));var a=o+e+i+r;0!=t?$(".sideNav .accessories").mCustomScrollbar("scrollTo",a,1e3):$(".sideNav .accessories").mCustomScrollbar("scrollTo",0,1e3)},stepButonSlick:function(){$(window).width()<900&&$(".sideNav .stepButon ul").slick({slidesToShow:1,slidesToScroll:1,speed:500,infinite:!1,arrows:!1})},wordlatest:function(){$(".sideNav .accessories .selectObjects ul li .inf .introdution").each(function(){wordlatest(30,this)})},purchaseChange:function(){$(".orderDetails .productFrame .edit").click(function(){customized.skinstyleOpen(),customized.makeframeOpen()}),$(".orderDetails .purchase li .edit button").click(function(){customized.accessoriesOpen();var t=$(this).closest("li").index();setTimeout(function(){customized.anchorfunction(t)},600)})},all:function(){customized.stepButon_click(),customized.scrollBar(),customized.stepButonSlick(),customized.chooseStyle(),customized.skinstyleClose_click(),customized.materialPreview(),customized.accessoriesClose_click(),customized.accessoriesChoose(),customized.toTop(),customized.anchor(),customized.wordlatest(),customized.purchaseChange()}},situation={open_click:function(){$(".openSituation").click(function(){situation.open(),situation.canvas()})},open:function(){situation.toggleFullScreen(),$(".situation").addClass("open")},close_click:function(){$(".situation .liboxClose").click(function(){situation.close()})},close:function(){situation.toggleFullScreen(),$(".situation").removeClass("open"),$(".situation").addClass("close"),setTimeout(function(){$(".situation").removeClass("close"),$(".situation .bgSelect .options").css("display","none"),$(".situation #canvas canvas").remove()},800)},shareSlick:function(){$(".situation .bgSelect .options .share ._slick").slick({slidesToShow:8,slidesToScroll:1,lazyLoad:"ondemand",speed:500,infinite:!1,prevArrow:".situation .share .arrows span.iconN-left",nextArrow:".situation .share .arrows span.iconN-right",responsive:[{breakpoint:1501,settings:{slidesToShow:7}},{breakpoint:1301,settings:{slidesToShow:6}},{breakpoint:1151,settings:{slidesToShow:5}},{breakpoint:1025,settings:{slidesToShow:4}},{breakpoint:801,settings:{slidesToShow:3}},{breakpoint:601,settings:{slidesToShow:2}},{breakpoint:401,settings:{slidesToShow:1,centerMode:!0,centerPadding:"0px"}}]})},selfUploadSlick:function(){$(".situation .bgSelect .options .selfUpload ._slick ul").slick({slidesToShow:5,slidesToScroll:1,speed:500,infinite:!1,prevArrow:".situation .selfUpload .arrows span.iconN-left",nextArrow:".situation .selfUpload .arrows span.iconN-right",responsive:[{breakpoint:1601,settings:{slidesToShow:4}},{breakpoint:1351,settings:{slidesToShow:3}},{breakpoint:1151,settings:{slidesToShow:2}},{breakpoint:1025,settings:{slidesToShow:1,centerMode:!0,centerPadding:"0px"}},{breakpoint:901,settings:{slidesToShow:3}},{breakpoint:801,settings:{slidesToShow:2}},{breakpoint:651,settings:{slidesToShow:1}}]})},resetSlick:function(){$(".situation .bgSelect .options .selfUpload ._slick ul").slick("unslick"),situation.selfUploadSlick(),$(".situation .bgSelect .options .share ._slick").slick("unslick"),situation.shareSlick()},changeOption:function(){$(".situation .nav .share,.situation .nav .selfUpload").click(function(){$(this).addClass("active").siblings().removeClass("active"),$(this).hasClass("share")?($(".situation .options .share").addClass("active").siblings().removeClass("active"),situation.resetSlick()):$(this).hasClass("selfUpload")&&($(".situation .options .selfUpload").addClass("active").siblings().removeClass("active"),situation.resetSlick()),"none"==$(".situation .bgSelect .options").css("display")&&($(".situation .bgSelect .options").slideDown(500),situation.resetSlick(),device&&$(".situation .liboxClose,.situation .bgSelect .download").toggleClass("active"))}),$(".situation .bgSelect .nav .folding").click(function(){$(".situation .bgSelect .options").slideToggle(500),situation.resetSlick(),device&&$(".situation .liboxClose ,.situation .bgSelect .download").toggleClass("active")})},canvas:function(){function r(){$(".situation .bgSelect .options .selfUpload ._slick li").click(function(){$(this).addClass("active").siblings().removeClass("active"),$(".situation .bgSelect .options .share ._slick li").removeClass("active"),t($(this).find("img").attr("src"))})}function t(t){function e(){if(device){var t=document.documentElement.clientWidth,e=document.documentElement.clientHeight;t<e?($(".situation").width(e).height(t),$(".situation").css({top:(e-t)/2,left:0-(e-t)/2,transform:"rotate(90deg)","transform-origin":"50% 50%"}),setTimeout(function(){f.renderer.resize(window.innerHeight,window.innerWidth),r.width=f.screen.width,r.height=f.screen.height},500)):e<t&&($(".situation").width(t).height(e),$(".situation").css({top:0,left:0,transform:"none","transform-origin":"50% 50%"}),setTimeout(function(){f.renderer.resize(window.innerWidth,window.innerHeight),r.width=f.screen.width,r.height=f.screen.height},500))}else f.renderer.resize(window.innerWidth,window.innerHeight),r.width=f.screen.width,r.height=f.screen.height}var i=t,r=PIXI.Sprite.fromImage(i);r.anchor.set(0),r.interactive=!0,device&&$(window).width()<$(window).height()?(r.width=f.screen.height,r.height=f.screen.width):(r.width=f.screen.width,r.height=f.screen.height),n.addChild(r),f.stage.removeChild(n),f.stage.addChild(n),f.stage.setChildIndex(n,0),window.addEventListener("resize",e),e()}function a(){$this=this,$(window).on("mousewheel",function(t){t.preventDefault(),t.deltaY<0&&.2<$this.scale.x?($this.scale.x*=.95,$this.scale.y*=.95):0<t.deltaY&&$this.scale.x<1&&($this.scale.x*=1.05,$this.scale.y*=1.05)})}function l(){$(window).unbind("mousewheel")}function u(t){device||(t.target.cursor="url('../../assets/img/icon/hand.svg'), auto"),this.dragging||(this.data=t.data,this.oldGroup=this.parentGroup,this.parentGroup=o,this.dragging=!0,this.scale.x*=1,this.scale.y*=1,this.dragPoint=t.data.getLocalPosition(this.parent),this.dragPoint.x-=this.x,this.dragPoint.y-=this.y)}function c(t){device||(t.target.cursor="url('../../assets/img/icon/mouse.svg'), auto"),this.dragging&&(this.dragging=!1,this.parentGroup=this.oldGroup,this.scale.x/=1,this.scale.y/=1,this.data=null)}function h(t){if(this.dragging){var e=this.data.getLocalPosition(this.parent);this.x=e.x-this.dragPoint.x,this.y=e.y-this.dragPoint.y}}function d(t){if(1===this.data.originalEvent.touches.length&&this.dragging){var e=this.data.getLocalPosition(this.parent);this.x=e.x-this.dragPoint.x,this.y=e.y-this.dragPoint.y}else if(2===this.data.originalEvent.touches.length){var i=this.data.originalEvent.touches[0].clientX;touch1y=this.data.originalEvent.touches[0].clientY,touch2x=this.data.originalEvent.touches[1].clientX,touch2y=this.data.originalEvent.touches[1].clientY;var r=i-touch2x,n=touch1y-touch2y,o=Math.sqrt(r*r+n*n),s=v.pop();v.push(o),s<o&&this.scale.x<.8?(this.scale.x*=1.02,this.scale.y*=1.02):o<s&&.1<this.scale.x&&(this.scale.x*=.98,this.scale.y*=.98)}}var e=$(window).width(),i=$(window).height(),f=new PIXI.Application(e,i,{autoResize:!0,transparent:!0,preserveDrawingBuffer:!0,autoPreventDefault:!1});document.querySelector(".situation #canvas").appendChild(f.view),f.stage.interactive=!1;var n=new PIXI.Container;n.x=0,n.y=0,n.width=f.screen.width,n.height=f.screen.height;var o,p=new PIXI.Container;if(p.x=f.screen.width/2,p.y=f.screen.height/6,t($(".situation .options ._slick li.active ._img").find("img").attr("src")),$(".situation .bgSelect .options .share ._slick li").click(function(){$(this).addClass("active").siblings().removeClass("active"),$(".situation .bgSelect .options .selfUpload ._slick li").removeClass("active"),t($(this).find("img").attr("src"))}),$(".situation .bgSelect .upLoad input").off().change(function(){var i=$(this).val().split("/").pop().split("\\").pop();if(this.files&&this.files[0]){var t=new FileReader;t.onload=function(e){var t=new Image;t.src=e.target.result,t.onload=function(){this.height,this.width;var t='<li><div class="_img"><img src="'+e.target.result+'"><div class="checkbox"><span class="iconN-hook"></span></div></div><p>'+i+"</p></li>";return $(".situation .bgSelect .options .selfUpload ul").append(t),situation.resetSlick(),r(),!0}},t.readAsDataURL(this.files[0])}}),r(),$(".situation .bgSelect .download").click(function(t){t.preventDefault(),f.view.toBlobHD(function(t){saveAs(t,"image.png")})}),$(".makeframe .standardImg").hasClass("active"))var s=$(".makeframe .standardImg img").width(),m=$(".makeframe .standardImg img").height();else if($(".makeframe .customizedCanvas").hasClass("active"))s=$(".makeframe .customizedCanvas .frame").width(),m=$(".makeframe .customizedCanvas .frame").height();!function(e,i,r){if($(".makeframe .standardImg").hasClass("active"))var t=$(".makeframe .standardImg img").attr("src");else $(".makeframe .customizedCanvas").hasClass("active")&&(t=document.querySelector(".customizedCanvas #canvas canvas").toDataURL());var n=PIXI.Texture.fromImage(t);n.baseTexture.scaleMode=PIXI.SCALE_MODES.NEAREST;var o=new PIXI.Sprite(n);o.interactive=!0,o.buttonMode=!0,device||(o.cursor="url('../../assets/img/icon/mouse.svg'), auto"),o.anchor.set(.5,0);var s=o.width=f.screen.width*r;o.height=e/i*s,p.addChild(o),f.stage.addChild(p),o.on("mousedown",u).on("touchstart",u).on("mouseup",c).on("mouseupoutside",c).on("touchend",c).on("touchendoutside",c).on("mousemove",h).on("touchmove",d).on("mouseover",a).on("mouseout",l),window.addEventListener("resize",function(){var t=o.width=f.screen.width*r;o.height=e/i*t,p.x=f.screen.width/2,p.y=f.screen.height/6})}(m,s,.2);var v=[]},toggleFullScreen:function(){var t=window.document,e=t.documentElement,i=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,r=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen;is_safari||($(".situation").hasClass("open")?r.call(t):i.call(e))},all:function(){situation.open_click(),situation.close_click(),situation.shareSlick(),situation.selfUploadSlick(),situation.changeOption()}},user=!0,_waypoint={customizeW:function(){$("main").hasClass("result")&&_waypoint.eachWaypoint(".resultContent .box","80%")},shopW:function(){_waypoint.eachWaypoint(".productList","80%"),$("main").hasClass("checkout")&&_waypoint.eachWaypoint(".gifts,.purchase,.discount","100%"),$("main").hasClass("payment")&&_waypoint.eachWaypoint(".shipping,.invoic,.payway","100%")},memberW:function(){_waypoint.eachWaypoint(".memberCenter .content section","70%"),_waypoint.eachWaypoint(".infManage form .option section","70%"),_waypoint.eachWaypoint(".list .box","70%"),_waypoint.eachWaypoint(".billDetail .content section,.returnDetail .content section","70%"),_waypoint.eachWaypoint(".favorite .list ul li","60%"),_waypoint.eachWaypoint(".favorite .list ul li","60%"),_waypoint.singleWaypoint(".messageContent .addMessage","80%"),_waypoint.eachWaypoint(".messageContent .messageList a","70%"),_waypoint.eachWaypoint(".messageDetail .messageContent .messageList ","70%"),_waypoint.eachWaypoint(".messageDetail .messageContent .messageList li","70%"),_waypoint.eachWaypoint(".dividend .table,.list ._title","70%")},catalogueW:function(){$(".catalogueContent .box").each(function(t,e){$(e).waypoint({handler:function(t){"up"==t&&1024<$(window).width()&&$(e).removeClass("show"),"down"==t&&$(e).addClass("show")},offset:"80%"})})},eachWaypoint:function(t,i){$(t).each(function(t,e){$(e).waypoint({handler:function(){$(e).addClass("show")},offset:i})})},singleWaypoint:function(t,e){$(t).waypoint({handler:function(){$(t).addClass("show")},offset:e})}},_Blazy={customizeW:function(){new Blazy({offset:100,success:function(t){Waypoint.refreshAll(),$(t).closest(".box").addClass("in"),$(t).closest("._img").addClass("show")}})},memberW:function(){new Blazy({offset:100,success:function(t){Waypoint.refreshAll(),$(t).closest("li").addClass("in")}})},catalogueW:function(){new Blazy({offset:100,success:function(t){Waypoint.refreshAll(),$(t).closest(".box").addClass("in")}})}},noStop=!0,customize={selectMeasureWay:function(){$(".openForm").click(function(){$(this).closest("section").siblings().hasClass("active")?customize.noticeLibox(this):customize.measureOpen(this)})},noticeLibox:function(t){$(".notice").addClass("open"),$(".notice section .button ul li").click(function(){$(".notice").removeClass("open").addClass("close"),setTimeout(function(){$(".notice").removeClass("close")},400),$(this).hasClass("yes")&&customize.measureOpen(t)}),$(".notice").click(function(t){$(t.target).hasClass("notice")&&($(".notice").removeClass("open").addClass("close"),setTimeout(function(){$(".notice").removeClass("close")},400))})},measureOpen:function(t){$this=$(t),$this.closest("section").siblings().find("form")[0].reset(),$this.find(".numb,p").slideUp(300),$this.closest("section").addClass("active"),$this.closest("section").siblings().find("form").slideUp(300),$this.closest("section").siblings().removeClass("active"),setTimeout(function(){$this.closest("section").siblings().find(".numb,p").slideDown(500),$this.closest("section").find("form").slideDown(500),$(window).width()<701&&($this.find("._img").slideDown(500),$this.closest("section").siblings().find("._img").slideUp(500))},300),setTimeout(function(){$this.closest("section").find(".workbox input").eq(0).focus(),$("main article").getNiceScroll().resize()},800)},inputFocus:function(){$(".workbox").click(function(){$(this).find("input[type='number']").focus(),$(this).find("input[type='text']").focus()}),$("input[type='number'],input[type='text']").each(function(){$(this).on("keypress",function(){13==event.keyCode&&(event.preventDefault(),$(this).closest("form").find("button").click())}),$(this).focusin(function(){$(this).closest(".workbox").addClass("active");var t=$(this).closest(".workbox");t.hasClass("length")?($(".measuring ._img .width,.measuring ._img .high").css("opacity","0"),$(".measuring ._img .length").css("opacity","1")):t.hasClass("width")?($(".measuring ._img .length,.measuring ._img .high").css("opacity","0"),$(".measuring ._img .width").css("opacity","1")):t.hasClass("high")&&($(".measuring ._img .length,.measuring ._img .width").css("opacity","0"),$(".measuring ._img .high").css("opacity","1"))}),$(this).focusout(function(){$(this).closest(".workbox").removeClass("active"),$(".measuring ._img img").css("opacity","1")})})},measureHouse:function(){$(".measuring .left form .workbox").each(function(){$(this).mouseover(function(){$(this).hasClass("length")?($(".measuring ._img .width,.measuring ._img .high").css("opacity","0"),$(".measuring ._img .length").css("opacity","1")):$(this).hasClass("width")?($(".measuring ._img .length,.measuring ._img .high").css("opacity","0"),$(".measuring ._img .width").css("opacity","1")):$(this).hasClass("high")&&($(".measuring ._img .length,.measuring ._img .width").css("opacity","0"),$(".measuring ._img .high").css("opacity","1"))}),$(this).mouseout(function(){0!=$(".measuring .left form .active").length?$(".measuring .left form .active").each(function(){var t=$(this).attr("class").replace(/ workbox/,"").replace(/ active/,"");"length"==t?($(".measuring ._img .width,.measuring ._img .high").css("opacity","0"),$(".measuring ._img .length").css("opacity","1")):"width"==t?($(".measuring ._img .length,.measuring ._img .high").css("opacity","0"),$(".measuring ._img .width").css("opacity","1")):"high"==t&&($(".measuring ._img .length,.measuring ._img .width").css("opacity","0"),$(".measuring ._img .high").css("opacity","1"))}):$(".measuring ._img img").css("opacity","1")})})},indexNicescroll:function(){$("main article").niceScroll({cursorborder:"none",cursorcolor:"transparent"})},animateDelay:function(){$(".box").each(function(){var t=$(this).index()%3;if($(window).width()<1025)t=$(this).index()%2;if($(window).width()<701)t=0;var e=.3*t+"s";$(this).css("animation-delay",e)})},quantity:function(){var t=$(".resultContent .boxs .box").length;$(".topTitle section .match span").text(t)},openTextureLibox:function(){function e(){$(".materialInf .back").click(function(){$(".materialInf").addClass("close"),setTimeout(function(){$(".materialInf").remove()},400)}),$(".materialInf").click(function(t){$(t.target).hasClass("materialInf")&&($(this).addClass("close"),setTimeout(function(){$(".materialInf").remove()},400))})}$(".openinf").click(function(){$("body").append("<article class='materialInf'></article>"),user?$.ajax({url:"../../views/customize/materialInf.html"}).done(function(t){$(".materialInf").html(t),e()}):e()})},openDisclaimerLibox:function(){function e(){$(".statement .back").click(function(){$(".statement").addClass("close"),setTimeout(function(){$(".statement").remove()},400)}),$(".statement").click(function(t){$(t.target).hasClass("statement")&&($(this).addClass("close"),setTimeout(function(){$(".statement").remove()},400))})}$(".agree p a").click(function(){$("body").append("<article class='statement'></article>"),user?$.ajax({url:"../../views/customize/statement.html"}).done(function(t){$(".statement").html(t),e()}):e()})},changeConditionerType:function(){$(".orderDetails .product .edit button").click(function(){$(".changeProduct").addClass("open"),e.all()});var e={close_click:function(){$(".changeProduct .no").click(function(){e.close()}),$(".changeProduct").click(function(t){$(t.target).hasClass("changeProduct")&&e.close()}),$(".changeProduct .yes").click(function(){history.back()})},close:function(){$(".changeProduct").removeClass("open"),$(".changeProduct").addClass("close"),setTimeout(function(){$(".changeProduct").removeClass("close")},400)},all:function(){e.close_click()}}},goNextArea:function(t){if($(t).hasClass("allset")){$(t).closest("article").addClass("done");var e=$(t).closest("article").index()+1,i=document.querySelectorAll("main article");if($(i[e]).addClass("active").removeClass("done"),$(".topNav .dot").addClass("active"),2<e){var r=$(t).closest("article").index()-1,n=22*r+11;$(".topNav .dot ul i").css("top",n),$(".topNav .dot ul li").eq(r).addClass("active").siblings().removeClass("active")}}else alert("尚未選取完成")},backToPrevArea:function(t){$(t).closest("article").removeClass("active");var e=$(t).closest("article").index()-1,i=document.querySelectorAll("main article");if($(i[e]).addClass("active").removeClass("done"),1<e){var r=$(t).closest("article").index()-3,n=22*r+11;$(".topNav .dot ul i").css("top",n),$(".topNav .dot ul li").eq(r).addClass("active").siblings().removeClass("active")}},checkFinish:function(){function t(t){($this=$(t),"radio"==$this.attr("type"))&&(0<$this.closest("ul").find("input[type='radio']:checked").length?$this.closest(".workbox").addClass("checked"):$this.closest(".workbox").removeClass("checked"));"text"!=$this.attr("type")&&"number"!=$this.attr("type")||(""!=$this.val()?$this.closest(".workbox").addClass("checked"):$this.closest(".workbox").removeClass("checked"));for(var e=$this.closest("form").find(".workbox"),i=0;i<e.length;i++){if(!$(e[i]).hasClass("checked")){$this.closest("form").find(".next").removeClass("allset");break}i==e.length-1&&$this.closest("form").find(".next").addClass("allset")}}$("input").each(function(){t(this),$(this).on("keyup",function(){t(this)}),$(this).on("change",function(){t(this)})}),$(".type .right form .button .next").click(function(){if($(this).hasClass("allset")){pagechange("../customize/result.html")}else alert("尚未選取完成")})},all:function(){$("main").hasClass("index")&&(customize.inputFocus(),customize.selectMeasureWay(),customize.measureHouse(),customize.indexNicescroll(),customize.checkFinish()),$("main").hasClass("result")&&(customize.animateDelay(),customize.quantity()),$("main").hasClass("contact")&&customize.inputFocus(),$("main").hasClass("customized")&&(customize.openTextureLibox(),customize.openDisclaimerLibox(),customize.changeConditionerType(),customized.all(),situation.all())}},accessoriesInf={number:function(){$(".areaLeft").each(function(){var t=$(this).closest(".area").index();if(9<t)var e=t;else e="0"+t;$(this).find(".numb").text(e)})},areaLeftFixed:function(){var a=$(window).height();$(window).scroll(function(){$(".feature .area").each(function(){var t=$(this),e=$(this).find(".areaLeft");if(t.innerHeight()>a){var i=this.getBoundingClientRect().top,r=this.getBoundingClientRect().bottom,n=e.innerHeight(),o=a/2-n/2,s=a/2+n/2;i<=o?(e.addClass("fixed"),r<=s?e.addClass("bottom"):s<r&&e.removeClass("bottom")):o<i&&e.removeClass("fixed"),e.removeClass("normal")}else e.addClass("normal")})})},all:function(){$("main").hasClass("accessoriesInf")&&(accessoriesInf.number(),901<$(window).width()&&accessoriesInf.areaLeftFixed())}},shop={orderDetailBottom:function(){shop.orderDetailBottom_check(),$(window).scroll(function(){shop.orderDetailBottom_check()})},orderDetailBottom_check:function(){var t=$(window).scrollTop()+$(window).height();$("footer").offset().top<=t?$(".orderDetail").addClass("bottom"):$(".orderDetail").removeClass("bottom")},customizeOrderLibox:function(){function e(){$(".customizeOrderLibox").addClass("close"),mobile()?$("body").css("overflow-y","visible"):$("body").css({"overflow-y":"visible","padding-right":"0"}),setTimeout(function(){$(".customizeOrderLibox").remove()},400)}$(".openOrder").click(function(){$("body").append("<article class='customizeOrderLibox'></article>");var t=$(this).attr("data-src");$.ajax({url:t}).done(function(t){$(".customizeOrderLibox").html(t),mobile()?$("body").css("overflow-y","hidden"):$("body").css({"overflow-y":"hidden","padding-right":"1rem"}),$(".customizeOrderLibox section").niceScroll(),$(".customizeOrderLibox .topNav .back").click(function(){e()}),$(".customizeOrderLibox").click(function(t){$(t.target).hasClass("customizeOrderLibox")&&e()})})})},formDivDelay:function(){$("form>div").each(function(){var t=.3*$(this).index()+1+"s";$(this).css("animation-delay",t)})},priceInitialize:function(){$(".amount input[type='number'],.inputArea input[type='number']").each(function(){var t=$(this).val(),e=$(this).closest("div").parent().find(".price").attr("data-price")*t;NaN!==t&&$(this).closest("div").parent().find(".price").text(e.toLocaleString())})},showDetailPrice:function(){mobile()&&$(".others div,.freight").css("display","none"),$(".totalPrice button").click(function(){$(".others div,.freight").slideToggle({start:function(){$(this).css({display:"flex"})},duration:400}),$(".others div:first-child,.totalPrice button").toggleClass("active")})},rebateOrcode:function(){$(".discountList>div").eq(0).addClass("active").find(".price").removeClass("notYou"),$(".discountList .rebate,.discountList .code").click(function(){$(this).addClass("active").find(".price").removeClass("notYou"),$(this).siblings(".rebate,.code").removeClass("active").find(".price").addClass("notYou"),totalPrice()}),$(".discount form.discountList>div .inputArea").each(function(){1==$(this).find(">*").length&&$(this).css("background-color","transparent")})},textInput:function(){$("main input[type='text'],main input[type='number']").each(function(){var t,e;$this=$(this),$(this).keydown(function(t){13===t.keyCode&&(t.preventDefault(),$(this).siblings("button").click())}),$(this).closest(".inputArea").parent().click(function(){$(this).find("input[type='text']").focus()}),$(this).closest(".textInputs").find("div").click(function(){$(this).find("input").focus()}),t=this,e=451,""!==$(t).attr("data-rwdPlaceholder")&&$(window).width()<e&&$(t).attr("placeholder",$(t).attr("data-rwdPlaceholder"))})},addAddress:function(){$("input[name='packageAddress'],input[name='ticketAddress']").off().click(function(){$(this).parent().hasClass("addAddress")?$(this).closest(".item").find(".textInputs").slideDown({duration:500,progress:function(){shop.orderDetailBottom_check()}}):$(this).parent().hasClass("addAddress")||"flex"!=$(this).closest(".item").find(".textInputs").css("display")||$(this).closest(".item").find(".textInputs").slideUp({duration:500,progress:function(){shop.orderDetailBottom_check()}})}),$("input[name='ticketType']").off().click(function(){if($(this).parent().attr("data-hasTextInput")){var t=".type."+$(this).parent().attr("class");$(t).slideDown(500).siblings(".type").slideUp(500)}else $(".type").slideUp(500)})},selectPayway:function(){$(".tables .payway form .item").each(function(){$(this).click(function(){$(this).addClass("active").siblings().removeClass("active"),0===$(this).has(".checkBoxs").length&&$(".tables .payway form .item .checkBoxs input[type='radio']").attr("checked",!1)})})},addNumb:function(t){var e=parseInt($(t).parent().find("input[type='number']").val())+1,i=$(t).parent().find("input[type='number']").attr("max");i<e&&""!==i&&(e=$(t).parent().find("input[type='number']").attr("max")),$(t).parent().find("input[type='number']").val(e);var r=$(t).closest(".amount").parent().find(".price").attr("data-price")*e;$(t).closest(".amount").parent().find(".price").text(r.toLocaleString()),totalPrice(".productList .price",".orderDetail .totalPrice .numb")},decreaseNumb:function(t){var e=parseInt($(t).parent().find("input[type='number']").val())-1;if(e<=0)$(t).parent().find("input[type='number']").val(0),$(t).closest(".amount").parent().find(".price").text("0");else{$(t).parent().find("input[type='number']").val(e);var i=$(t).closest(".amount").parent().find(".price").attr("data-price")*e;$(t).closest(".amount").parent().find(".price").text(i.toLocaleString())}totalPrice(".productList .price",".orderDetail .totalPrice .numb")},inputChange:function(t){var e=$(t).val(),i=$(t).closest(".amount").parent().find(".price").attr("data-price")*e;$(t).closest(".amount").parent().find(".price").text(i.toLocaleString()),totalPrice(".productList .price",".orderDetail .totalPrice .numb")},listRemove:function(t){$(".productList .remove").each(function(){$(this).off().click(function(){$(this).find(".sureLibox").css("display","block")})}),$(".sureLibox .no").off().click(function(){$this=$(this),$this.closest(".sureLibox").addClass("close"),setTimeout(function(){$this.closest(".sureLibox").removeClass("close"),$this.closest(".sureLibox").css("display","none")},400)}),$(".sureLibox .yes").click(function(){$(t).closest(".remove").parent().slideUp({diration:500,complete:function(){$(t).closest(".remove").parent().remove(),1024<$(window).width()&&shop.orderDetailBottom_check(),totalPrice(".productList .price",".orderDetail .totalPrice .numb")}})})},totalPrice:function(t,e){for(var i=document.querySelectorAll(t),r=0,n=0;n<i.length;n++)r=r+parseInt($(i[n]).text().replace(/,/,""));var o=r.toLocaleString();$(e).text(o)},loading:function(){$("body").append('<article class="loading"><section><div class="title"><span class="iconN-paying"><img src="../../upload/shop/ring.png" alt=""></span><p class="en">PAYMENT</p><p class="ch">結帳</p></div><div class="words"><p>付款連線中，請勿關閉視窗</p></div></section></article>'),setTimeout(function(){$("html").animate({opacity:"0"},{queue:!0,duration:800,easing:"easeOutQuad",complete:function(){setTimeout(function(){window.location.href="https://www.paypal.com/tw/home"},100)}})},5e3)},all:function(){shop.orderDetailBottom(),shop.customizeOrderLibox(),shop.formDivDelay(),shop.priceInitialize(),shop.showDetailPrice(),$("main").hasClass("index")&&shop.totalPrice(".productList .price",".orderDetail .totalPrice .numb"),$("main").hasClass("checkout")&&(shop.rebateOrcode(),shop.textInput()),$("main").hasClass("payment")&&(shop.addAddress(),shop.textInput(),shop.selectPayway())}},member={inputBoxFocus:function(){$("main input[type='text']:not(.datePicker)").each(function(){$(this).parent().click(function(){$(this).find("input").focus()})})},simpleLibox:function(){function t(t,e){function i(){$(e).removeClass("open").addClass("close"),setTimeout(function(){$(e).removeClass("close")},400)}$(t).click(function(){$(e).addClass("open")}),$(e).find(".back").click(function(){i()});var r=e.replace(/./,"");$(e).click(function(t){$(t.target).hasClass(r)&&i()})}t(".openWhatLibox",".whatLibox"),t(".openTerms",".terms")},perfectSCroll:function(){if(mobile()&&0!=$("#member .topTitle ul").length){var t=document.querySelector("#member .topTitle ul");new PerfectScrollbar(t,{suppressScrollY:!0,maxScrollbarLength:1})}},dateDrooper:function(){function e(){$p=$(".birthday p"),$p.text()==$p.attr("data-placeholder")?$p.css("color","#7676768"):$p.css("color","#000")}$(".datePicker").dateDropper(),$(".datePicker").change(function(){var t=$(this).val();$(".birthday p").text(t),e()}),e()},showPassWord:function(){for(var t=$("#password").text(),e="",i=0;i<t.length;i++)e=e+"●";$("#password").text(e),$(".showPassWord").click(function(){this.checked?$("#password").text(t):$("#password").text(e)})},gender:function(){$("input[name='gender']").each(function(){var t=$('input[name="gender"]:checked').val();$(".picture ._img figure").attr("class",t),$(this).change(function(){var t=$('input[name="gender"]:checked').val();$(".picture ._img figure").attr("class",t)})})},liDelay:function(){$(".billDetail .content section>ul li,.returnDetail .content section>ul li").each(function(){var t=.2*$(this).index()+1+"s";$(this).css("animation-delay",t)}),$(".dividend .table ul li").each(function(){var t=.2*$(this).index()+.8+"s";$(this).css("animation-delay",t)})},coutUp:function(){$(".billList .list .box,.return .list .box").each(function(){if((t=$(this).index()+1)<10)var t="0"+t;$(this).find(".numb").text(t)})},animateDelay:function(){$(".favorite .list ul li").each(function(){var t=$(this).index();if($(window).width()<701)var e=0;else if($(window).width()<901)e=t%2;else e=t%3;var i=.24*e+"s",r=.24*e+.24+"s";$(this).find("._img span:last-child").css("animation-delay",i),$(this).find("._img span:first-child,._img img").css("animation-delay",r)})},hasCollection:function(){0===$(".favorite .list ul li").length?$(".nothing").show():$(".nothing").hide()},wordlatest:function(){wordlatest(120,".messageList ._text .words p"),$(window).width()<700&&wordlatest(60,".messageList ._text .words p")},removeClick:function(){$(".remove").off().click(function(){removeLibox.all(),$element=$(this).closest("li");var t=$element.find("._img img").attr("src"),e=$element.find(".modelNumb").text(),i=$element.find(".productName").text(),r=$element.find(".price").text();$(".removeLibox ._img img").attr("src",t),$(".removeLibox .modelNumb").text(e),$(".removeLibox .productName").text(i),$(".removeLibox .price").text(r),$(".removeLibox section .buttons .sureRemove").click(function(){$element.delay().remove(),member.hasCollection()})})},toNext:function(t){$(t).closest("section").removeClass("active").addClass("close"),setTimeout(function(){$(t).closest("section").removeClass("close"),$(t).closest("section").next().addClass("active")},400)},openLibox_click:function(){$(".openLibox").each(function(){$(this).click(function(){var t=$(this).attr("data-src");$("body").append("<article class='infManageLibox'></article>"),$.ajax({url:t}).done(function(t){$(".infManageLibox").html(t),infManageLibox.all()})})})},openCancelLibox_click:function(){$(".openCancelLibox").click(function(){var t=$(this).attr("data-src");$("body").append("<article class='cancelLibox'></article>"),$.ajax({url:t}).done(function(t){$(".cancelLibox").html(t),cancelLibox.all()})})},all:function(){member.inputBoxFocus(),vcode("#vcode"),countDown(".countUp"),member.perfectSCroll(),member.liDelay(),member.coutUp(),member.simpleLibox(),$("main").hasClass("infManage")&&(member.showPassWord(),member.dateDrooper(),member.gender(),member.openLibox_click()),$("main").hasClass("billDetail")&&(shop.customizeOrderLibox(),member.openCancelLibox_click()),$("main").hasClass("favorite")&&(member.animateDelay(),member.hasCollection(),member.removeClick()),$("main").hasClass("message")&&member.wordlatest()}},removeLibox={open:function(){$(".removeLibox").addClass("open"),mobile()?$("body").css("overflow-y","hidden"):$("body").css({"overflow-y":"hidden","padding-right":"1rem"})},close_click:function(){$(".removeLibox .back,.removeLibox button").click(function(){removeLibox.close()}),$(".removeLibox").click(function(t){$(t.target).hasClass("removeLibox")&&removeLibox.close()})},close:function(t){$(".removeLibox").removeClass("open").addClass("close"),mobile()?$("body").css("overflow-y","visible"):$("body").css({"overflow-y":"visible","padding-right":"0rem"}),setTimeout(function(){$(".removeLibox").removeClass("close")},800)},all:function(){removeLibox.open(),removeLibox.close_click()}},forgetLibox={open:function(){$(".forgetLibox").addClass("open"),$(".forgetLibox").find("section").eq(1).addClass("active").siblings().removeClass("active"),mobile()?$("body").css("overflow-y","hidden"):$("body").css({"overflow-y":"hidden","padding-right":"1rem"})},close:function(t){$(t).closest("article").removeClass("open").addClass("close"),mobile()?$("body").css("overflow-y","visible"):$("body").css({"overflow-y":"visible","padding-right":"0rem"}),setTimeout(function(){$(t).closest("article").removeClass("close")},400)}},infManageLibox={open:function(){$(".infManageLibox").addClass("open"),$(".infManageLibox section").eq(1).addClass("active").siblings().removeClass("active"),mobile()?$("body").css("overflow-y","hidden"):$("body").css({"overflow-y":"hidden","padding-right":"1rem"})},close:function(t){$(t).closest("article").removeClass("open").addClass("close"),mobile()?$("body").css("overflow-y","visible"):$("body").css({"overflow-y":"visible","padding-right":"0rem"}),setTimeout(function(){$(t).closest("article").remove()},400)},inputFocus:function(){$(".infManageLibox input[type='text']").each(function(){$(this).parent().click(function(){$(this).find("input").focus()})})},all:function(){vcode("#vcode"),infManageLibox.open(),infManageLibox.inputFocus()}},verifyLibox={open:function(){$(".verifyLibox").addClass("open"),$(".verifyLibox").find("section").eq(1).addClass("active").siblings().removeClass("active")},close:function(t){$(t).closest("article").removeClass("open").addClass("close"),setTimeout(function(){$(t).closest("article").removeClass("close")},400)}},cancelLibox={open:function(){$(".cancelLibox").addClass("open"),mobile()?$("body").css("overflow-y","hidden"):$("body").css({"overflow-y":"hidden","padding-right":"1rem"})},close_click:function(){$(".liboxClose").click(function(){cancelLibox.close()}),$(".cancelLibox").click(function(t){$(t.target).hasClass("cancelLibox")&&cancelLibox.close()})},close:function(t){$(".cancelLibox").removeClass("open").addClass("close"),mobile()?$("body").css("overflow-y","visible"):$("body").css({"overflow-y":"visible","padding-right":"0rem"}),setTimeout(function(){$(".cancelLibox").remove()},800)},success:function(){$(".why").addClass("up"),$(".why").delay(300).slideUp(500),$(".success").delay(300).slideDown(500)},fail:function(){$(".why").addClass("up"),$(".why").delay(300).slideUp(500),$(".fail").delay(300).slideDown(500)},all:function(){cancelLibox.open(),cancelLibox.close_click()}},catalogue={perfectSCroll:function(){if(mobile()&&0!=$(".topTitle>div ul").length){var t=document.querySelector(".topTitle>div ul");new PerfectScrollbar(t,{suppressScrollY:!0,maxScrollbarLength:1})}},liClick:function(){$(".topTitle>div ul li").each(function(){$(this).click(function(){$(this).addClass("active").siblings().removeClass("active")})})},all:function(){catalogue.perfectSCroll(),catalogue.liClick()}};$(document).ready(function(){appleDebug();var t=$("main").attr("id");dropDown(),"customize"==t&&(customize.all(),accessoriesInf.all(),_Blazy.customizeW(),_waypoint.customizeW(),goTop()),"shop"==t&&(shop.all(),_waypoint.shopW()),"member"==t&&(_Blazy.memberW(),member.all(),_waypoint.memberW()),"catalogue"==t&&(catalogue.all(),_waypoint.catalogueW(),_Blazy.catalogueW())}),document.createElement("picture");