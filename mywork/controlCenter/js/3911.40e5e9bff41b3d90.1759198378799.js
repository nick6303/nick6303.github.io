(self["webpackChunkcontrol_center"]=self["webpackChunkcontrol_center"]||[]).push([[3911],{22929:function(e,l,a){var t=a(78128);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);var o=a(68459).A;o("8538cad6",t,!0,{sourceMap:!1,shadowMode:!1})},73911:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return w}});var t=a(56768),o=a(24232);const r={class:"panelContent EditInput"},n={class:"contentWrapper",ref:"contentWrapper"},d={class:"row"},i={class:"row"},u={class:"row"},c={class:"row"},s={class:"row"},p={class:"buttonWrapper"};function m(e,l,a,m,f,b){const k=(0,t.g2)("el-input"),F=(0,t.g2)("el-form-item"),h=(0,t.g2)("ColorPicker"),V=(0,t.g2)("el-switch"),v=(0,t.g2)("el-divider"),_=(0,t.g2)("FontFamily"),g=(0,t.g2)("FontSizeEdit"),D=(0,t.g2)("el-button"),C=(0,t.g2)("el-tooltip"),w=(0,t.g2)("el-radio-button"),x=(0,t.g2)("el-radio-group"),y=(0,t.g2)("el-form");return(0,t.uX)(),(0,t.CE)("div",r,[(0,t.Lk)("div",n,[(0,t.bF)(y,{class:"contentInner",ref:"editForm",model:m.formData,rules:m.rules,"label-width":"100px"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",d,[(0,t.bF)(F,{class:"paramKey",label:"代號",prop:"paramKey"},{default:(0,t.k6)(()=>[(0,t.bF)(k,{modelValue:m.formData.paramKey,"onUpdate:modelValue":l[0]||(l[0]=e=>m.formData.paramKey=e)},{append:(0,t.k6)(()=>[...l[17]||(l[17]=[(0,t.eW)("$",-1)])]),prepend:(0,t.k6)(()=>[...l[18]||(l[18]=[(0,t.eW)("$",-1)])]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(F,{label:"預設值"},{default:(0,t.k6)(()=>[(0,t.bF)(k,{modelValue:m.formData.defaultValue,"onUpdate:modelValue":l[1]||(l[1]=e=>m.formData.defaultValue=e)},null,8,["modelValue"])]),_:1})]),(0,t.Lk)("div",i,[(0,t.bF)(F,{label:"提示字"},{default:(0,t.k6)(()=>[(0,t.bF)(k,{modelValue:m.formData.placeholder,"onUpdate:modelValue":l[2]||(l[2]=e=>m.formData.placeholder=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(F,{class:"noFlex",label:"提示字顏色"},{default:(0,t.k6)(()=>[(0,t.bF)(h,{modelValue:m.formData.placeHolderColor,"onUpdate:modelValue":l[3]||(l[3]=e=>m.formData.placeHolderColor=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(F,{class:"noFlex",label:"只有管理者可視","label-width":"130px"},{default:(0,t.k6)(()=>[(0,t.bF)(V,{modelValue:m.formData.showInAdmin,"onUpdate:modelValue":l[4]||(l[4]=e=>m.formData.showInAdmin=e)},null,8,["modelValue"])]),_:1})]),(0,t.bF)(v,{"content-position":"left"},{default:(0,t.k6)(()=>[...l[19]||(l[19]=[(0,t.Lk)("b",null,"樣式設定",-1)])]),_:1}),(0,t.Lk)("div",u,[(0,t.bF)(F,{label:"文字字型"},{default:(0,t.k6)(()=>[(0,t.bF)(_,{modelValue:m.formData.fontFamily,"onUpdate:modelValue":l[5]||(l[5]=e=>m.formData.fontFamily=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(F,{label:"文字大小"},{default:(0,t.k6)(()=>[(0,t.bF)(g,{modelValue:m.formData.fontSize,"onUpdate:modelValue":l[6]||(l[6]=e=>m.formData.fontSize=e)},null,8,["modelValue"])]),_:1})]),(0,t.Lk)("div",c,[(0,t.bF)(F,{class:"noFlex",label:"文字顏色"},{default:(0,t.k6)(()=>[(0,t.bF)(h,{modelValue:m.formData.fontColor,"onUpdate:modelValue":l[7]||(l[7]=e=>m.formData.fontColor=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(v,{direction:"vertical"}),(0,t.bF)(F,{class:"btn noFlex"},{default:(0,t.k6)(()=>[(0,t.bF)(C,{effect:"dark",content:"粗體",placement:"bottom"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{style:{"font-weight":"bold"},class:(0,o.normalizeClass)({active:m.formData.bolder}),onClick:l[8]||(l[8]=()=>{m.formData.bolder=!m.formData.bolder})},{default:(0,t.k6)(()=>[...l[20]||(l[20]=[(0,t.eW)("B",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,t.bF)(F,{class:"btn noFlex"},{default:(0,t.k6)(()=>[(0,t.bF)(C,{effect:"dark",content:"斜體",placement:"bottom"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{style:{"font-style":"italic"},class:(0,o.normalizeClass)({active:m.formData.italic}),onClick:l[9]||(l[9]=()=>{m.formData.italic=!m.formData.italic})},{default:(0,t.k6)(()=>[...l[21]||(l[21]=[(0,t.eW)("i",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,t.bF)(F,{class:"btn noFlex"},{default:(0,t.k6)(()=>[(0,t.bF)(C,{effect:"dark",content:"底線",placement:"bottom"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{style:{"text-decoration":"underline"},class:(0,o.normalizeClass)({active:m.formData.underline}),onClick:l[10]||(l[10]=()=>{m.formData.underline=!m.formData.underline})},{default:(0,t.k6)(()=>[...l[22]||(l[22]=[(0,t.eW)("U",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,t.bF)(v,{direction:"vertical"}),(0,t.bF)(F,{class:"noFlex btn"},{default:(0,t.k6)(()=>[(0,t.bF)(x,{modelValue:m.formData.textAlign,"onUpdate:modelValue":l[11]||(l[11]=e=>m.formData.textAlign=e)},{default:(0,t.k6)(()=>[(0,t.bF)(w,{label:"left",title:"水平靠左"},{default:(0,t.k6)(()=>[...l[23]||(l[23]=[(0,t.Lk)("i",{class:"icon-paragraph-left"},null,-1)])]),_:1}),(0,t.bF)(w,{label:"center",title:"水平置中"},{default:(0,t.k6)(()=>[...l[24]||(l[24]=[(0,t.Lk)("i",{class:"icon-paragraph-center"},null,-1)])]),_:1}),(0,t.bF)(w,{label:"right",title:"水平靠右"},{default:(0,t.k6)(()=>[...l[25]||(l[25]=[(0,t.Lk)("i",{class:"icon-paragraph-right"},null,-1)])]),_:1}),(0,t.bF)(w,{label:"justify",title:"水平均分"},{default:(0,t.k6)(()=>[...l[26]||(l[26]=[(0,t.Lk)("i",{class:"icon-paragraph-justify"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(v,{direction:"vertical"}),(0,t.bF)(F,{class:"noFlex btn"},{default:(0,t.k6)(()=>[(0,t.bF)(x,{modelValue:m.formData.textVerticle,"onUpdate:modelValue":l[12]||(l[12]=e=>m.formData.textVerticle=e)},{default:(0,t.k6)(()=>[(0,t.bF)(w,{label:"flex-start",title:"垂直靠上"},{default:(0,t.k6)(()=>[...l[27]||(l[27]=[(0,t.Lk)("i",{class:"icon-align-top"},null,-1)])]),_:1}),(0,t.bF)(w,{label:"center",title:"垂直置中"},{default:(0,t.k6)(()=>[...l[28]||(l[28]=[(0,t.Lk)("i",{class:"icon-align-vertical-middle"},null,-1)])]),_:1}),(0,t.bF)(w,{label:"flex-end",title:"垂直靠下"},{default:(0,t.k6)(()=>[...l[29]||(l[29]=[(0,t.Lk)("i",{class:"icon-align-bottom"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),(0,t.Lk)("div",s,[(0,t.bF)(F,{class:"noFlex",label:"背景顏色"},{default:(0,t.k6)(()=>[(0,t.bF)(h,{modelValue:m.formData.backgroundColor,"onUpdate:modelValue":l[13]||(l[13]=e=>m.formData.backgroundColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),(0,t.bF)(F,{class:"noFlex",label:"邊框顏色"},{default:(0,t.k6)(()=>[(0,t.bF)(h,{modelValue:m.formData.borderColor,"onUpdate:modelValue":l[14]||(l[14]=e=>m.formData.borderColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),(0,t.bF)(F,{label:"邊框寬度"},{default:(0,t.k6)(()=>[(0,t.bF)(k,{modelValue:m.formData.borderWidth,"onUpdate:modelValue":l[15]||(l[15]=e=>m.formData.borderWidth=e),modelModifiers:{number:!0},type:"number"},{append:(0,t.k6)(()=>[...l[30]||(l[30]=[(0,t.eW)("PX",-1)])]),_:1},8,["modelValue"])]),_:1})]),(0,t.bF)(v,{"content-position":"left"},{default:(0,t.k6)(()=>[...l[31]||(l[31]=[(0,t.Lk)("b",null,"預覽",-1)])]),_:1}),(0,t.bF)(k,{class:"preview",modelValue:m.test,"onUpdate:modelValue":l[16]||(l[16]=e=>m.test=e),placeholder:m.formData.placeholder},null,8,["modelValue","placeholder"])]),_:1},8,["model","rules"])],512),(0,t.Lk)("div",p,[(0,t.bF)(D,{type:"danger",onClick:m.closePanel},{default:(0,t.k6)(()=>[...l[32]||(l[32]=[(0,t.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,t.bF)(D,{type:"success",onClick:m.checkValidate},{default:(0,t.k6)(()=>[...l[33]||(l[33]=[(0,t.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}a(18111),a(7588);var f=a(90144),b=a(4249),k=a(51219),F=a(78626),h=a(42497),V=a(7118),v=a(71886),_=a(51565),g={name:"EditInput",components:{FontFamily:h.A},props:{configProps:{type:Object,default:null}},setup(e,{emit:l}){const a=(0,b.Pj)(),o=(0,t.EW)(()=>e?e.configProps.info:{}),r=(0,f.ref)(null),n=(0,f.ref)(null),d=(0,f.ref)(""),i=(0,f.reactive)({paramKey:"",fontColor:"",fontFamily:"",fontSize:"16px",showInAdmin:void 0,backgroundColor:"",borderWidth:"",borderColor:"",bolder:!1,italic:!1,underline:!1,placeholder:"",defaultValue:"",placeHolderColor:"",textAlign:"left",textVerticle:"center"}),u=(0,V.Q4)(i),c=()=>{l("close")},s=()=>{r.value.validate(e=>{e&&p()})},p=async()=>{const e=(0,F.cloneDeep)(o.value);Object.assign(e,{parameter:{...i},refreshApi:{time:0,isEnabled:!1}});try{let t,o="資料更新成功";e.id?t=await v.A.updatePartOf(e,e.id):(t=await v.A.addItem(e),o="資料新增成功"),(0,k.nk)({type:"success",message:o});const r="";a.dispatch("params/updateParams",{key:t.parameter.paramKey,value:r}),l("event-emit",{name:"refresh-page",props:t}),c()}catch{}},m=()=>{const{parameter:e}=o.value;Object.keys(i).forEach(l=>{(e[l]||!1===e[l])&&(i[l]=(0,F.cloneDeep)(e[l]))})};return(0,t.wB)(i,e=>{(0,_.L)(e,n)},{deep:!0}),(0,t.KC)(()=>{m()}),(0,t.sV)(()=>{(0,_.L)(i,n)}),{editForm:r,formData:i,rules:u,checkValidate:s,closePanel:c,test:d,contentWrapper:n}}},D=(a(22929),a(71241));const C=(0,D.A)(g,[["render",m]]);var w=C},78128:function(e,l,a){"use strict";a.r(l);var t=a(31601),o=a.n(t),r=a(76314),n=a.n(r),d=n()(o());d.push([e.id,".panelContent.EditInput .contentWrapper .preview{min-width:var(--minWidth);height:auto}.panelContent.EditInput .contentWrapper .preview .el-input__wrapper{background-color:var(--backgroundColor);border-width:var(--borderWidth);border-color:var(--borderColor);border-style:solid;box-shadow:none;padding:2px 11px}.panelContent.EditInput .contentWrapper .preview .el-input__inner{text-align:center;color:var(--fontColor)!important;font-size:var(--fontSize)!important;font-family:var(--fontFamily)!important;font-weight:var(--bolder);font-style:var(--italic);-webkit-text-decoration:var(--underline);text-decoration:var(--underline);text-align:var(--textAlign);align-items:var(--textVerticle);height:auto;line-height:1.5}.panelContent.EditInput .contentWrapper .preview .el-input__inner::-moz-placeholder{color:var(--placeHolderColor)!important}.panelContent.EditInput .contentWrapper .preview .el-input__inner::placeholder{color:var(--placeHolderColor)!important}",""]),l["default"]=d}}]);