(self["webpackChunkcontrol_center"]=self["webpackChunkcontrol_center"]||[]).push([[9553],{9553:function(e,l,a){"use strict";a.r(l),a.d(l,{default:function(){return x}});var t=a(56768),o=a(24232);const r={class:"panelContent EditRadio"},n={class:"contentWrapper",ref:"contentWrapper"},i={class:"row"},d={class:"row"},u={class:"row"},c={class:"row"},s={class:"row"},f={class:"row"},m={key:0,class:"staticData"},b={class:"buttonWrapper"};function p(e,l,a,p,k,v){const F=(0,t.g2)("el-input"),V=(0,t.g2)("el-form-item"),C=(0,t.g2)("el-switch"),g=(0,t.g2)("el-divider"),_=(0,t.g2)("FontFamily"),h=(0,t.g2)("FontSizeEdit"),D=(0,t.g2)("ColorPicker"),w=(0,t.g2)("el-button"),y=(0,t.g2)("el-tooltip"),x=(0,t.g2)("el-radio-button"),L=(0,t.g2)("el-radio-group"),U=(0,t.g2)("el-empty"),W=(0,t.g2)("el-form");return(0,t.uX)(),(0,t.CE)("div",r,[(0,t.Lk)("div",n,[(0,t.bF)(W,{class:"contentInner",ref:"editForm",model:p.formData,rules:p.rules},{default:(0,t.k6)(()=>[(0,t.Lk)("div",i,[(0,t.bF)(V,{class:"paramKey",label:"代號",prop:"paramKey"},{default:(0,t.k6)(()=>[(0,t.bF)(F,{modelValue:p.formData.paramKey,"onUpdate:modelValue":l[0]||(l[0]=e=>p.formData.paramKey=e)},{append:(0,t.k6)(()=>[...l[18]||(l[18]=[(0,t.eW)("$",-1)])]),prepend:(0,t.k6)(()=>[...l[19]||(l[19]=[(0,t.eW)("$",-1)])]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(V,{class:"noFlex",label:"只有管理者可視","label-width":"130px"},{default:(0,t.k6)(()=>[(0,t.bF)(C,{modelValue:p.formData.showInAdmin,"onUpdate:modelValue":l[1]||(l[1]=e=>p.formData.showInAdmin=e)},null,8,["modelValue"])]),_:1})]),(0,t.bF)(g,{"content-position":"left"},{default:(0,t.k6)(()=>[...l[20]||(l[20]=[(0,t.Lk)("b",null,"樣式設定",-1)])]),_:1}),(0,t.Lk)("div",d,[(0,t.bF)(V,{label:"文字字型"},{default:(0,t.k6)(()=>[(0,t.bF)(_,{modelValue:p.formData.fontFamily,"onUpdate:modelValue":l[2]||(l[2]=e=>p.formData.fontFamily=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(V,{label:"文字大小"},{default:(0,t.k6)(()=>[(0,t.bF)(h,{modelValue:p.formData.fontSize,"onUpdate:modelValue":l[3]||(l[3]=e=>p.formData.fontSize=e)},null,8,["modelValue"])]),_:1})]),(0,t.Lk)("div",u,[(0,t.bF)(V,{class:"noFlex",label:"文字顏色"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:p.formData.fontColor,"onUpdate:modelValue":l[4]||(l[4]=e=>p.formData.fontColor=e)},null,8,["modelValue"])]),_:1}),(0,t.bF)(g,{direction:"vertical"}),(0,t.bF)(V,{class:"btn noFlex"},{default:(0,t.k6)(()=>[(0,t.bF)(y,{effect:"dark",content:"粗體",placement:"bottom"},{default:(0,t.k6)(()=>[(0,t.bF)(w,{style:{"font-weight":"bold"},class:(0,o.normalizeClass)({active:p.formData.bolder}),onClick:l[5]||(l[5]=()=>{p.formData.bolder=!p.formData.bolder})},{default:(0,t.k6)(()=>[...l[21]||(l[21]=[(0,t.eW)("B",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,t.bF)(V,{class:"btn noFlex"},{default:(0,t.k6)(()=>[(0,t.bF)(y,{effect:"dark",content:"斜體",placement:"bottom"},{default:(0,t.k6)(()=>[(0,t.bF)(w,{style:{"font-style":"italic"},class:(0,o.normalizeClass)({active:p.formData.italic}),onClick:l[6]||(l[6]=()=>{p.formData.italic=!p.formData.italic})},{default:(0,t.k6)(()=>[...l[22]||(l[22]=[(0,t.eW)("i",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,t.bF)(V,{class:"btn noFlex"},{default:(0,t.k6)(()=>[(0,t.bF)(y,{effect:"dark",content:"底線",placement:"bottom"},{default:(0,t.k6)(()=>[(0,t.bF)(w,{style:{"text-decoration":"underline"},class:(0,o.normalizeClass)({active:p.formData.underline}),onClick:l[7]||(l[7]=()=>{p.formData.underline=!p.formData.underline})},{default:(0,t.k6)(()=>[...l[23]||(l[23]=[(0,t.eW)("U",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,t.bF)(g,{direction:"vertical"}),(0,t.bF)(V,{class:"noFlex btn"},{default:(0,t.k6)(()=>[(0,t.bF)(L,{modelValue:p.formData.textAlign,"onUpdate:modelValue":l[8]||(l[8]=e=>p.formData.textAlign=e)},{default:(0,t.k6)(()=>[(0,t.bF)(x,{label:"left",title:"水平靠左"},{default:(0,t.k6)(()=>[...l[24]||(l[24]=[(0,t.Lk)("i",{class:"icon-paragraph-left"},null,-1)])]),_:1}),(0,t.bF)(x,{label:"center",title:"水平置中"},{default:(0,t.k6)(()=>[...l[25]||(l[25]=[(0,t.Lk)("i",{class:"icon-paragraph-center"},null,-1)])]),_:1}),(0,t.bF)(x,{label:"right",title:"水平靠右"},{default:(0,t.k6)(()=>[...l[26]||(l[26]=[(0,t.Lk)("i",{class:"icon-paragraph-right"},null,-1)])]),_:1}),(0,t.bF)(x,{label:"justify",title:"水平均分"},{default:(0,t.k6)(()=>[...l[27]||(l[27]=[(0,t.Lk)("i",{class:"icon-paragraph-justify"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(g,{direction:"vertical"}),(0,t.bF)(V,{class:"noFlex btn"},{default:(0,t.k6)(()=>[(0,t.bF)(L,{modelValue:p.formData.textVerticle,"onUpdate:modelValue":l[9]||(l[9]=e=>p.formData.textVerticle=e)},{default:(0,t.k6)(()=>[(0,t.bF)(x,{label:"flex-start",title:"垂直靠上"},{default:(0,t.k6)(()=>[...l[28]||(l[28]=[(0,t.Lk)("i",{class:"icon-align-top"},null,-1)])]),_:1}),(0,t.bF)(x,{label:"center",title:"垂直置中"},{default:(0,t.k6)(()=>[...l[29]||(l[29]=[(0,t.Lk)("i",{class:"icon-align-vertical-middle"},null,-1)])]),_:1}),(0,t.bF)(x,{label:"flex-end",title:"垂直靠下"},{default:(0,t.k6)(()=>[...l[30]||(l[30]=[(0,t.Lk)("i",{class:"icon-align-bottom"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),(0,t.Lk)("div",c,[(0,t.bF)(V,{class:"noFlex",label:"按鍵顏色"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:p.formData.backgroundColor,"onUpdate:modelValue":l[10]||(l[10]=e=>p.formData.backgroundColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),(0,t.bF)(V,{class:"noFlex",label:"按鍵邊框顏色"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:p.formData.borderColor,"onUpdate:modelValue":l[11]||(l[11]=e=>p.formData.borderColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),(0,t.bF)(V,{label:"按鍵邊框寬度"},{default:(0,t.k6)(()=>[(0,t.bF)(F,{modelValue:p.formData.borderWidth,"onUpdate:modelValue":l[12]||(l[12]=e=>p.formData.borderWidth=e),modelModifiers:{number:!0},type:"number"},{append:(0,t.k6)(()=>[...l[31]||(l[31]=[(0,t.eW)("PX",-1)])]),_:1},8,["modelValue"])]),_:1}),(0,t.bF)(V,{class:"noFlex",label:"自動符合寬度","label-width":"130px"},{default:(0,t.k6)(()=>[(0,t.bF)(C,{modelValue:p.formData.autoFit,"onUpdate:modelValue":l[13]||(l[13]=e=>p.formData.autoFit=e)},null,8,["modelValue"])]),_:1})]),(0,t.Lk)("div",s,[(0,t.bF)(V,{class:"noFlex",label:"已選按鍵顏色"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:p.formData.activeBackgroundColor,"onUpdate:modelValue":l[14]||(l[14]=e=>p.formData.activeBackgroundColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),(0,t.bF)(V,{class:"noFlex",label:"已選按鍵邊框顏色","label-width":"150px"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:p.formData.activeBorderColor,"onUpdate:modelValue":l[15]||(l[15]=e=>p.formData.activeBorderColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),(0,t.bF)(V,{class:"noFlex",label:"已選按鈕文字顏色","label-width":"150px"},{default:(0,t.k6)(()=>[(0,t.bF)(D,{modelValue:p.formData.activeFontColor,"onUpdate:modelValue":l[16]||(l[16]=e=>p.formData.activeFontColor=e)},null,8,["modelValue"])]),_:1})]),(0,t.bF)(g,{"content-position":"left"},{default:(0,t.k6)(()=>[(0,t.Lk)("div",f,[l[33]||(l[33]=(0,t.Lk)("b",null,"靜態資料",-1)),(0,t.bF)(w,{type:"primary",plain:"",size:"small",onClick:p.addStatic},{default:(0,t.k6)(()=>[...l[32]||(l[32]=[(0,t.Lk)("i",{class:"el-icon-plus"},null,-1)])]),_:1},8,["onClick"])])]),_:1}),p.staticData.length>0?((0,t.uX)(),(0,t.CE)("ul",m,[l[36]||(l[36]=(0,t.Lk)("div",{class:"row"},[(0,t.Lk)("p",null,"顯示值（label）"),(0,t.Lk)("p",null,"帶入值（value）")],-1)),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(p.staticData,(e,a)=>((0,t.uX)(),(0,t.CE)("li",{key:a},[(0,t.bF)(F,{modelValue:e.label,"onUpdate:modelValue":l=>e.label=l,class:(0,o.normalizeClass)({error:!e.label})},null,8,["modelValue","onUpdate:modelValue","class"]),l[35]||(l[35]=(0,t.eW)("：",-1)),(0,t.bF)(F,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,class:(0,o.normalizeClass)({error:!e.value})},null,8,["modelValue","onUpdate:modelValue","class"]),(0,t.bF)(w,{type:"danger",plain:"",size:"small",onClick:e=>p.deleteStatic(a)},{default:(0,t.k6)(()=>[...l[34]||(l[34]=[(0,t.Lk)("i",{class:"el-icon-close"},null,-1)])]),_:1},8,["onClick"])]))),128))])):((0,t.uX)(),(0,t.Wv)(U,{key:1,"image-size":100,description:"未輸入靜態資料"})),(0,t.bF)(g,{"content-position":"left"},{default:(0,t.k6)(()=>[...l[37]||(l[37]=[(0,t.Lk)("b",null,"預覽",-1)])]),_:1}),(0,t.bF)(L,{class:(0,o.normalizeClass)(["preview",{autoFit:p.formData.autoFit}]),modelValue:p.previewValue,"onUpdate:modelValue":l[17]||(l[17]=e=>p.previewValue=e)},{default:(0,t.k6)(()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(p.staticData,e=>((0,t.uX)(),(0,t.Wv)(x,{key:e.value,value:e.value,label:e.label},null,8,["value","label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["model","rules"])],512),(0,t.Lk)("div",b,[(0,t.bF)(w,{type:"danger",onClick:p.closePanel},{default:(0,t.k6)(()=>[...l[38]||(l[38]=[(0,t.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,t.bF)(w,{type:"success",onClick:p.checkValidate},{default:(0,t.k6)(()=>[...l[39]||(l[39]=[(0,t.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}a(44114),a(18111),a(7588),a(61701);var k=a(90144),v=a(51219),F=a(4249),V=a(78626),C=a(7118),g=a(42497),_=a(71886),h=a(51565),D={name:"EditRadio",components:{FontFamily:g.A},props:{configProps:{type:Object,default:null}},setup(e,{emit:l}){const a=(0,F.Pj)(),o=(0,t.EW)(()=>e?e.configProps.info:{}),r=(0,k.ref)(null),n=(0,k.ref)(null),i=(0,k.reactive)({paramKey:"",showInAdmin:void 0,fontFamily:"",fontSize:"16px",fontColor:"",bolder:!1,italic:!1,underline:!1,backgroundColor:"",borderColor:"#dcdfe6",borderWidth:1,activeBackgroundColor:"#409eff",activeBorderColor:"#409eff",activeFontColor:"#fff",autoFit:!1,textAlign:"center",textVerticle:"center"}),d=(0,C.Q4)(i),u=(0,k.ref)([]),c=(0,k.ref)(""),s=()=>{l("close")},f=()=>{r.value.validate(e=>{e&&m()})},m=async()=>{const e=(0,V.cloneDeep)(o.value);Object.assign(e,{parameter:{...i,staticData:u.value},refreshApi:{time:0,isEnabled:!1}});try{let t,o="資料更新成功";e.id?t=await _.A.updatePartOf(e,e.id):(t=await _.A.addItem(e),o="資料新增成功"),(0,v.nk)({type:"success",message:o});const r=t.parameter.staticData[0].value;a.dispatch("params/updateParams",{key:t.parameter.paramKey,value:r}),l("event-emit",{name:"refresh-page",props:t}),s()}catch{}},b=()=>{0===u.value.length&&(c.value="顯示值1"),u.value.push({label:(0,k.ref)(`顯示值${u.value.length+1}`),value:(0,k.ref)(`帶入值${u.value.length+1}`)})},p=e=>{u.value.splice(e,1)},g=()=>{const{parameter:e}=o.value;Object.keys(i).forEach(l=>{(e[l]||!1===e[l])&&(i[l]=(0,V.cloneDeep)(e[l]))}),e.staticData&&(u.value=e.staticData.map(e=>({label:(0,k.ref)(e.label),value:(0,k.ref)(e.value)})),u.value[0].value&&(c.value=u.value[0].value))};return(0,t.wB)(i,e=>{(0,h.L)(e,n)},{deep:!0}),(0,t.KC)(()=>{g()}),(0,t.sV)(()=>{(0,h.L)(i,n)}),{editForm:r,rules:d,checkValidate:f,closePanel:s,formData:i,contentWrapper:n,staticData:u,addStatic:b,deleteStatic:p,previewValue:c}}},w=(a(61753),a(71241));const y=(0,w.A)(D,[["render",p]]);var x=y},20440:function(e,l,a){"use strict";a.r(l);var t=a(31601),o=a.n(t),r=a(76314),n=a.n(r),i=n()(o());i.push([e.id,".panelContent.EditRadio .preview.autoFit{width:100%}.panelContent.EditRadio .preview.autoFit .el-radio-button{flex:1}.panelContent.EditRadio .preview.autoFit .el-radio-button__inner{width:100%}.panelContent.EditRadio .preview .el-radio-button.is-active{z-index:1}.panelContent.EditRadio .preview .el-radio-button.is-active .el-radio-button__inner{background-color:var(--activeBackgroundColor);border-color:var(--activeBorderColor);color:var(--activeFontColor)}.panelContent.EditRadio .preview .el-radio-button__inner{height:100%;min-width:50px;display:inline-flex;align-items:var(--textVerticle);justify-content:var(--textAlign);font-weight:var(--bolder);font-style:var(--italic);-webkit-text-decoration:var(--underline);text-decoration:var(--underline);color:var(--fontColor);font-size:var(--fontSize);font-family:var(--fontFamily)!important;background-color:var(--backgroundColor);border-width:var(--borderWidth);border-color:var(--borderColor)}",""]),l["default"]=i},61753:function(e,l,a){var t=a(20440);t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[e.id,t,""]]),t.locals&&(e.exports=t.locals);var o=a(68459).A;o("2fcd8b5c",t,!0,{sourceMap:!1,shadowMode:!1})}}]);