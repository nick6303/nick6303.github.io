(self["webpackChunkcontrol_center"]=self["webpackChunkcontrol_center"]||[]).push([[4915],{54915:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return h}});var a=l(56768),o=l(24232);const n={class:"panelContent EditText"},r={class:"contentWrapper"},i={class:"row"},c={class:"row"},d={class:"buttonWrapper"};function s(e,t,l,s,f,u){const m=(0,a.g2)("FontFamily"),b=(0,a.g2)("el-form-item"),p=(0,a.g2)("FontSizeEdit"),k=(0,a.g2)("ColorPicker"),g=(0,a.g2)("el-divider"),F=(0,a.g2)("el-button"),x=(0,a.g2)("el-tooltip"),_=(0,a.g2)("el-radio-button"),h=(0,a.g2)("el-radio-group"),v=(0,a.g2)("TextArea"),y=(0,a.g2)("el-form");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",r,[(0,a.bF)(y,{class:"contentInner",ref:"editForm",model:s.formData,rules:s.rules,"label-width":"auto"},{default:(0,a.k6)(()=>[(0,a.Lk)("div",i,[(0,a.bF)(b,{label:"字型","label-width":"80px"},{default:(0,a.k6)(()=>[(0,a.bF)(m,{modelValue:s.formData.fontFamily,"onUpdate:modelValue":t[0]||(t[0]=e=>s.formData.fontFamily=e)},null,8,["modelValue"])]),_:1}),(0,a.bF)(b,{label:"文字大小"},{default:(0,a.k6)(()=>[(0,a.bF)(p,{modelValue:s.formData.fontSize,"onUpdate:modelValue":t[1]||(t[1]=e=>s.formData.fontSize=e)},null,8,["modelValue"])]),_:1})]),(0,a.Lk)("div",c,[(0,a.bF)(b,{class:"noFlex",label:"文字顏色","label-width":"80px"},{default:(0,a.k6)(()=>[(0,a.bF)(k,{modelValue:s.formData.color,"onUpdate:modelValue":t[2]||(t[2]=e=>s.formData.color=e),onChange:s.checkColor},null,8,["modelValue","onChange"])]),_:1}),(0,a.bF)(g,{direction:"vertical"}),(0,a.bF)(b,{class:"btn noFlex"},{default:(0,a.k6)(()=>[(0,a.bF)(x,{effect:"dark",content:"粗體",placement:"bottom"},{default:(0,a.k6)(()=>[(0,a.bF)(F,{style:{fontWeight:"bold"},class:(0,o.normalizeClass)({active:s.formData.bolder}),onClick:t[3]||(t[3]=()=>{s.formData.bolder=!s.formData.bolder})},{default:(0,a.k6)(()=>[...t[10]||(t[10]=[(0,a.eW)("B",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,a.bF)(b,{class:"btn noFlex"},{default:(0,a.k6)(()=>[(0,a.bF)(x,{effect:"dark",content:"斜體",placement:"bottom"},{default:(0,a.k6)(()=>[(0,a.bF)(F,{style:{"font-style":"italic"},class:(0,o.normalizeClass)({active:s.formData.italic}),onClick:t[4]||(t[4]=()=>{s.formData.italic=!s.formData.italic})},{default:(0,a.k6)(()=>[...t[11]||(t[11]=[(0,a.eW)("i",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,a.bF)(b,{class:"btn noFlex"},{default:(0,a.k6)(()=>[(0,a.bF)(x,{effect:"dark",content:"底線",placement:"bottom"},{default:(0,a.k6)(()=>[(0,a.bF)(F,{style:{"text-decoration":"underline"},class:(0,o.normalizeClass)({active:s.formData.underline}),onClick:t[5]||(t[5]=()=>{s.formData.underline=!s.formData.underline})},{default:(0,a.k6)(()=>[...t[12]||(t[12]=[(0,a.eW)("U",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,a.bF)(g,{direction:"vertical"}),(0,a.bF)(b,{class:"noFlex btn"},{default:(0,a.k6)(()=>[(0,a.bF)(h,{modelValue:s.formData.textAlign,"onUpdate:modelValue":t[6]||(t[6]=e=>s.formData.textAlign=e)},{default:(0,a.k6)(()=>[(0,a.bF)(_,{label:"flex-start",title:"水平靠左"},{default:(0,a.k6)(()=>[...t[13]||(t[13]=[(0,a.Lk)("i",{class:"icon-paragraph-left"},null,-1)])]),_:1}),(0,a.bF)(_,{label:"center",title:"水平置中"},{default:(0,a.k6)(()=>[...t[14]||(t[14]=[(0,a.Lk)("i",{class:"icon-paragraph-center"},null,-1)])]),_:1}),(0,a.bF)(_,{label:"flex-end",title:"水平靠右"},{default:(0,a.k6)(()=>[...t[15]||(t[15]=[(0,a.Lk)("i",{class:"icon-paragraph-right"},null,-1)])]),_:1}),(0,a.bF)(_,{label:"space-between",title:"水平均分"},{default:(0,a.k6)(()=>[...t[16]||(t[16]=[(0,a.Lk)("i",{class:"icon-paragraph-justify"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,a.bF)(g,{direction:"vertical"}),(0,a.bF)(b,{class:"noFlex btn"},{default:(0,a.k6)(()=>[(0,a.bF)(h,{modelValue:s.formData.textVerticle,"onUpdate:modelValue":t[7]||(t[7]=e=>s.formData.textVerticle=e)},{default:(0,a.k6)(()=>[(0,a.bF)(_,{label:"flex-start",title:"垂直靠上"},{default:(0,a.k6)(()=>[...t[17]||(t[17]=[(0,a.Lk)("i",{class:"icon-align-top"},null,-1)])]),_:1}),(0,a.bF)(_,{label:"center",title:"垂直置中"},{default:(0,a.k6)(()=>[...t[18]||(t[18]=[(0,a.Lk)("i",{class:"icon-align-vertical-middle"},null,-1)])]),_:1}),(0,a.bF)(_,{label:"flex-end",title:"垂直靠下"},{default:(0,a.k6)(()=>[...t[19]||(t[19]=[(0,a.Lk)("i",{class:"icon-align-bottom"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,a.bF)(g,{direction:"vertical"}),(0,a.bF)(b,{class:"noFlex btn"},{default:(0,a.k6)(()=>[(0,a.bF)(h,{modelValue:s.formData.writingMode,"onUpdate:modelValue":t[8]||(t[8]=e=>s.formData.writingMode=e)},{default:(0,a.k6)(()=>[(0,a.bF)(_,{label:!1,title:"水平文字方向"},{default:(0,a.k6)(()=>[...t[20]||(t[20]=[(0,a.Lk)("i",{class:"icon-horizonAlign"},null,-1)])]),_:1}),(0,a.bF)(_,{label:!0,title:"垂直文字方向"},{default:(0,a.k6)(()=>[...t[21]||(t[21]=[(0,a.Lk)("i",{class:"icon-verticalAlign"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),(0,a.bF)(b,{label:"內容","label-width":"50px"},{default:(0,a.k6)(()=>[(0,a.bF)(v,{modelValue:s.formData.text,"onUpdate:modelValue":t[9]||(t[9]=e=>s.formData.text=e),style:(0,o.normalizeStyle)(s.styleSet),darkBg:s.darkBg},null,8,["modelValue","style","darkBg"])]),_:1})]),_:1},8,["model","rules"])]),(0,a.Lk)("div",d,[(0,a.bF)(F,{type:"danger",onClick:s.closePanel},{default:(0,a.k6)(()=>[...t[22]||(t[22]=[(0,a.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,a.bF)(F,{type:"success",onClick:s.checkValidate},{default:(0,a.k6)(()=>[...t[23]||(t[23]=[(0,a.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}var f=l(90144),u=l(78626),m=l(51219),b=l(42497),p=l(7118),k=l(7681),g=l(28438),F={name:"EditText",components:{TextArea:g.A,FontFamily:b.A},props:{configProps:{type:Object,default:null}},setup(e,{emit:t}){const l=(0,f.ref)(!1),o=(0,f.ref)(null),{info:n}=e.configProps??{},r=(0,f.ref)(!1),i=(0,f.reactive)({text:n.parameter.text||"",bolder:n.parameter.bolder||!1,italic:n.parameter.italic||!1,underline:n.parameter.underline||!1,fontFamily:n.parameter.fontFamily||"",fontSize:n.parameter.fontSize||"16px",color:n.parameter.color||"#000",textAlign:n.parameter.textAlign||"flex-start",writingMode:n.parameter.writingMode||!1,textVerticle:n.parameter.textVerticle||"center"}),c=(0,a.EW)(()=>({fontSize:i.fontSize,fontFamily:i.fontFamily,color:i.color,justifyContent:i.textVerticle,alignItems:i.textAlign,textAlign:"flex-start"===i.textAlign?"left":"flex-end"===i.textAlign?"right":"center",fontWeight:i.bolder?"bolder":"",fontStyle:i.italic?"italic":"",textDecoration:i.underline?"underline":"",writingMode:i.writingMode?"vertical-lr":"horizontal-tb"})),d=(0,p.Q4)(i),s=()=>{o.value.validate(e=>{e&&b()})},b=async()=>{const e=(0,u.cloneDeep)(n);Object.assign(e,{parameter:i,name:i.text,refreshApi:{time:0,isEnabled:!1}});try{let l,a="資料更新成功";e.id?l=await k.A.updatePartOf(e,e.id):(l=await k.A.addItem(e),a="資料新增成功"),(0,m.nk)({type:"success",message:a}),t("event-emit",{name:"refresh-page",props:l}),g()}catch{}},g=()=>{t("close")},F=e=>{const t=e.substring(1),l=parseInt(t,16),a=l>>16&255,o=l>>8&255,n=255&l,i=.2126*a+.7152*o+.0722*n;r.value=i>210};return(0,a.sV)(()=>{F(i.color)}),{styleSet:c,closePanel:g,loading:l,editForm:o,rules:d,formData:i,checkValidate:s,checkColor:F,darkBg:r}}},x=(l(93701),l(71241));const _=(0,x.A)(F,[["render",s]]);var h=_},69968:function(e,t,l){"use strict";l.r(t);var a=l(31601),o=l.n(a),n=l(76314),r=l.n(n),i=r()(o());i.push([e.id,".panelContent.EditText .contentWrapper .el-form .el-form-item__content{display:flex;align-items:center}.panelContent.EditText .contentWrapper .el-form .el-form-item .TextArea{width:100%;max-height:calc(90vh - 280px);border:1px solid var(--el-input-border-color,var(--el-border-color));box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset;overflow-y:auto}.panelContent.EditText .contentWrapper .el-form .el-form-item .TextArea blockquote{display:flex;flex-direction:column;padding:15px 20px;margin:0}",""]),t["default"]=i},93701:function(e,t,l){var a=l(69968);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=l(68459).A;o("50bb76e0",a,!0,{sourceMap:!1,shadowMode:!1})}}]);