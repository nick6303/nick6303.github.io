(self["webpackChunkcontrol_center"]=self["webpackChunkcontrol_center"]||[]).push([[4582],{8585:function(e,a,t){var l=t(39862);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=t(68459).A;o("9c1c140c",l,!0,{sourceMap:!1,shadowMode:!1})},39862:function(e,a,t){"use strict";t.r(a);var l=t(31601),o=t.n(l),n=t(76314),r=t.n(n),i=r()(o());i.push([e.id,".panelContent.EditCmdTime,.panelContent.EditCmdTime .contentWrapper{height:100%}.panelContent.EditCmdTime .contentWrapper .el-form-item{position:relative;z-index:1}.panelContent.EditCmdTime .contentWrapper .el-form-item .row{align-items:center}.panelContent.EditCmdTime .contentWrapper .row{position:relative;z-index:0}.panelContent.EditCmdTime .contentWrapper .row .el-form-item{align-items:center}.panelContent.EditCmdTime .contentWrapper .el-divider .el-button{margin-left:10px}.panelContent.EditCmdTime .contentWrapper .el-empty{padding:0}.panelContent.EditCmdTime .contentWrapper .preview{background-color:var(--backgroundColor);border-width:var(--borderWidth);border-color:var(--borderColor);border-style:solid;color:var(--fontColor)!important;font-size:var(--fontSize)!important;font-family:var(--fontFamily)!important;font-style:var(--italic);-webkit-text-decoration:var(--underline);text-decoration:var(--underline);width:500px;height:50px}.panelContent.EditCmdTime .contentWrapper .preview>span{width:100%;height:100%;display:flex;justify-content:var(--textAlign)}.panelContent.EditCmdTime .contentWrapper .preview .el-icon-date{font-weight:var(--bolder);margin-right:6px}.panelContent.EditCmdTime .contentWrapper .preview span{font-weight:var(--bolder)}",""]),a["default"]=i},84582:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return w}});var l=t(56768),o=t(24232);const n={class:"panelContent EditCmdTime"},r={class:"contentWrapper",ref:"contentWrapper"},i={class:"row"},d={class:"row"},m={class:"row"},c={class:"row"},u={class:"buttonWrapper"};function p(e,a,t,p,s,f){const b=(0,l.g2)("el-input"),k=(0,l.g2)("el-form-item"),F=(0,l.g2)("Timepicker"),C=(0,l.g2)("el-switch"),g=(0,l.g2)("el-divider"),v=(0,l.g2)("FontFamily"),h=(0,l.g2)("FontSizeEdit"),V=(0,l.g2)("ColorPicker"),_=(0,l.g2)("el-button"),w=(0,l.g2)("el-tooltip"),y=(0,l.g2)("el-radio-button"),D=(0,l.g2)("el-radio-group"),x=(0,l.g2)("el-form");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",r,[(0,l.bF)(x,{class:"contentInner",ref:"editForm",model:p.formData,rules:p.rules,"label-width":"110px"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",i,[(0,l.bF)(k,{class:"paramKey",label:"代號",prop:"paramKey"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{modelValue:p.formData.paramKey,"onUpdate:modelValue":a[0]||(a[0]=e=>p.formData.paramKey=e)},{append:(0,l.k6)(()=>[...a[13]||(a[13]=[(0,l.eW)("$",-1)])]),prepend:(0,l.k6)(()=>[...a[14]||(a[14]=[(0,l.eW)("$",-1)])]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(k,{class:"noFlex",label:"預設時間",error:p.formData.defaultValue?"":"此項必填"},{default:(0,l.k6)(()=>[(0,l.bF)(F,{modelValue:p.formData.defaultValue,"onUpdate:modelValue":a[1]||(a[1]=e=>p.formData.defaultValue=e),onUpdatetime:p.updatetime},null,8,["modelValue","onUpdatetime"])]),_:1},8,["error"]),(0,l.bF)(k,{class:"noFlex",label:"只有管理者可視","label-width":"130px"},{default:(0,l.k6)(()=>[(0,l.bF)(C,{modelValue:p.formData.showInAdmin,"onUpdate:modelValue":a[2]||(a[2]=e=>p.formData.showInAdmin=e)},null,8,["modelValue"])]),_:1})]),(0,l.bF)(g,{"content-position":"left"},{default:(0,l.k6)(()=>[...a[15]||(a[15]=[(0,l.Lk)("b",null,"樣式設定",-1)])]),_:1}),(0,l.Lk)("div",d,[(0,l.bF)(k,{label:"文字字型"},{default:(0,l.k6)(()=>[(0,l.bF)(v,{modelValue:p.formData.fontFamily,"onUpdate:modelValue":a[3]||(a[3]=e=>p.formData.fontFamily=e)},null,8,["modelValue"])]),_:1}),(0,l.bF)(k,{label:"文字大小"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{modelValue:p.formData.fontSize,"onUpdate:modelValue":a[4]||(a[4]=e=>p.formData.fontSize=e)},null,8,["modelValue"])]),_:1})]),(0,l.Lk)("div",m,[(0,l.bF)(k,{class:"noFlex",label:"文字顏色"},{default:(0,l.k6)(()=>[(0,l.bF)(V,{modelValue:p.formData.fontColor,"onUpdate:modelValue":a[5]||(a[5]=e=>p.formData.fontColor=e)},null,8,["modelValue"])]),_:1}),(0,l.bF)(g,{direction:"vertical"}),(0,l.bF)(k,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{effect:"dark",content:"粗體",placement:"bottom"},{default:(0,l.k6)(()=>[(0,l.bF)(_,{class:(0,o.normalizeClass)(["btn",{active:p.formData.bolder}]),style:{"font-weight":"bold"},onClick:a[6]||(a[6]=()=>{p.formData.bolder=!p.formData.bolder})},{default:(0,l.k6)(()=>[...a[16]||(a[16]=[(0,l.eW)("B",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,l.bF)(k,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{effect:"dark",content:"斜體",placement:"bottom"},{default:(0,l.k6)(()=>[(0,l.bF)(_,{class:(0,o.normalizeClass)(["btn",{active:p.formData.italic}]),style:{"font-style":"italic"},onClick:a[7]||(a[7]=()=>{p.formData.italic=!p.formData.italic})},{default:(0,l.k6)(()=>[...a[17]||(a[17]=[(0,l.eW)("i",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,l.bF)(k,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{effect:"dark",content:"底線",placement:"bottom"},{default:(0,l.k6)(()=>[(0,l.bF)(_,{class:(0,o.normalizeClass)(["btn",{active:p.formData.underline}]),style:{"text-decoration":"underline"},onClick:a[8]||(a[8]=()=>{p.formData.underline=!p.formData.underline})},{default:(0,l.k6)(()=>[...a[18]||(a[18]=[(0,l.eW)("U",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,l.bF)(g,{direction:"vertical"}),(0,l.bF)(k,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(D,{modelValue:p.formData.textAlign,"onUpdate:modelValue":a[9]||(a[9]=e=>p.formData.textAlign=e)},{default:(0,l.k6)(()=>[(0,l.bF)(y,{label:"flex-start",title:"水平靠左"},{default:(0,l.k6)(()=>[...a[19]||(a[19]=[(0,l.Lk)("i",{class:"icon-paragraph-left"},null,-1)])]),_:1}),(0,l.bF)(y,{label:"center",title:"水平置中"},{default:(0,l.k6)(()=>[...a[20]||(a[20]=[(0,l.Lk)("i",{class:"icon-paragraph-center"},null,-1)])]),_:1}),(0,l.bF)(y,{label:"flex-end",title:"水平靠右"},{default:(0,l.k6)(()=>[...a[21]||(a[21]=[(0,l.Lk)("i",{class:"icon-paragraph-right"},null,-1)])]),_:1}),(0,l.bF)(y,{label:"space-between",title:"水平均分"},{default:(0,l.k6)(()=>[...a[22]||(a[22]=[(0,l.Lk)("i",{class:"icon-paragraph-justify"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),(0,l.Lk)("div",c,[(0,l.bF)(k,{class:"noFlex",label:"按鈕顏色"},{default:(0,l.k6)(()=>[(0,l.bF)(V,{modelValue:p.formData.backgroundColor,"onUpdate:modelValue":a[10]||(a[10]=e=>p.formData.backgroundColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),(0,l.bF)(k,{class:"noFlex",label:"按鈕邊框顏色"},{default:(0,l.k6)(()=>[(0,l.bF)(V,{modelValue:p.formData.borderColor,"onUpdate:modelValue":a[11]||(a[11]=e=>p.formData.borderColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),(0,l.bF)(k,{label:"按鈕邊框寬度"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{modelValue:p.formData.borderWidth,"onUpdate:modelValue":a[12]||(a[12]=e=>p.formData.borderWidth=e),modelModifiers:{number:!0},type:"number"},{append:(0,l.k6)(()=>[...a[23]||(a[23]=[(0,l.eW)("PX",-1)])]),_:1},8,["modelValue"])]),_:1})]),(0,l.bF)(g,{"content-position":"left"},{default:(0,l.k6)(()=>[...a[24]||(a[24]=[(0,l.Lk)("b",null,"預覽",-1)])]),_:1}),(0,l.bF)(_,{class:"preview",type:"info"},{default:(0,l.k6)(()=>[...a[25]||(a[25]=[(0,l.Lk)("i",{class:"el-icon-date"},null,-1),(0,l.eW)("選擇時間",-1)])]),_:1})]),_:1},8,["model","rules"])],512),(0,l.Lk)("div",u,[(0,l.bF)(_,{type:"danger",onClick:p.closePanel},{default:(0,l.k6)(()=>[...a[26]||(a[26]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,l.bF)(_,{type:"success",onClick:p.checkValidate},{default:(0,l.k6)(()=>[...a[27]||(a[27]=[(0,l.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}t(18111),t(7588);var s=t(90144),f=t(51219),b=t(4249),k=t(78626),F=t(7118),C=t(79543),g=t(71886),v=t(51565),h={name:"EditCmdTime",components:{Timepicker:C.u,FontFamily:C.a},props:{configProps:{type:Object,default:null}},setup(e,{emit:a}){const t=(0,b.Pj)(),o=(0,l.EW)(()=>e?e.configProps.info:{}),n=(0,s.ref)(null),r=(0,s.ref)(null),i=(0,s.reactive)({paramKey:"",defaultValue:null,fontFamily:"",fontSize:"16px",fontColor:"",bolder:!1,italic:!1,underline:!1,backgroundColor:"",borderWidth:"",borderColor:"",showInAdmin:void 0,textAlign:"left"}),d=(0,F.Q4)(i),m=()=>{a("close")},c=e=>{i.defaultValue=e},u=()=>{n.value.validate(e=>{e&&p()})},p=async()=>{const e=(0,k.cloneDeep)(o.value);Object.assign(e,{parameter:{...i},refreshApi:{time:0,isEnabled:!1}});try{let l,o="資料更新成功";e.id?l=await g.A.updatePartOf(e,e.id):(l=await g.A.addItem(e),o="資料新增成功"),(0,f.nk)({type:"success",message:o}),t.dispatch("params/updateParams",{key:l.parameter.paramKey,value:l.parameter.defaultValue}),a("event-emit",{name:"refresh-page",props:l}),m()}catch{}},C=()=>{const{parameter:e}=o.value;Object.keys(i).forEach(a=>{(e[a]||!1===e[a])&&(i[a]=(0,k.cloneDeep)(e[a]))})};return(0,l.wB)(i,e=>{(0,v.L)(e,r)},{deep:!0}),(0,l.KC)(()=>{C()}),(0,l.sV)(()=>{(0,v.L)(i,r)}),{editForm:n,rules:d,checkValidate:u,closePanel:m,formData:i,updatetime:c,contentWrapper:r}}},V=(t(8585),t(71241));const _=(0,V.A)(h,[["render",p]]);var w=_}}]);