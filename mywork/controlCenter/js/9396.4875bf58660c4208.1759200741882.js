"use strict";(self["webpackChunkcontrol_center"]=self["webpackChunkcontrol_center"]||[]).push([[9396],{99396:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var l=a(56768);const r={class:"panelContent"},n={class:"contentWrapper"},c={class:"buttonWrapper"};function s(e,t,a,s,o,u){const i=(0,l.g2)("el-input"),d=(0,l.g2)("el-form-item"),p=(0,l.g2)("el-form"),f=(0,l.g2)("el-button");return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.Lk)("div",n,[(0,l.bF)(p,{class:"contentInner",ref:"editForm",model:s.formData,rules:s.rules,"label-width":"60px"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{label:"網址"},{default:(0,l.k6)(()=>[(0,l.bF)(i,{modelValue:s.formData.src,"onUpdate:modelValue":t[0]||(t[0]=e=>s.formData.src=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),(0,l.Lk)("div",c,[(0,l.bF)(f,{type:"danger",onClick:s.closePanel},{default:(0,l.k6)(()=>[...t[1]||(t[1]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,l.bF)(f,{type:"success",onClick:s.checkValidate},{default:(0,l.k6)(()=>[...t[2]||(t[2]=[(0,l.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}var o=a(90144),u=a(7118),i=a(78626),d=a(51219),p=a(71886),f={name:"EditIframe",props:{configProps:{type:Object,default:null}},setup(e,{emit:t}){const a=(0,o.ref)(!1),l=(0,o.ref)(null),{info:r}=e.configProps??{},n=(0,o.reactive)({src:r.parameter.src}),c=(0,u.Q4)(n),s=()=>{l.value.validate(e=>{e&&f()})},f=async()=>{const e=(0,i.cloneDeep)(r);Object.assign(e,{parameter:{src:n.src},refreshApi:{time:0,isEnabled:!1}});try{let a,l="資料更新成功";e.id?a=await p.A.updatePartOf(e,e.id):(a=await p.A.addItem(e),l="資料新增成功"),(0,d.nk)({type:"success",message:l}),t("event-emit",{name:"refresh-page",props:a}),m()}catch{}},m=()=>{t("close")};return{closePanel:m,loading:a,editForm:l,rules:c,formData:n,checkValidate:s}}},m=a(71241);const k=(0,m.A)(f,[["render",s]]);var b=k}}]);