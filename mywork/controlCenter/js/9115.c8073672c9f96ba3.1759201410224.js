(self["webpackChunkcontrol_center"]=self["webpackChunkcontrol_center"]||[]).push([[3124,4561,4582,4915,7028,8180,9115,9396],{2474:function(e,a,t){var l=t(54937);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=t(68459).A;o("6d68b8f9",l,!0,{sourceMap:!1,shadowMode:!1})},3124:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return k}});var l=t(56768),o=t(24232);const n={class:"panelContent"},r={class:"contentWrapper"},i=["innerHTML"],d={class:"buttonWrapper"};function s(e,a,t,s,c,u){const p=(0,l.g2)("el-button"),m=(0,l.g2)("el-upload"),f=(0,l.g2)("el-form-item"),b=(0,l.g2)("ColorPicker"),g=(0,l.g2)("el-form"),h=(0,l.g2)("Gallery");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",r,[(0,l.bF)(g,{class:"contentInner",ref:"editForm",model:s.formData,rules:s.rules},{default:(0,l.k6)(()=>[(0,l.bF)(f,{class:"upload",label:"檔案上傳"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{action:"","http-request":s.uploadAction,"before-upload":s.beforeUpload,"show-file-list":!1},{default:(0,l.k6)(()=>[(0,l.bF)(p,{size:"small",type:"primary"},{default:(0,l.k6)(()=>[...a[1]||(a[1]=[(0,l.Lk)("i",{class:"el-icon-upload2"},null,-1),(0,l.Lk)("span",null,"自行上傳",-1)])]),_:1})]),_:1},8,["http-request","before-upload"]),(0,l.bF)(p,{size:"small",onClick:s.openGallery},{default:(0,l.k6)(()=>[...a[2]||(a[2]=[(0,l.Lk)("i",{class:"el-icon-menu"},null,-1),(0,l.Lk)("span",null,"從圖庫",-1)])]),_:1},8,["onClick"])]),_:1}),(0,l.bF)(f,{label:"圖片顏色"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{modelValue:s.formData.parameter.fillColor,"onUpdate:modelValue":a[0]||(a[0]=e=>s.formData.parameter.fillColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),s.formData.parameter.svgData?((0,l.uX)(),(0,l.Wv)(f,{key:0,class:"preview",label:"圖片預覽"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",{class:"svgBlock",innerHTML:s.formData.parameter.svgData,style:(0,o.normalizeStyle)({color:s.formData.parameter.fillColor})},null,12,i)]),_:1})):(0,l.Q3)("",!0)]),_:1},8,["model","rules"])]),(0,l.Lk)("div",d,[(0,l.bF)(p,{type:"danger",onClick:s.closePanel},{default:(0,l.k6)(()=>[...a[3]||(a[3]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,l.bF)(p,{type:"success",onClick:s.checkValidate},{default:(0,l.k6)(()=>[...a[4]||(a[4]=[(0,l.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])]),(0,l.bF)(h,{ref:"galleryRef",onSubmitGallery:s.submitGallery},null,8,["onSubmitGallery"])])}t(18111),t(7588);var c=t(90144),u=t(7118),p=t(78626),m=t(51219),f=t(7681),b=t(299),g={name:"EditSvgBlock",components:{Gallery:b.A},props:{configProps:{type:Object,default:null}},setup(e,{emit:a}){const t=(0,l.EW)(()=>e?e.configProps.info:{}),o=(0,c.ref)(!1),n=(0,c.ref)(null),r=(0,c.ref)(null),i=(0,c.reactive)({title:"",parameter:{fillColor:"",svgData:""}}),d=(0,u.Q4)(i),s=()=>{r.value.open()},b=()=>{n.value.validate(e=>{e&&g()})},g=async()=>{const e=(0,p.cloneDeep)(t.value);Object.assign(e,{...i,refreshApi:{time:0,isEnabled:!1}});try{let t,l="資料更新成功";e.id?t=await f.A.updatePartOf(e,e.id):(t=await f.A.addItem(e),l="資料新增成功"),(0,m.nk)({type:"success",message:l}),a("event-emit",{name:"refresh-page",props:t}),h()}catch{}},h=()=>{a("close")},v=e=>{const{file:a}=e;i.title=a.name;const t=new FileReader;t.onload=function(e){const a=e.target.result;i.parameter.svgData=a},t.readAsText(a)},k=e=>{const a="image/svg+xml",t=a.indexOf(e.type)>-1;if(!t)return(0,m.nk)({message:"僅能上傳 SVG 圖片",type:"error"}),!1},y=({file:e})=>{v({file:e})},w=()=>{Object.keys(i).forEach(e=>{t.value[e]&&(i[e]=(0,p.cloneDeep)(t.value[e]))})};return(0,l.KC)(()=>{w()}),{closePanel:h,loading:o,editForm:n,rules:d,formData:i,checkValidate:b,uploadAction:v,beforeUpload:k,openGallery:s,submitGallery:y,galleryRef:r}}},h=(t(49847),t(71241));const v=(0,h.A)(g,[["render",s],["__scopeId","data-v-15045bed"]]);var k=v},6326:function(e,a,t){var l=t(97429);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=t(68459).A;o("312daff6",l,!0,{sourceMap:!1,shadowMode:!1})},6861:function(e,a,t){"use strict";t.r(a);var l=t(31601),o=t.n(l),n=t(76314),r=t.n(n),i=r()(o());i.push([e.id,".panelContent .contentWrapper .row[data-v-4d043f7f]{justify-content:flex-start;align-items:center}.panelContent .contentWrapper .row .downloadExcel[data-v-4d043f7f]{margin:0 0 0 10px}",""]),a["default"]=i},8585:function(e,a,t){var l=t(39862);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=t(68459).A;o("9c1c140c",l,!0,{sourceMap:!1,shadowMode:!1})},9324:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return U}});var l=t(56768);const o={class:"panelContent"},n={class:"contentWrapper"},r={class:"row"},i={class:"row"},d={class:"buttonWrapper"};function s(e,a,t,s,c,u){const p=(0,l.g2)("el-option"),m=(0,l.g2)("el-select"),f=(0,l.g2)("el-form-item"),b=(0,l.g2)("el-input"),g=(0,l.g2)("el-divider"),h=(0,l.g2)("SearchData"),v=(0,l.g2)("RefreshTime"),k=(0,l.g2)("TableWrapper"),y=(0,l.g2)("el-empty"),w=(0,l.g2)("InfoFilled"),F=(0,l.g2)("el-icon"),C=(0,l.g2)("el-tooltip"),x=(0,l.g2)("el-form"),_=(0,l.g2)("el-button"),D=(0,l.g2)("DashboardBox");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",n,[(0,l.bF)(x,{class:"contentInner",ref:"editForm",model:s.formData,rules:s.rules},{default:(0,l.k6)(()=>[(0,l.Lk)("div",r,[(0,l.bF)(f,{label:"按鈕類別",prop:"btnType"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{modelValue:s.formData.btnType,"onUpdate:modelValue":a[0]||(a[0]=e=>s.formData.btnType=e),teleported:!1},{default:(0,l.k6)(()=>[(0,l.bF)(p,{value:"panel",label:"彈窗按鈕"}),(0,l.bF)(p,{value:"dashboard",label:"圖表按鈕"}),(0,l.bF)(p,{value:"link",label:"連結按鈕"})]),_:1},8,["modelValue"])]),_:1}),"panel"===s.formData.btnType?((0,l.uX)(),(0,l.Wv)(f,{key:0,label:"彈窗元件",prop:"components"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{modelValue:s.formData.components,"onUpdate:modelValue":a[1]||(a[1]=e=>s.formData.components=e),clearable:""},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.moduleArray,e=>((0,l.uX)(),(0,l.Wv)(p,{key:e,value:e,label:e},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})):(0,l.Q3)("",!0),"link"===s.formData.btnType?((0,l.uX)(),(0,l.Wv)(f,{key:1,label:"連結"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{modelValue:s.formData.link,"onUpdate:modelValue":a[2]||(a[2]=e=>s.formData.link=e),placeholder:"請輸入連結",clearable:""},null,8,["modelValue"])]),_:1})):((0,l.uX)(),(0,l.Wv)(f,{key:2,label:"panel"===s.formData.btnType?"彈窗標題":"圖表標題"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{modelValue:s.formData.panelTitle,"onUpdate:modelValue":a[3]||(a[3]=e=>s.formData.panelTitle=e),clearable:""},null,8,["modelValue"])]),_:1},8,["label"]))]),"dashboard"!==s.formData.btnType?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.bF)(g,{"content-position":"left"},{default:(0,l.k6)(()=>[...a[9]||(a[9]=[(0,l.eW)("資料帶入",-1)])]),_:1}),(0,l.Lk)("div",i,[(0,l.bF)(f,{class:"apiurl",label:"帶入資料來源"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{modelValue:s.formData.apiurl,"onUpdate:modelValue":a[4]||(a[4]=e=>s.formData.apiurl=e),onUpdate:s.changeApiurl},null,8,["modelValue","onUpdate"])]),_:1}),(0,l.bF)(v,{propRefresh:s.refreshApi,onUpdateRefreshApi:s.updateRefreshApi},null,8,["propRefresh","onUpdateRefreshApi"])]),s.formData.apiurl?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[s.columnSetting.length>0?((0,l.uX)(),(0,l.Wv)(f,{key:0,label:"勾選用參數"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{modelValue:s.formData.keyword,"onUpdate:modelValue":a[5]||(a[5]=e=>s.formData.keyword=e),clearable:"",onClear:s.clearKeyword},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.columnSetting,e=>((0,l.uX)(),(0,l.CE)(l.FK,{key:e.prop},["select"!==e.prop?((0,l.uX)(),(0,l.Wv)(p,{key:0,value:e.prop,label:e.label},null,8,["value","label"])):(0,l.Q3)("",!0)],64))),128))]),_:1},8,["modelValue","onClear"])]),_:1})):(0,l.Q3)("",!0),s.tableList.length>0?((0,l.uX)(),(0,l.Wv)(k,{key:1,tableType:"small",tableHeight:s.tableHeight,tableWidth:s.tableWidth,tableData:s.tableList,columnSetting:s.columnSetting,listLoading:s.loading,showPagination:!1},null,8,["tableHeight","tableWidth","tableData","columnSetting","listLoading"])):((0,l.uX)(),(0,l.Wv)(y,{key:2})),s.columnSetting.length>0&&s.formData.keyword&&s.formData.value?((0,l.uX)(),(0,l.Wv)(f,{key:3,label:"選擇帶入參數"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{modelValue:s.paramsKey,"onUpdate:modelValue":a[6]||(a[6]=e=>s.paramsKey=e),multiple:"",onChange:s.changeParams},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.columnSetting,e=>((0,l.uX)(),(0,l.CE)(l.FK,{key:e.prop},["select"!==e.prop?((0,l.uX)(),(0,l.Wv)(p,{key:0,value:e.prop,label:e.label},null,8,["value","label"])):(0,l.Q3)("",!0)],64))),128))]),_:1},8,["modelValue","onChange"])]),_:1})):(0,l.Q3)("",!0)],64)):(0,l.Q3)("",!0)],64)):(0,l.Q3)("",!0),(0,l.bF)(g,{"content-position":"left"},{default:(0,l.k6)(()=>[...a[10]||(a[10]=[(0,l.eW)("Hover 彈窗設定",-1)])]),_:1}),(0,l.bF)(f,null,{label:(0,l.k6)(()=>[a[11]||(a[11]=(0,l.eW)("Hover 文字 ",-1)),s.formData.apiurl&&s.formData.hoverText?((0,l.uX)(),(0,l.Wv)(C,{key:0,content:"可使用 $Key值$ 帶入上方資料"},{default:(0,l.k6)(()=>[(0,l.bF)(F,null,{default:(0,l.k6)(()=>[(0,l.bF)(w)]),_:1})]),_:1})):(0,l.Q3)("",!0)]),default:(0,l.k6)(()=>[(0,l.bF)(b,{modelValue:s.formData.hoverText,"onUpdate:modelValue":a[7]||(a[7]=e=>s.formData.hoverText=e),type:"textarea",placeholder:s.formData.apiurl?"可使用 $Key值$ 帶入上方資料":"請輸入 Hover 文字"},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model","rules"]),"dashboard"===s.formData.btnType?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.bF)(g,{"content-position":"left"},{default:(0,l.k6)(()=>[a[13]||(a[13]=(0,l.eW)("圖表設定",-1)),(0,l.bF)(_,{type:"success",plain:"",size:"small",icon:"Plus",onClick:s.addGroup},{default:(0,l.k6)(()=>[...a[12]||(a[12]=[(0,l.eW)("新增",-1)])]),_:1},8,["onClick"])]),_:1}),(0,l.bF)(D,{modelValue:s.formData.dashboard_groups,"onUpdate:modelValue":a[8]||(a[8]=e=>s.formData.dashboard_groups=e),ref:"DashboardBoxRef"},null,8,["modelValue"])],64)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",d,[(0,l.bF)(_,{type:"danger",onClick:s.closePanel},{default:(0,l.k6)(()=>[...a[14]||(a[14]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,l.bF)(_,{type:"success",onClick:s.checkValidate},{default:(0,l.k6)(()=>[...a[15]||(a[15]=[(0,l.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}t(44114),t(18111),t(20116),t(7588),t(61701);var c=t(90144),u=t(7118),p=t(78626),m=t(98469),f=t(51219),b=t(77187),g=t(43988),h=t(53827),v=t(7681),k=t(10406),y=t(24232);const w={class:"tableSection"};function F(e,a,t,o,n,r){const i=(0,l.g2)("el-option"),d=(0,l.g2)("el-option-group"),s=(0,l.g2)("el-select"),c=(0,l.g2)("el-form-item"),u=(0,l.g2)("el-form"),p=(0,l.g2)("el-button"),m=(0,l.g2)("Group");return(0,l.uX)(),(0,l.CE)("div",w,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.dashboardList,(a,t)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,y.normalizeClass)(["dashboard",`width${o.dashboardList[t].width} height${o.dashboardList[t].height}`]),key:t},[(0,l.bF)(u,{class:"selectGroup"},{default:(0,l.k6)(()=>[(0,l.bF)(c,{label:"群組"},{default:(0,l.k6)(()=>[(0,l.bF)(s,{modelValue:o.dashboardList[t].groupId,"onUpdate:modelValue":e=>o.dashboardList[t].groupId=e,placeholder:"請選擇群組",clearable:"",onChange:o.changeType},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.groupList,e=>((0,l.uX)(),(0,l.Wv)(d,{key:e.name,label:e.name},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.list,e=>((0,l.uX)(),(0,l.Wv)(i,{key:e.id,value:`${e.id}`,label:e.title},null,8,["value","label"]))),128))]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),(0,l.bF)(c,{label:e.$t("Dashboard.width")},{default:(0,l.k6)(()=>[(0,l.bF)(s,{modelValue:o.dashboardList[t].width,"onUpdate:modelValue":e=>o.dashboardList[t].width=e,onChange:o.changeType},{default:(0,l.k6)(()=>[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(8,e=>(0,l.bF)(i,{key:e,value:e,label:12.5*e+"%"},null,8,["value","label"])),64))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["label"]),(0,l.bF)(c,{label:e.$t("Dashboard.height")},{default:(0,l.k6)(()=>[(0,l.bF)(s,{modelValue:o.dashboardList[t].height,"onUpdate:modelValue":e=>o.dashboardList[t].height=e,onChange:o.changeType},{default:(0,l.k6)(()=>[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(7,e=>(0,l.bF)(i,{key:e,value:e,label:100*(e+1)+"px"},null,8,["value","label"])),64))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["label"])]),_:2},1024),(0,l.bF)(p,{class:"deleteDashboard",type:"danger",plain:"",icon:"Delete",size:"small",onClick:e=>o.deleteDashboard(t)},null,8,["onClick"]),((0,l.uX)(),(0,l.Wv)(m,{id:a.groupId,key:`${a.groupId}${o.dashboardList[t].height}`},null,8,["id"]))],2))),128)),a[0]||(a[0]=(0,l.Lk)("div",{class:"sizer"},null,-1))])}var C=t(64400),x=t(78225),_=t.n(x),D=t(84055),V={name:"DashboardBox",components:{Group:C["default"]},props:{modelValue:{type:Array,default:()=>[]}},emits:["lazyload","getDashboard","update:modelValue","update"],setup(e,{emit:a}){const t=(0,l.EW)(()=>e?e.modelValue:[]),o=(0,c.ref)(t.value),n=(0,c.ref)(null),r=(0,c.ref)([]),i=()=>{n.value&&n.value.destroy(),n.value=new(_())(".tableSection",{itemSelector:".dashboard",columnWidth:".sizer"})},d=async()=>{a("update:modelValue",o.value),a("update",o.value),await(0,l.dY)(),n.value.layout(),a("lazyload")},s=async()=>{try{const e=await D.A.getList();r.value=[],e.forEach(e=>{const a=r.value.findIndex(a=>a.name===e.category);a>-1?r.value[a].list.push(e):r.value.push({name:e.category,list:[e]})})}catch{}},u=()=>{o.value.push({groupId:(0,c.ref)(""),width:(0,c.ref)(2),height:(0,c.ref)(3)}),a("update:modelValue",o.value),a("update",o.value),setTimeout(async()=>{await i(),a("getDashboard"),a("lazyload")},100)},p=async e=>{o.value.splice(e,1),await(0,l.dY)(),d()};return(0,l.wB)(t,e=>{o.value=e}),(0,l.sV)(()=>{s(),setTimeout(async()=>{await i(),a("lazyload")},1e3)}),{dashboardList:o,groupList:r,changeType:d,addGroup:u,deleteDashboard:p}}},W=(t(2474),t(71241));const E=(0,W.A)(V,[["render",F],["__scopeId","data-v-05bb74a0"]]);var L=E;const S=t(80808),I=S.keys().map(e=>e.replaceAll("./","").replaceAll(".vue",""));var A={name:"EditPanelBtn",components:{SearchData:g.A,RefreshTime:k.A,DashboardBox:L},props:{configProps:{type:Object,default:null}},setup(e,{emit:a}){const t=window.innerHeight>800?.95*window.innerHeight-470:300,o=.95*window.innerWidth-40,n=(0,c.ref)(!1),r=(0,c.ref)(null),i=(0,c.ref)(null),d=(0,l.EW)(()=>e?e.configProps.info:{}),s=(0,c.ref)([]),g=(0,c.reactive)({btnType:"panel",apiurl:null,keyword:"",value:"",hoverText:"",components:"",params:{},link:"",dashboard_groups:[],panelTitle:""}),k=(0,c.ref)([]),y=(0,c.reactive)({time:0,isEnabled:!1}),w=(0,u.Q4)(g),F=(0,c.ref)(null),C=(0,l.EW)(()=>{const e=[{prop:"select",label:"選擇",width:100,render:(e,a)=>{const{row:t}=a,l=g.keyword&&void 0!==t[g.keyword]?`${t[g.keyword]}`:"";return!!g.keyword&&e(m.dI,{modelValue:l===g.value,"onUpdate:modelValue":e=>{e&&(g.value=`${t[g.keyword]}`,S())}})}}];return F.value&&Object.keys(F.value).forEach(a=>{e.push({prop:a,label:a})}),e}),x=()=>{r.value.validate(e=>{e&&_()})},_=async()=>{const e=(0,p.cloneDeep)(d.value),t=(0,p.cloneDeep)(g);"dashboard"!==g.btnType&&(t.dashboard_groups=[]),Object.assign(e,{parameter:t,refreshApi:y});try{let t,l="資料更新成功";e.id?t=await v.A.updatePartOf(e,e.id):(t=await v.A.addItem(e),l="資料新增成功"),(0,f.nk)({type:"success",message:l}),a("event-emit",{name:"refresh-page",props:t}),D()}catch{}},D=()=>{a("close")},V=e=>{const{isEnabled:a,time:t}=e;y.isEnabled=a,y.time=t},W=()=>{const{parameter:e,refreshApi:a}=d.value;Object.keys(g).forEach(a=>{void 0!==e[a]&&(g[a]=(0,p.cloneDeep)(e[a]))}),k.value=[],e.params&&Object.keys(e.params).forEach(e=>{k.value.push(e)}),y.isEnabled=!!a&&a.isEnabled,y.time=a?a.time:0,E(e.apiurl)},E=async e=>{if(e){n.value=!0;try{const a=(0,p.cloneDeep)(e),t=await b.A.getData(a);F.value=(0,h.G)(t),s.value=t}catch{s.value=[],(0,f.nk)({type:"error",message:"取得資料失敗"})}finally{n.value=!1}}},L=async()=>{await E(),g.value="",g.keyword="",g.params={},k.value=[]},S=async()=>{await(0,l.dY)();const e=s.value.find(e=>`${e[g.keyword]}`===g.value);e&&(g.params={},k.value.forEach(a=>{g.params[a]=e[a]}))},A=()=>{g.value="",k.value=[]},T=()=>{i.value.addGroup()};return(0,l.sV)(()=>{W()}),{closePanel:D,loading:n,editForm:r,rules:w,formData:g,checkValidate:x,tableHeight:t,tableWidth:o,tableList:s,columnSetting:C,changeApiurl:L,refreshApi:y,updateRefreshApi:V,moduleArray:I,paramsKey:k,changeParams:S,clearKeyword:A,addGroup:T,DashboardBoxRef:i}}};t(48821);const T=(0,W.A)(A,[["render",s],["__scopeId","data-v-6fd0f668"]]);var U=T},23540:function(e,a,t){"use strict";t.r(a);var l=t(31601),o=t.n(l),n=t(76314),r=t.n(n),i=r()(o());i.push([e.id,".upload[data-v-15045bed] .el-form-item__content{display:flex;align-items:center}.upload[data-v-15045bed] .el-form-item__content .el-upload{margin:0 10px 0 0}.preview[data-v-15045bed]{display:flex;align-items:flex-start}.svgBlock[data-v-15045bed]{width:100px;height:100px}.svgBlock[data-v-15045bed] svg{width:100%;height:100%;fill:currentColor}",""]),a["default"]=i},27028:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return _}});var l=t(56768),o=t(45130);const n={class:"panelContent"},r={class:"contentWrapper"},i={class:"row"},d=["value"],s=["stroke-dasharray"],c=["value","onClick"],u={viewBox:"0 0 15 15"},p=["d"],m={class:"buttonWrapper"};function f(e,a,t,f,b,g){const h=(0,l.g2)("ColorPicker"),v=(0,l.g2)("el-form-item"),k=(0,l.g2)("el-input"),y=(0,l.g2)("el-form"),w=(0,l.g2)("el-button");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",r,[(0,l.bF)(y,{class:"contentInner",ref:"editForm",model:f.formData,rules:f.rules},{default:(0,l.k6)(()=>[(0,l.Lk)("div",i,[(0,l.bF)(v,{label:"線段顏色",onChange:f.update},{default:(0,l.k6)(()=>[(0,l.bF)(h,{modelValue:f.formData.lineColor,"onUpdate:modelValue":a[0]||(a[0]=e=>f.formData.lineColor=e)},null,8,["modelValue"])]),_:1},8,["onChange"]),(0,l.bF)(v,{label:"線段寬度"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{modelValue:f.formData.lineWidth,"onUpdate:modelValue":a[1]||(a[1]=e=>f.formData.lineWidth=e),modelModifiers:{number:!0},type:"number",onChange:f.update},{append:(0,l.k6)(()=>[...a[6]||(a[6]=[(0,l.eW)("PX",-1)])]),_:1},8,["modelValue","onChange"])]),_:1})]),(0,l.bF)(v,{class:"lineSample",label:"線段樣式"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(f.lineStyle,e=>((0,l.uX)(),(0,l.CE)("div",{key:e},[(0,l.bo)((0,l.Lk)("input",{type:"radio","onUpdate:modelValue":a[2]||(a[2]=e=>f.formData.lineStyle=e),value:e,onChange:a[3]||(a[3]=(...e)=>f.update&&f.update(...e))},null,40,d),[[o.XL,f.formData.lineStyle]]),(0,l.Lk)("label",null,[((0,l.uX)(),(0,l.CE)("svg",null,[(0,l.Lk)("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",stroke:"black","stroke-width":"3px","stroke-dasharray":e},null,8,s)]))])]))),128))]),_:1}),(0,l.bF)(v,{class:"lineSample",label:"箭頭樣式"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(f.arrowType,e=>((0,l.uX)(),(0,l.CE)("div",{key:e},[(0,l.bo)((0,l.Lk)("input",{type:"radio","onUpdate:modelValue":a[4]||(a[4]=e=>f.formData.arrowType=e),value:e,onClick:a=>f.toggleClick(e),onChange:a[5]||(a[5]=(...e)=>f.update&&f.update(...e))},null,40,c),[[o.XL,f.formData.arrowType]]),(0,l.Lk)("label",null,[((0,l.uX)(),(0,l.CE)("svg",u,[(0,l.Lk)("path",{d:e,fill:"black"},null,8,p)]))])]))),128))]),_:1})]),_:1},8,["model","rules"])]),(0,l.Lk)("div",m,[(0,l.bF)(w,{type:"danger",onClick:f.closePanel},{default:(0,l.k6)(()=>[...a[7]||(a[7]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,l.bF)(w,{type:"success",onClick:f.checkValidate},{default:(0,l.k6)(()=>[...a[8]||(a[8]=[(0,l.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}t(18111),t(7588);var b=t(90144),g=t(7118),h=t(78626),v=t(51219),k=t(7681);const y=["","2,2","5,5","10,10"],w=["M0,0 L15,7.5 L0,15 L7.5,7.5 L0,0","M 0 0 L 15 7.5 L 0 15 z","M3.125 1.875l1.91-1.875 7.464 7.5-7.464 7.5-1.91-1.875 5.625-5.625z","M1.625 1.875l0.41-1.875 7.464 7.5-7.464 7.5-0.41-1.875 5.625-5.625z"];var F={name:"EditSvgLine",props:{configProps:{type:Object,default:null}},setup(e,{emit:a}){const t=(0,l.EW)(()=>e?e.configProps.info:{}),o=(0,b.ref)(!1),n=(0,b.ref)(null),r=(0,b.reactive)({lineColor:"",lineStyle:"",arrowType:"",lineWidth:""}),i=(0,g.Q4)(r),d=()=>{n.value.validate(e=>{e&&s()})},s=async()=>{const e=(0,h.cloneDeep)(t.value),l=(0,h.cloneDeep)(t.value.parameter);Object.assign(l,{...r}),Object.assign(e,{parameter:l,refreshApi:{time:0,isEnabled:!1}});try{let t,l="資料更新成功";e.id?t=await k.A.updatePartOf(e,e.id):(t=await k.A.addItem(e),l="資料新增成功"),(0,v.nk)({type:"success",message:l}),a("event-emit",{name:"refresh-page",props:t}),c()}catch{}},c=()=>{a("close")},u=()=>{Object.keys(r).forEach(e=>{t.value.parameter[e]&&(r[e]=(0,h.cloneDeep)(t.value.parameter[e]))})},p=()=>{a("update",r)},m=e=>{r.arrowType===e&&(r.arrowType="",p())};return(0,l.KC)(()=>{u()}),{closePanel:c,loading:o,editForm:n,rules:i,formData:r,checkValidate:d,lineStyle:y,update:p,arrowType:w,toggleClick:m}}},C=(t(6326),t(71241));const x=(0,C.A)(F,[["render",f],["__scopeId","data-v-a94deea0"]]);var _=x},39598:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return v}});t(18111),t(61701);var l=t(56768);const o={class:"panelContent"},n={class:"contentWrapper"},r={class:"row"},i={class:"buttonWrapper"};function d(e,a,t,d,s,c){const u=(0,l.g2)("MapSelect"),p=(0,l.g2)("el-button"),m=(0,l.g2)("el-divider"),f=(0,l.g2)("highcharts"),b=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",n,[(0,l.Lk)("div",r,[a[2]||(a[2]=(0,l.Lk)("p",null,"地圖選擇：",-1)),(0,l.bF)(u,{modelValue:d.formData.model,"onUpdate:modelValue":a[0]||(a[0]=e=>d.formData.model=e),onUpdate:d.getData},null,8,["modelValue","onUpdate"]),(0,l.bF)(p,{class:"downloadExcel",type:"warning",plain:"",onClick:d.download},{default:(0,l.k6)(()=>[...a[1]||(a[1]=[(0,l.Lk)("i",{class:"el-icon-download"},null,-1),(0,l.Lk)("span",null,"地名參數匯出",-1)])]),_:1},8,["onClick"])]),(0,l.bF)(m),d.map&&d.data&&d.highchartOptions.series[0].data?(0,l.bo)(((0,l.uX)(),(0,l.Wv)(f,{key:d.timeStamp,options:d.highchartOptions,constructorType:"mapChart"},null,8,["options"])),[[b,d.loading]]):(0,l.Q3)("",!0)]),(0,l.Lk)("div",i,[(0,l.bF)(p,{type:"danger",onClick:d.closePanel},{default:(0,l.k6)(()=>[...a[3]||(a[3]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"])])])}t(22489),t(20116);var s=t(90144),c=t(51219),u=t(4235),p=t.n(u),m=t(40192),f=t(12545),b={name:"MapDemo",components:{MapSelect:f.A},setup(e,{emit:a}){const o=(0,s.ref)(!1),n=[{prop:"code",label:"代碼"},{prop:"name",label:"地名"}],r=(0,s.ref)(null),i=(0,s.ref)(null),d=(0,s.ref)([]),u=(0,s.ref)(""),f=(0,s.ref)(0),b=(0,s.reactive)({model:"World"}),g=(0,l.EW)(()=>({chart:{type:"map",map:i.value,zoomType:"xy",height:.95*window.innerHeight-240},navigation:{buttonOptions:{enabled:!1}},title:{text:`${u.value}-地圖預覽`},credits:{enabled:!1},accessibility:{enabled:!1},colorAxis:{visible:!1},series:[{data:r.value,joinBy:["hc-key","code"],name:"資料",dataLabels:{enabled:!0,format:"{point.code}"},tooltip:{headerFormat:"",pointFormat:"<b>{point.name} ({point.code})</b>"}}]})),h=async e=>{let a,l;if("World"===e)l=await t.e(1288).then(t.t.bind(t,74610,19)),a=l.default;else{const t=e.toLowerCase();try{o.value=!0,l=await fetch(`https://code.highcharts.com/mapdata/countries/${t}/${t}-all.geo.json`),a=await l.json()}catch{}finally{o.value=!1}}const n=m.A.find(a=>a.abbreviation===e);u.value=`${n.chinese_name}(${n.english_name})`,d.value=a.features.filter(e=>e.properties["hc-key"]).map(e=>({code:e.properties["hc-key"],name:e.properties.name})),r.value=a.features.filter(e=>e.properties["hc-key"]).map(e=>({value:Math.floor(1e3*Math.random()),code:e.properties["hc-key"]})).filter(e=>e.code),i.value=a,f.value=(new Date).getTime()},v=async()=>{try{const{downloadExcel:e}=p()({columnSetting:(0,s.ref)([n]),datas:(0,s.ref)([d.value]),fileName:`${u.value}-地名編碼`,sheetName:[`${u.value}-地名編碼`]});await e()}catch{(0,c.nk)({type:"error",message:"下載失敗"})}},k=()=>{a("close")};return(0,l.KC)(()=>{h(b.model)}),{highchartOptions:g,data:r,map:i,timeStamp:f,formData:b,getData:h,downloadList:d,mapName:u,columnSetting:n,download:v,loading:o,closePanel:k}}},g=(t(55298),t(71241));const h=(0,g.A)(b,[["render",d],["__scopeId","data-v-4d043f7f"]]);var v=h},39862:function(e,a,t){"use strict";t.r(a);var l=t(31601),o=t.n(l),n=t(76314),r=t.n(n),i=r()(o());i.push([e.id,".panelContent.EditCmdTime,.panelContent.EditCmdTime .contentWrapper{height:100%}.panelContent.EditCmdTime .contentWrapper .el-form-item{position:relative;z-index:1}.panelContent.EditCmdTime .contentWrapper .el-form-item .row{align-items:center}.panelContent.EditCmdTime .contentWrapper .row{position:relative;z-index:0}.panelContent.EditCmdTime .contentWrapper .row .el-form-item{align-items:center}.panelContent.EditCmdTime .contentWrapper .el-divider .el-button{margin-left:10px}.panelContent.EditCmdTime .contentWrapper .el-empty{padding:0}.panelContent.EditCmdTime .contentWrapper .preview{background-color:var(--backgroundColor);border-width:var(--borderWidth);border-color:var(--borderColor);border-style:solid;color:var(--fontColor)!important;font-size:var(--fontSize)!important;font-family:var(--fontFamily)!important;font-style:var(--italic);-webkit-text-decoration:var(--underline);text-decoration:var(--underline);width:500px;height:50px}.panelContent.EditCmdTime .contentWrapper .preview>span{width:100%;height:100%;display:flex;justify-content:var(--textAlign)}.panelContent.EditCmdTime .contentWrapper .preview .el-icon-date{font-weight:var(--bolder);margin-right:6px}.panelContent.EditCmdTime .contentWrapper .preview span{font-weight:var(--bolder)}",""]),a["default"]=i},39890:function(e,a,t){var l=t(87783);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=t(68459).A;o("67efebc2",l,!0,{sourceMap:!1,shadowMode:!1})},48821:function(e,a,t){var l=t(89738);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=t(68459).A;o("1df5fbdd",l,!0,{sourceMap:!1,shadowMode:!1})},49847:function(e,a,t){var l=t(23540);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=t(68459).A;o("591d89d8",l,!0,{sourceMap:!1,shadowMode:!1})},54915:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return w}});var l=t(56768),o=t(24232);const n={class:"panelContent EditText"},r={class:"contentWrapper"},i={class:"row"},d={class:"row"},s={class:"buttonWrapper"};function c(e,a,t,c,u,p){const m=(0,l.g2)("FontFamily"),f=(0,l.g2)("el-form-item"),b=(0,l.g2)("FontSizeEdit"),g=(0,l.g2)("ColorPicker"),h=(0,l.g2)("el-divider"),v=(0,l.g2)("el-button"),k=(0,l.g2)("el-tooltip"),y=(0,l.g2)("el-radio-button"),w=(0,l.g2)("el-radio-group"),F=(0,l.g2)("TextArea"),C=(0,l.g2)("el-form");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",r,[(0,l.bF)(C,{class:"contentInner",ref:"editForm",model:c.formData,rules:c.rules,"label-width":"auto"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",i,[(0,l.bF)(f,{label:"字型","label-width":"80px"},{default:(0,l.k6)(()=>[(0,l.bF)(m,{modelValue:c.formData.fontFamily,"onUpdate:modelValue":a[0]||(a[0]=e=>c.formData.fontFamily=e)},null,8,["modelValue"])]),_:1}),(0,l.bF)(f,{label:"文字大小"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{modelValue:c.formData.fontSize,"onUpdate:modelValue":a[1]||(a[1]=e=>c.formData.fontSize=e)},null,8,["modelValue"])]),_:1})]),(0,l.Lk)("div",d,[(0,l.bF)(f,{class:"noFlex",label:"文字顏色","label-width":"80px"},{default:(0,l.k6)(()=>[(0,l.bF)(g,{modelValue:c.formData.color,"onUpdate:modelValue":a[2]||(a[2]=e=>c.formData.color=e),onChange:c.checkColor},null,8,["modelValue","onChange"])]),_:1}),(0,l.bF)(h,{direction:"vertical"}),(0,l.bF)(f,{class:"btn noFlex"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{effect:"dark",content:"粗體",placement:"bottom"},{default:(0,l.k6)(()=>[(0,l.bF)(v,{style:{fontWeight:"bold"},class:(0,o.normalizeClass)({active:c.formData.bolder}),onClick:a[3]||(a[3]=()=>{c.formData.bolder=!c.formData.bolder})},{default:(0,l.k6)(()=>[...a[10]||(a[10]=[(0,l.eW)("B",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,l.bF)(f,{class:"btn noFlex"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{effect:"dark",content:"斜體",placement:"bottom"},{default:(0,l.k6)(()=>[(0,l.bF)(v,{style:{"font-style":"italic"},class:(0,o.normalizeClass)({active:c.formData.italic}),onClick:a[4]||(a[4]=()=>{c.formData.italic=!c.formData.italic})},{default:(0,l.k6)(()=>[...a[11]||(a[11]=[(0,l.eW)("i",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,l.bF)(f,{class:"btn noFlex"},{default:(0,l.k6)(()=>[(0,l.bF)(k,{effect:"dark",content:"底線",placement:"bottom"},{default:(0,l.k6)(()=>[(0,l.bF)(v,{style:{"text-decoration":"underline"},class:(0,o.normalizeClass)({active:c.formData.underline}),onClick:a[5]||(a[5]=()=>{c.formData.underline=!c.formData.underline})},{default:(0,l.k6)(()=>[...a[12]||(a[12]=[(0,l.eW)("U",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,l.bF)(h,{direction:"vertical"}),(0,l.bF)(f,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{modelValue:c.formData.textAlign,"onUpdate:modelValue":a[6]||(a[6]=e=>c.formData.textAlign=e)},{default:(0,l.k6)(()=>[(0,l.bF)(y,{label:"flex-start",title:"水平靠左"},{default:(0,l.k6)(()=>[...a[13]||(a[13]=[(0,l.Lk)("i",{class:"icon-paragraph-left"},null,-1)])]),_:1}),(0,l.bF)(y,{label:"center",title:"水平置中"},{default:(0,l.k6)(()=>[...a[14]||(a[14]=[(0,l.Lk)("i",{class:"icon-paragraph-center"},null,-1)])]),_:1}),(0,l.bF)(y,{label:"flex-end",title:"水平靠右"},{default:(0,l.k6)(()=>[...a[15]||(a[15]=[(0,l.Lk)("i",{class:"icon-paragraph-right"},null,-1)])]),_:1}),(0,l.bF)(y,{label:"space-between",title:"水平均分"},{default:(0,l.k6)(()=>[...a[16]||(a[16]=[(0,l.Lk)("i",{class:"icon-paragraph-justify"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(h,{direction:"vertical"}),(0,l.bF)(f,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{modelValue:c.formData.textVerticle,"onUpdate:modelValue":a[7]||(a[7]=e=>c.formData.textVerticle=e)},{default:(0,l.k6)(()=>[(0,l.bF)(y,{label:"flex-start",title:"垂直靠上"},{default:(0,l.k6)(()=>[...a[17]||(a[17]=[(0,l.Lk)("i",{class:"icon-align-top"},null,-1)])]),_:1}),(0,l.bF)(y,{label:"center",title:"垂直置中"},{default:(0,l.k6)(()=>[...a[18]||(a[18]=[(0,l.Lk)("i",{class:"icon-align-vertical-middle"},null,-1)])]),_:1}),(0,l.bF)(y,{label:"flex-end",title:"垂直靠下"},{default:(0,l.k6)(()=>[...a[19]||(a[19]=[(0,l.Lk)("i",{class:"icon-align-bottom"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(h,{direction:"vertical"}),(0,l.bF)(f,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{modelValue:c.formData.writingMode,"onUpdate:modelValue":a[8]||(a[8]=e=>c.formData.writingMode=e)},{default:(0,l.k6)(()=>[(0,l.bF)(y,{label:!1,title:"水平文字方向"},{default:(0,l.k6)(()=>[...a[20]||(a[20]=[(0,l.Lk)("i",{class:"icon-horizonAlign"},null,-1)])]),_:1}),(0,l.bF)(y,{label:!0,title:"垂直文字方向"},{default:(0,l.k6)(()=>[...a[21]||(a[21]=[(0,l.Lk)("i",{class:"icon-verticalAlign"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),(0,l.bF)(f,{label:"內容","label-width":"50px"},{default:(0,l.k6)(()=>[(0,l.bF)(F,{modelValue:c.formData.text,"onUpdate:modelValue":a[9]||(a[9]=e=>c.formData.text=e),style:(0,o.normalizeStyle)(c.styleSet),darkBg:c.darkBg},null,8,["modelValue","style","darkBg"])]),_:1})]),_:1},8,["model","rules"])]),(0,l.Lk)("div",s,[(0,l.bF)(v,{type:"danger",onClick:c.closePanel},{default:(0,l.k6)(()=>[...a[22]||(a[22]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,l.bF)(v,{type:"success",onClick:c.checkValidate},{default:(0,l.k6)(()=>[...a[23]||(a[23]=[(0,l.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}var u=t(90144),p=t(78626),m=t(51219),f=t(42497),b=t(7118),g=t(7681),h=t(28438),v={name:"EditText",components:{TextArea:h.A,FontFamily:f.A},props:{configProps:{type:Object,default:null}},setup(e,{emit:a}){const t=(0,u.ref)(!1),o=(0,u.ref)(null),{info:n}=e.configProps??{},r=(0,u.ref)(!1),i=(0,u.reactive)({text:n.parameter.text||"",bolder:n.parameter.bolder||!1,italic:n.parameter.italic||!1,underline:n.parameter.underline||!1,fontFamily:n.parameter.fontFamily||"",fontSize:n.parameter.fontSize||"16px",color:n.parameter.color||"#000",textAlign:n.parameter.textAlign||"flex-start",writingMode:n.parameter.writingMode||!1,textVerticle:n.parameter.textVerticle||"center"}),d=(0,l.EW)(()=>({fontSize:i.fontSize,fontFamily:i.fontFamily,color:i.color,justifyContent:i.textVerticle,alignItems:i.textAlign,textAlign:"flex-start"===i.textAlign?"left":"flex-end"===i.textAlign?"right":"center",fontWeight:i.bolder?"bolder":"",fontStyle:i.italic?"italic":"",textDecoration:i.underline?"underline":"",writingMode:i.writingMode?"vertical-lr":"horizontal-tb"})),s=(0,b.Q4)(i),c=()=>{o.value.validate(e=>{e&&f()})},f=async()=>{const e=(0,p.cloneDeep)(n);Object.assign(e,{parameter:i,name:i.text,refreshApi:{time:0,isEnabled:!1}});try{let t,l="資料更新成功";e.id?t=await g.A.updatePartOf(e,e.id):(t=await g.A.addItem(e),l="資料新增成功"),(0,m.nk)({type:"success",message:l}),a("event-emit",{name:"refresh-page",props:t}),h()}catch{}},h=()=>{a("close")},v=e=>{const a=e.substring(1),t=parseInt(a,16),l=t>>16&255,o=t>>8&255,n=255&t,i=.2126*l+.7152*o+.0722*n;r.value=i>210};return(0,l.sV)(()=>{v(i.color)}),{styleSet:d,closePanel:h,loading:t,editForm:o,rules:s,formData:i,checkValidate:c,checkColor:v,darkBg:r}}},k=(t(93701),t(71241));const y=(0,k.A)(v,[["render",c]]);var w=y},54937:function(e,a,t){"use strict";t.r(a);var l=t(31601),o=t.n(l),n=t(76314),r=t.n(n),i=r()(o());i.push([e.id,'.tableSection[data-v-05bb74a0]{display:flex;flex-wrap:wrap;align-items:flex-start;width:100%;height:100%;margin-left:0}.tableSection .sizer[data-v-05bb74a0]{width:12.5%}.tableSection .dashboard[data-v-05bb74a0]{margin:0 0 10px;position:relative;padding:0 10px 0 0;overflow:hidden}.tableSection .dashboard.loaded[data-v-05bb74a0] .groupItem{transform:translateY(0);animation:slideInDown 1.2s both}.tableSection .dashboard.height1[data-v-05bb74a0]{height:200px}.tableSection .dashboard.height2[data-v-05bb74a0]{height:300px}.tableSection .dashboard.height3[data-v-05bb74a0]{height:400px}.tableSection .dashboard.height4[data-v-05bb74a0]{height:500px}.tableSection .dashboard.height5[data-v-05bb74a0]{height:600px}.tableSection .dashboard.height6[data-v-05bb74a0]{height:700px}.tableSection .dashboard.height7[data-v-05bb74a0]{height:800px}.tableSection .dashboard.width1[data-v-05bb74a0]{width:12.5%}.tableSection .dashboard.width2[data-v-05bb74a0]{width:25%}.tableSection .dashboard.width3[data-v-05bb74a0]{width:37.5%}.tableSection .dashboard.width4[data-v-05bb74a0]{width:50%}.tableSection .dashboard.width5[data-v-05bb74a0]{width:62.5%}.tableSection .dashboard.width6[data-v-05bb74a0]{width:75%}.tableSection .dashboard.width7[data-v-05bb74a0]{width:87.5%}.tableSection .dashboard.width8[data-v-05bb74a0]{width:100%}.tableSection .dashboard[data-v-05bb74a0]:before{content:"";display:block;width:calc(100% - 12px);height:calc(100% - 2px);background-color:transparent;position:absolute;top:0;left:0;border:1px dashed red;z-index:1}.tableSection .dashboard .selectGroup[data-v-05bb74a0]{position:absolute;top:3px;right:13px;z-index:1;width:150px;box-shadow:0 0 3px rgba(0,0,0,.2);border-radius:3px;padding:0 0 0 3px!important;background-color:#fff}.tableSection .dashboard .selectGroup[data-v-05bb74a0] .el-form-item{align-items:center;margin-bottom:0}.tableSection .dashboard .selectGroup[data-v-05bb74a0] .el-form-item .el-form-item__label{align-items:center;padding:0;width:auto}.tableSection .dashboard .selectGroup[data-v-05bb74a0] .el-form-item .el-form-item__label:after{content:"："}.tableSection .dashboard[data-v-05bb74a0] .groupItem{transform:translateY(-100%);transition:all 1.2s ease;pointer-events:none;transform:translateY(0);animation:slideInDown 1.2s both}.tableSection .dashboard .deleteDashboard[data-v-05bb74a0]{position:absolute;top:103px;right:13px;z-index:1}',""]),a["default"]=i},55298:function(e,a,t){var l=t(6861);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=t(68459).A;o("3fc5ba3a",l,!0,{sourceMap:!1,shadowMode:!1})},56695:function(e,a,t){var l=t(66634);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=t(68459).A;o("76240c80",l,!0,{sourceMap:!1,shadowMode:!1})},64561:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return W}});var l=t(56768),o=t(24232);const n={class:"panelContent EditImage"},r={class:"contentWrapper"},i={class:"left"},d={class:"row"},s={class:"right"},c={class:"preview"},u={class:"buttonWrapper"};function p(e,a,t,p,m,f){const b=(0,l.g2)("el-radio"),g=(0,l.g2)("el-radio-group"),h=(0,l.g2)("el-form-item"),v=(0,l.g2)("el-divider"),k=(0,l.g2)("el-tooltip"),y=(0,l.g2)("el-input"),w=(0,l.g2)("AngleSelector"),F=(0,l.g2)("el-checkbox"),C=(0,l.g2)("ImgUpload"),x=(0,l.g2)("el-form"),_=(0,l.g2)("el-button");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",r,[(0,l.bF)(x,{class:"contentInner",ref:"editForm",model:p.formData,rules:p.rules},{default:(0,l.k6)(()=>[(0,l.Lk)("div",i,[(0,l.bF)(h,{label:"樣式"},{default:(0,l.k6)(()=>[(0,l.bF)(g,{modelValue:p.formData.parameter.isBorder,"onUpdate:modelValue":a[0]||(a[0]=e=>p.formData.parameter.isBorder=e)},{default:(0,l.k6)(()=>[(0,l.bF)(b,{label:!1},{default:(0,l.k6)(()=>[...a[9]||(a[9]=[(0,l.eW)("普通圖片",-1)])]),_:1}),(0,l.bF)(b,{label:!0},{default:(0,l.k6)(()=>[...a[10]||(a[10]=[(0,l.eW)("邊框圖片(border-image)",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(v),p.formData.parameter.isBorder?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.bF)(h,{"label-width":140},{label:(0,l.k6)(()=>[a[12]||(a[12]=(0,l.eW)("border-image",-1)),(0,l.bF)(k,{effect:"dark",content:"開啟解說",placement:"right"},{default:(0,l.k6)(()=>[...a[11]||(a[11]=[(0,l.Lk)("a",{target:"_blank",href:"https://www.runoob.com/cssref/css3-pr-border-image.html"},[(0,l.Lk)("i",{class:"el-icon-question"})],-1)])]),_:1})]),default:(0,l.k6)(()=>[(0,l.bF)(y,{modelValue:p.formData.parameter.borderImage,"onUpdate:modelValue":a[1]||(a[1]=e=>p.formData.parameter.borderImage=e)},null,8,["modelValue"])]),_:1}),(0,l.bF)(h,{"label-width":140},{label:(0,l.k6)(()=>[a[14]||(a[14]=(0,l.eW)("border-width",-1)),(0,l.bF)(k,{effect:"dark",content:"開啟解說",placement:"right"},{default:(0,l.k6)(()=>[...a[13]||(a[13]=[(0,l.Lk)("a",{target:"_blank",href:"https://www.runoob.com/cssref/pr-border-width.html"},[(0,l.Lk)("i",{class:"el-icon-question"})],-1)])]),_:1})]),default:(0,l.k6)(()=>[(0,l.bF)(y,{modelValue:p.formData.parameter.borderWidth,"onUpdate:modelValue":a[2]||(a[2]=e=>p.formData.parameter.borderWidth=e)},null,8,["modelValue"])]),_:1})],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.bF)(h,{label:"圖片傾斜"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",d,[(0,l.bF)(w,{modelValue:p.formData.parameter.rotateX,"onUpdate:modelValue":a[3]||(a[3]=e=>p.formData.parameter.rotateX=e),prependHtml:"X軸"},null,8,["modelValue"]),a[15]||(a[15]=(0,l.eW)("，",-1)),(0,l.bF)(w,{modelValue:p.formData.parameter.rotateY,"onUpdate:modelValue":a[4]||(a[4]=e=>p.formData.parameter.rotateY=e),prependHtml:"Y軸"},null,8,["modelValue"]),a[16]||(a[16]=(0,l.eW)("，",-1)),(0,l.bF)(w,{modelValue:p.formData.parameter.rotateZ,"onUpdate:modelValue":a[5]||(a[5]=e=>p.formData.parameter.rotateZ=e),prependHtml:"Z軸"},null,8,["modelValue"])])]),_:1}),(0,l.bF)(h,{label:"圖片大小"},{default:(0,l.k6)(()=>[(0,l.bF)(F,{modelValue:p.formData.parameter.imageSize,"onUpdate:modelValue":a[6]||(a[6]=e=>p.formData.parameter.imageSize=e)},{default:(0,l.k6)(()=>[...a[17]||(a[17]=[(0,l.eW)("維持比例",-1)])]),_:1},8,["modelValue"])]),_:1}),p.formData.parameter.imageSize?((0,l.uX)(),(0,l.Wv)(h,{key:0,label:"圖片位置"},{default:(0,l.k6)(()=>[(0,l.bF)(y,{modelValue:p.formData.parameter.imagePosition,"onUpdate:modelValue":a[7]||(a[7]=e=>p.formData.parameter.imagePosition=e),placeholder:"center"},null,8,["modelValue"])]),_:1})):(0,l.Q3)("",!0)],64))]),(0,l.Lk)("div",s,[(0,l.bF)(h,{class:"img",label:"圖片上傳"},{default:(0,l.k6)(()=>[(0,l.bF)(C,{modelValue:p.formData.parameter.src,"onUpdate:modelValue":a[8]||(a[8]=e=>p.formData.parameter.src=e),nopreview:"",hasGallery:"",onChange:p.updateImgSrc},null,8,["modelValue","onChange"]),(0,l.Lk)("div",c,[p.formData.parameter.isBorder?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"borderBox",style:(0,o.normalizeStyle)({borderImage:`url(${p.formData.parameter.src}) ${p.formData.parameter.borderImage}`,borderWidth:p.formData.parameter.borderWidth})},null,4)):((0,l.uX)(),(0,l.CE)("div",{key:1,class:"normalImage",style:(0,o.normalizeStyle)({transform:p.rotate,backgroundImage:`url(${p.formData.parameter.src})`,backgroundSize:p.formData.parameter.imageSize?"contain":"100% 100%",backgroundPosition:p.formData.parameter.imagePosition?p.formData.parameter.imagePosition:"center"})},null,4))])]),_:1})])]),_:1},8,["model","rules"])]),(0,l.Lk)("div",u,[(0,l.bF)(_,{type:"danger",onClick:p.closePanel},{default:(0,l.k6)(()=>[...a[18]||(a[18]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,l.bF)(_,{type:"success",onClick:p.checkValidate},{default:(0,l.k6)(()=>[...a[19]||(a[19]=[(0,l.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function f(e,a){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var l=t.call(e,a||"default");if("object"!=m(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}function b(e){var a=f(e,"string");return"symbol"==m(a)?a:a+""}function g(e,a,t){return(a=b(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t(18111),t(7588);var h=t(90144),v=t(7118),k=t(78626),y=t(51219),w=t(7681),F=t(59429);class C{constructor(){g(this,"width",window.innerWidth),g(this,"height",window.innerHeight-130),g(this,"Wpercent",this.width/100),g(this,"Hpercent",this.height/100)}}const x=new C;var _={name:"EditImage",components:{AngleSelector:F.A},props:{configProps:{type:Object,default:null}},setup(e,{emit:a}){const t=(0,h.ref)(!1),o=(0,h.ref)(null),n=(0,l.EW)(()=>e?e.configProps.info:{}),r=(0,h.reactive)({height:0,width:0}),i=(0,h.reactive)({title:"",width:"",height:"",parameter:{src:"",isBorder:!1,borderImage:"",borderWidth:"",rotateX:void 0,rotateY:void 0,rotateZ:void 0,imageSize:!1,imagePosition:""}}),d=(0,l.EW)(()=>{const e=i.parameter.rotateX?`rotateX(${i.parameter.rotateX}deg)`:"",a=i.parameter.rotateY?`rotateY(${i.parameter.rotateY}deg)`:"",t=i.parameter.rotateZ?`rotateZ(${i.parameter.rotateZ}deg)`:"";return`${e} ${a} ${t}`}),s=(0,v.Q4)(i),c=()=>{o.value.validate(e=>{e&&u()})},u=async()=>{const e=(0,k.cloneDeep)(n.value);Object.assign(e,{...i,refreshApi:{time:0,isEnabled:!1}});try{let t,l="資料更新成功";e.id?t=await w.A.updatePartOf(e,e.id):(t=await w.A.addItem(e),l="資料新增成功"),(0,y.nk)({type:"success",message:l}),a("event-emit",{name:"refresh-page",props:t}),p()}catch{}},p=()=>{a("close")},m=e=>{i.parameter.src=e.imageData,i.title=e.file.name,i.width=e.width/x.width*100+"%",i.height=e.height/x.height*100+"%",r.width=e.width,r.height=e.height},f=()=>{Object.keys(i).forEach(e=>{n.value[e]&&("parameter"===e?Object.keys(i.parameter).forEach(e=>{n.value.parameter[e]&&(i.parameter[e]=n.value.parameter[e])}):i[e]=(0,k.cloneDeep)(n.value[e]))})};return(0,l.sV)(()=>{f()}),{closePanel:p,loading:t,editForm:o,rules:s,formData:i,checkValidate:c,updateImgSrc:m,size:r,rotate:d}}},D=(t(39890),t(71241));const V=(0,D.A)(_,[["render",p]]);var W=V},66634:function(e,a,t){"use strict";t.r(a);var l=t(31601),o=t.n(l),n=t(76314),r=t.n(n),i=r()(o());i.push([e.id,".panelContent[data-v-1596a50f]{height:100%;padding:0 20px 20px}.panelContent .contentWrapper[data-v-1596a50f]{height:100%;padding:0}.panelContent .btnWrap[data-v-1596a50f]{padding:0 0 10px;height:42px;display:flex;justify-content:flex-end}.panelContent .btnWrap[data-v-1596a50f] .downloadExcel{margin:0 10px}",""]),a["default"]=i},69968:function(e,a,t){"use strict";t.r(a);var l=t(31601),o=t.n(l),n=t(76314),r=t.n(n),i=r()(o());i.push([e.id,".panelContent.EditText .contentWrapper .el-form .el-form-item__content{display:flex;align-items:center}.panelContent.EditText .contentWrapper .el-form .el-form-item .TextArea{width:100%;max-height:calc(90vh - 280px);border:1px solid var(--el-input-border-color,var(--el-border-color));box-shadow:0 0 0 1px var(--el-input-border-color,var(--el-border-color)) inset;overflow-y:auto}.panelContent.EditText .contentWrapper .el-form .el-form-item .TextArea blockquote{display:flex;flex-direction:column;padding:15px 20px;margin:0}",""]),a["default"]=i},80808:function(e,a,t){var l={"./DashboardPanel.vue":38251,"./EditCmdParams.vue":64872,"./EditCmdTime.vue":84582,"./EditGrafana.vue":78668,"./EditHighchart.vue":43837,"./EditIframe.vue":99396,"./EditImage.vue":64561,"./EditInput.vue":73911,"./EditPanelBtn.vue":9324,"./EditRadio.vue":9553,"./EditShape.vue":95643,"./EditSvgBlock.vue":3124,"./EditSvgLine.vue":27028,"./EditTable.vue":92719,"./EditText.vue":54915,"./EditTrend.vue":78560,"./GroupTable.vue":88180,"./MapDemo.vue":39598,"./ShowDevice.vue":45074};function o(e){var a=n(e);return t(a)}function n(e){if(!t.o(l,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return l[e]}o.keys=function(){return Object.keys(l)},o.resolve=n,e.exports=o,o.id=80808},84582:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return x}});var l=t(56768),o=t(24232);const n={class:"panelContent EditCmdTime"},r={class:"contentWrapper",ref:"contentWrapper"},i={class:"row"},d={class:"row"},s={class:"row"},c={class:"row"},u={class:"buttonWrapper"};function p(e,a,t,p,m,f){const b=(0,l.g2)("el-input"),g=(0,l.g2)("el-form-item"),h=(0,l.g2)("Timepicker"),v=(0,l.g2)("el-switch"),k=(0,l.g2)("el-divider"),y=(0,l.g2)("FontFamily"),w=(0,l.g2)("FontSizeEdit"),F=(0,l.g2)("ColorPicker"),C=(0,l.g2)("el-button"),x=(0,l.g2)("el-tooltip"),_=(0,l.g2)("el-radio-button"),D=(0,l.g2)("el-radio-group"),V=(0,l.g2)("el-form");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",r,[(0,l.bF)(V,{class:"contentInner",ref:"editForm",model:p.formData,rules:p.rules,"label-width":"110px"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",i,[(0,l.bF)(g,{class:"paramKey",label:"代號",prop:"paramKey"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{modelValue:p.formData.paramKey,"onUpdate:modelValue":a[0]||(a[0]=e=>p.formData.paramKey=e)},{append:(0,l.k6)(()=>[...a[13]||(a[13]=[(0,l.eW)("$",-1)])]),prepend:(0,l.k6)(()=>[...a[14]||(a[14]=[(0,l.eW)("$",-1)])]),_:1},8,["modelValue"])]),_:1}),(0,l.bF)(g,{class:"noFlex",label:"預設時間",error:p.formData.defaultValue?"":"此項必填"},{default:(0,l.k6)(()=>[(0,l.bF)(h,{modelValue:p.formData.defaultValue,"onUpdate:modelValue":a[1]||(a[1]=e=>p.formData.defaultValue=e),onUpdatetime:p.updatetime},null,8,["modelValue","onUpdatetime"])]),_:1},8,["error"]),(0,l.bF)(g,{class:"noFlex",label:"只有管理者可視","label-width":"130px"},{default:(0,l.k6)(()=>[(0,l.bF)(v,{modelValue:p.formData.showInAdmin,"onUpdate:modelValue":a[2]||(a[2]=e=>p.formData.showInAdmin=e)},null,8,["modelValue"])]),_:1})]),(0,l.bF)(k,{"content-position":"left"},{default:(0,l.k6)(()=>[...a[15]||(a[15]=[(0,l.Lk)("b",null,"樣式設定",-1)])]),_:1}),(0,l.Lk)("div",d,[(0,l.bF)(g,{label:"文字字型"},{default:(0,l.k6)(()=>[(0,l.bF)(y,{modelValue:p.formData.fontFamily,"onUpdate:modelValue":a[3]||(a[3]=e=>p.formData.fontFamily=e)},null,8,["modelValue"])]),_:1}),(0,l.bF)(g,{label:"文字大小"},{default:(0,l.k6)(()=>[(0,l.bF)(w,{modelValue:p.formData.fontSize,"onUpdate:modelValue":a[4]||(a[4]=e=>p.formData.fontSize=e)},null,8,["modelValue"])]),_:1})]),(0,l.Lk)("div",s,[(0,l.bF)(g,{class:"noFlex",label:"文字顏色"},{default:(0,l.k6)(()=>[(0,l.bF)(F,{modelValue:p.formData.fontColor,"onUpdate:modelValue":a[5]||(a[5]=e=>p.formData.fontColor=e)},null,8,["modelValue"])]),_:1}),(0,l.bF)(k,{direction:"vertical"}),(0,l.bF)(g,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(x,{effect:"dark",content:"粗體",placement:"bottom"},{default:(0,l.k6)(()=>[(0,l.bF)(C,{class:(0,o.normalizeClass)(["btn",{active:p.formData.bolder}]),style:{"font-weight":"bold"},onClick:a[6]||(a[6]=()=>{p.formData.bolder=!p.formData.bolder})},{default:(0,l.k6)(()=>[...a[16]||(a[16]=[(0,l.eW)("B",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,l.bF)(g,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(x,{effect:"dark",content:"斜體",placement:"bottom"},{default:(0,l.k6)(()=>[(0,l.bF)(C,{class:(0,o.normalizeClass)(["btn",{active:p.formData.italic}]),style:{"font-style":"italic"},onClick:a[7]||(a[7]=()=>{p.formData.italic=!p.formData.italic})},{default:(0,l.k6)(()=>[...a[17]||(a[17]=[(0,l.eW)("i",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,l.bF)(g,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(x,{effect:"dark",content:"底線",placement:"bottom"},{default:(0,l.k6)(()=>[(0,l.bF)(C,{class:(0,o.normalizeClass)(["btn",{active:p.formData.underline}]),style:{"text-decoration":"underline"},onClick:a[8]||(a[8]=()=>{p.formData.underline=!p.formData.underline})},{default:(0,l.k6)(()=>[...a[18]||(a[18]=[(0,l.eW)("U",-1)])]),_:1},8,["class"])]),_:1})]),_:1}),(0,l.bF)(k,{direction:"vertical"}),(0,l.bF)(g,{class:"noFlex btn"},{default:(0,l.k6)(()=>[(0,l.bF)(D,{modelValue:p.formData.textAlign,"onUpdate:modelValue":a[9]||(a[9]=e=>p.formData.textAlign=e)},{default:(0,l.k6)(()=>[(0,l.bF)(_,{label:"flex-start",title:"水平靠左"},{default:(0,l.k6)(()=>[...a[19]||(a[19]=[(0,l.Lk)("i",{class:"icon-paragraph-left"},null,-1)])]),_:1}),(0,l.bF)(_,{label:"center",title:"水平置中"},{default:(0,l.k6)(()=>[...a[20]||(a[20]=[(0,l.Lk)("i",{class:"icon-paragraph-center"},null,-1)])]),_:1}),(0,l.bF)(_,{label:"flex-end",title:"水平靠右"},{default:(0,l.k6)(()=>[...a[21]||(a[21]=[(0,l.Lk)("i",{class:"icon-paragraph-right"},null,-1)])]),_:1}),(0,l.bF)(_,{label:"space-between",title:"水平均分"},{default:(0,l.k6)(()=>[...a[22]||(a[22]=[(0,l.Lk)("i",{class:"icon-paragraph-justify"},null,-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),(0,l.Lk)("div",c,[(0,l.bF)(g,{class:"noFlex",label:"按鈕顏色"},{default:(0,l.k6)(()=>[(0,l.bF)(F,{modelValue:p.formData.backgroundColor,"onUpdate:modelValue":a[10]||(a[10]=e=>p.formData.backgroundColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),(0,l.bF)(g,{class:"noFlex",label:"按鈕邊框顏色"},{default:(0,l.k6)(()=>[(0,l.bF)(F,{modelValue:p.formData.borderColor,"onUpdate:modelValue":a[11]||(a[11]=e=>p.formData.borderColor=e),"show-alpha":""},null,8,["modelValue"])]),_:1}),(0,l.bF)(g,{label:"按鈕邊框寬度"},{default:(0,l.k6)(()=>[(0,l.bF)(b,{modelValue:p.formData.borderWidth,"onUpdate:modelValue":a[12]||(a[12]=e=>p.formData.borderWidth=e),modelModifiers:{number:!0},type:"number"},{append:(0,l.k6)(()=>[...a[23]||(a[23]=[(0,l.eW)("PX",-1)])]),_:1},8,["modelValue"])]),_:1})]),(0,l.bF)(k,{"content-position":"left"},{default:(0,l.k6)(()=>[...a[24]||(a[24]=[(0,l.Lk)("b",null,"預覽",-1)])]),_:1}),(0,l.bF)(C,{class:"preview",type:"info"},{default:(0,l.k6)(()=>[...a[25]||(a[25]=[(0,l.Lk)("i",{class:"el-icon-date"},null,-1),(0,l.eW)("選擇時間",-1)])]),_:1})]),_:1},8,["model","rules"])],512),(0,l.Lk)("div",u,[(0,l.bF)(C,{type:"danger",onClick:p.closePanel},{default:(0,l.k6)(()=>[...a[26]||(a[26]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,l.bF)(C,{type:"success",onClick:p.checkValidate},{default:(0,l.k6)(()=>[...a[27]||(a[27]=[(0,l.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}t(18111),t(7588);var m=t(90144),f=t(51219),b=t(4249),g=t(78626),h=t(7118),v=t(79543),k=t(71886),y=t(51565),w={name:"EditCmdTime",components:{Timepicker:v.u,FontFamily:v.a},props:{configProps:{type:Object,default:null}},setup(e,{emit:a}){const t=(0,b.Pj)(),o=(0,l.EW)(()=>e?e.configProps.info:{}),n=(0,m.ref)(null),r=(0,m.ref)(null),i=(0,m.reactive)({paramKey:"",defaultValue:null,fontFamily:"",fontSize:"16px",fontColor:"",bolder:!1,italic:!1,underline:!1,backgroundColor:"",borderWidth:"",borderColor:"",showInAdmin:void 0,textAlign:"left"}),d=(0,h.Q4)(i),s=()=>{a("close")},c=e=>{i.defaultValue=e},u=()=>{n.value.validate(e=>{e&&p()})},p=async()=>{const e=(0,g.cloneDeep)(o.value);Object.assign(e,{parameter:{...i},refreshApi:{time:0,isEnabled:!1}});try{let l,o="資料更新成功";e.id?l=await k.A.updatePartOf(e,e.id):(l=await k.A.addItem(e),o="資料新增成功"),(0,f.nk)({type:"success",message:o}),t.dispatch("params/updateParams",{key:l.parameter.paramKey,value:l.parameter.defaultValue}),a("event-emit",{name:"refresh-page",props:l}),s()}catch{}},v=()=>{const{parameter:e}=o.value;Object.keys(i).forEach(a=>{(e[a]||!1===e[a])&&(i[a]=(0,g.cloneDeep)(e[a]))})};return(0,l.wB)(i,e=>{(0,y.L)(e,r)},{deep:!0}),(0,l.KC)(()=>{v()}),(0,l.sV)(()=>{(0,y.L)(i,r)}),{editForm:n,rules:d,checkValidate:u,closePanel:s,formData:i,updatetime:c,contentWrapper:r}}},F=(t(8585),t(71241));const C=(0,F.A)(w,[["render",p]]);var x=C},87783:function(e,a,t){"use strict";t.r(a);var l=t(31601),o=t.n(l),n=t(76314),r=t.n(n),i=r()(o());i.push([e.id,".panelContent.EditImage .contentInner{display:flex}.panelContent.EditImage .contentInner .el-divider{margin-top:0}.panelContent.EditImage .contentInner .left{width:calc(100% - 450px);margin-right:50px}.panelContent.EditImage .contentInner .left .el-form-item__label{width:80px}.panelContent.EditImage .contentInner .left .angle .append,.panelContent.EditImage .contentInner .left .angle .prepend{background-color:var(--el-background-color-base);color:var(--el-color-info);vertical-align:middle;display:table-cell;position:relative;border:1px solid #dcdfe6;border-radius:4px;padding:0 20px;width:1px;white-space:nowrap}.panelContent.EditImage .contentInner .left .angle .prepend{border-right:0;border-top-right-radius:0;border-bottom-right-radius:0}.panelContent.EditImage .contentInner .left .angle .append{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0}.panelContent.EditImage .contentInner .left .angle .AngleSelector{display:table-cell;border:1px solid #dcdfe6}.panelContent.EditImage .contentInner .left .el-input-group__append,.panelContent.EditImage .contentInner .left .el-input-group__prepend{padding:0 10px}.panelContent.EditImage .contentInner .right{width:400px}.panelContent.EditImage .contentInner .right .img{flex-direction:column;align-items:flex-start}.panelContent.EditImage .contentInner .right .img .el-form-item__label{width:auto;padding-bottom:10px}.panelContent.EditImage .contentInner .right .img .el-form-item__content{position:relative;flex:none}.panelContent.EditImage .contentInner .right .img .preview{position:absolute;top:0;left:0;width:400px;height:400px;display:flex;justify-content:center;align-items:center;z-index:0}.panelContent.EditImage .contentInner .right .img .preview .borderBox{width:100%;height:100%;border-style:solid}.panelContent.EditImage .contentInner .right .img .preview .normalImage{width:100%;height:100%;background-repeat:no-repeat}.panelContent.EditImage .ImgUpload{position:relative;z-index:1}.panelContent.EditImage .ImgUpload .el-upload-dragger{min-width:400px;min-height:400px;background-color:transparent}",""]),a["default"]=i},88180:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return F}});var l=t(56768),o=t(45130);const n={class:"panelContent"},r={class:"contentWrapper",ref:"view"},i={class:"searchBlock",ref:"searchBlock"},d={class:"btnWrap"},s={class:"tableSection"},c={class:"buttonWrapper"};function u(e,a,t,u,p,m){const f=(0,l.g2)("el-button"),b=(0,l.g2)("DownloadExcel"),g=(0,l.g2)("el-upload"),h=(0,l.g2)("TableWrapper");return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",r,[(0,l.Lk)("div",i,[(0,l.Lk)("div",d,[u.selected.length>0?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.bF)(f,{type:"danger",plain:"",icon:"close",onClick:u.deleteSelected},{default:(0,l.k6)(()=>[...a[1]||(a[1]=[(0,l.eW)("刪除已選",-1)])]),_:1},8,["onClick"]),(0,l.bF)(b,{class:"downloadExcel",datas:[u.downloadData],columnSetting:[u.downloadColumn],"file-name":"預設群組設定","sheet-name":["預設群組設定"]},{default:(0,l.k6)(()=>[(0,l.bF)(f,{type:"warning",plain:"",icon:"Download"},{default:(0,l.k6)(()=>[...a[2]||(a[2]=[(0,l.eW)("匯出已選",-1)])]),_:1})]),_:1},8,["datas","columnSetting"])],64)):(0,l.Q3)("",!0),(0,l.bF)(g,{action:"","show-file-list":!1,"http-request":u.openImportPreviewCheck,"before-upload":u.beforeUpload},{default:(0,l.k6)(()=>[(0,l.bF)(f,{type:"primary",plain:"",icon:"Upload",loading:u.loading,onClick:a[0]||(a[0]=(0,o.D$)(()=>{},["prevent","self"]))},{default:(0,l.k6)(()=>[...a[3]||(a[3]=[(0,l.eW)("匯入",-1)])]),_:1},8,["loading"])]),_:1},8,["http-request","before-upload"])])],512),(0,l.Lk)("div",s,[(0,l.bF)(h,{tableHeight:u.tableHeight,tableWidth:u.tableWidth,tableData:u.tableList,columnSetting:u.columnSetting,listLoading:u.listLoading,hasSelected:""},null,8,["tableHeight","tableWidth","tableData","columnSetting","listLoading"])])],512),(0,l.Lk)("div",c,[(0,l.bF)(f,{type:"danger",onClick:u.closePanel},{default:(0,l.k6)(()=>[...a[4]||(a[4]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"])])])}t(44114),t(18111),t(20116),t(7588),t(61701);var p=t(90144),m=t(12933),f=t(51219),b=t(4249),g=t(78626),h=t(44189),v=t(84055),k={name:"EditGroup",setup(e,{emit:a}){const o=(0,p.ref)(!1),n=(0,p.ref)(""),r=(0,p.ref)([]),i=(0,p.ref)(0),d=(0,p.ref)(void 0),s=(0,p.ref)(0),c=(0,b.Pj)(),u=(0,l.EW)(()=>F.value.map(e=>{const a=(0,g.cloneDeep)(e);return delete a.id,a.children=JSON.stringify(e.children),a})),k=async()=>{o.value=!0;try{r.value=await v.A.getList({ordering:n.value})}catch{}finally{o.value=!1}},{searchBlock:y,view:w,selected:F}=(0,h.Ay)({getList:k}),C=[{prop:"title",label:"名稱",width:200},{prop:"category",label:"分類",width:120},{prop:"description",label:"描述"}],x=(0,g.cloneDeep)(C);x.push({prop:"children",label:"children"},{prop:"height",label:"height"},{prop:"id",label:"id"},{prop:"left",label:"left"},{prop:"top",label:"top"},{prop:"width",label:"width"});const _=({action:e,row:t=null})=>{"edit"===e?a("event-emit",{name:"editGroup",props:t}):D(t)},D=async e=>{try{await m.s.confirm("確定要刪除此群組，刪除後將無法回復","警告",{confirmButtonText:"確認",cancelButtonText:"取消",closeOnClickModal:!1,type:"warning"}),await v.A.delete(e.id);const a=c.state.group.groupList,t=a.findIndex(a=>a.id===e.id);c.dispatch("group/deleteGroup",t),(0,f.nk)({type:"success",message:"刪除成功"}),k()}catch{}},V=async()=>{try{await m.s.confirm("確認刪除？","提醒",{confirmButtonText:"確認",cancelButtonText:"取消",closeOnClickModal:!1,type:"warning"});for(const e of F.value)if(e.id){await v.A.delete(e.id);const a=c.state.group.groupList,t=a.findIndex(a=>a.id===e.id);c.dispatch("group/deleteGroup",t)}F.value=[],(0,f.nk)({type:"success",message:"刪除成功"}),k()}catch{return!1}};(0,h.Ry)({columnSetting:C,handleAction:_,actions:["edit","delete"]});const W=(0,p.ref)(!1),E=e=>{const a=/xmlformats/,t=a.test(e.type);if(!t)return(0,f.nk)({message:"僅能上傳Excel檔",type:"error"}),!1;W.value=!0},L=e=>{W.value=!1;const{file:a}=e,l={id:"only",component:()=>Promise.all([t.e(9507),t.e(825)]).then(t.bind(t,83767)),headerTitle:"ip 匯入資料檢查",contentSize:{width:"90%",height:"90%"}},o={file:a,columnSetting:x,addItem:async e=>{const a=[];for(let l=0;l<e.length;l++){const o=e[l],n=(0,g.cloneDeep)(o);n.children=JSON.parse(o.children);const i=r.value.find(e=>e.title===o.title);try{if(i){const e=await v.A.update(n,i.id);c.dispatch("group/updateGroup",e)}else{const e=await v.A.addItem(n);c.dispatch("group/addGroup",e)}}catch(t){const{detail:e}=t.response.data;a.push(e)}}if(0!==a.length)return(0,f.nk)({type:"error",message:"匯入失敗，請檢查匯入內容"}),e.forEach((e,t)=>{const l={};Object.keys(a[t]).forEach(e=>{l[e]=a[t][e].join("/")}),e.errorMessage=l}),e;(0,f.nk)({type:"success",message:"匯入成功"})},sheetUse:[0],unChange:!1},n={"refresh-page":k};c.dispatch("panels/addPanel",{settings:l,props:o,events:n})},S=()=>{a("close")};return(0,l.KC)(()=>{k()}),(0,l.sV)(()=>{setTimeout(()=>{d.value=w.value.offsetHeight-y.value.offsetHeight,s.value=w.value.offsetWidth},100)}),{closePanel:S,columnSetting:C,searchBlock:y,view:w,tableHeight:d,tableWidth:s,getList:k,ordering:n,listLoading:o,tableList:r,totalNumb:i,selected:F,beforeUpload:E,loading:W,downloadColumn:x,downloadData:u,openImportPreviewCheck:L,deleteSelected:V}}},y=(t(56695),t(71241));const w=(0,y.A)(k,[["render",u],["__scopeId","data-v-1596a50f"]]);var F=w},89738:function(e,a,t){"use strict";t.r(a);var l=t(31601),o=t.n(l),n=t(76314),r=t.n(n),i=r()(o());i.push([e.id,".panelContent[data-v-6fd0f668],.panelContent .contentWrapper[data-v-6fd0f668]{height:100%}.panelContent .contentWrapper[data-v-6fd0f668] .tableWrapper{margin-bottom:18px}.panelContent .contentWrapper[data-v-6fd0f668] .tableWrapper .el-table{margin-right:0}.panelContent .contentWrapper[data-v-6fd0f668] .el-form{padding-bottom:10px}.panelContent .contentWrapper[data-v-6fd0f668] .el-form .row .el-form{padding-bottom:0}.panelContent .contentWrapper[data-v-6fd0f668] .el-form .el-form-item{position:relative}.panelContent .contentWrapper[data-v-6fd0f668] .el-form .el-form-item.apiurl{z-index:1}.panelContent .contentWrapper[data-v-6fd0f668] .el-form .el-form-item .el-form-item__content{display:flex;align-items:center}.panelContent .contentWrapper[data-v-6fd0f668] .el-form .el-form-item .el-form-item__content .SearchData{width:100%}.panelContent .contentWrapper[data-v-6fd0f668] .el-form .el-form-item .code{border:none}.panelContent .contentWrapper[data-v-6fd0f668] .el-form .el-form-item .editor-block{border:1px solid #b8babf}.panelContent .contentWrapper[data-v-6fd0f668] .el-divider .el-button{margin-left:10px}",""]),a["default"]=i},93701:function(e,a,t){var l=t(69968);l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.id,l,""]]),l.locals&&(e.exports=l.locals);var o=t(68459).A;o("50bb76e0",l,!0,{sourceMap:!1,shadowMode:!1})},97429:function(e,a,t){"use strict";t.r(a);var l=t(31601),o=t.n(l),n=t(76314),r=t.n(n),i=r()(o());i.push([e.id,".lineSample[data-v-a94deea0] .el-form-item__content{display:flex}.lineSample[data-v-a94deea0] .el-form-item__content>div{position:relative;margin:0 10px 0 0}.lineSample[data-v-a94deea0] .el-form-item__content label{font-size:72px;padding:5px;border:1px solid #dcdfe6;border-radius:3px;display:flex;justify-content:center;align-items:center;width:85px;height:85px}.lineSample[data-v-a94deea0] .el-form-item__content label svg{width:100%;height:100%}.lineSample[data-v-a94deea0] .el-form-item__content input{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;cursor:pointer}.lineSample[data-v-a94deea0] .el-form-item__content input:checked+label{border:1px solid #409eff}",""]),a["default"]=i},99396:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return g}});var l=t(56768);const o={class:"panelContent"},n={class:"contentWrapper"},r={class:"buttonWrapper"};function i(e,a,t,i,d,s){const c=(0,l.g2)("el-input"),u=(0,l.g2)("el-form-item"),p=(0,l.g2)("el-form"),m=(0,l.g2)("el-button");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",n,[(0,l.bF)(p,{class:"contentInner",ref:"editForm",model:i.formData,rules:i.rules,"label-width":"60px"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{label:"網址"},{default:(0,l.k6)(()=>[(0,l.bF)(c,{modelValue:i.formData.src,"onUpdate:modelValue":a[0]||(a[0]=e=>i.formData.src=e)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),(0,l.Lk)("div",r,[(0,l.bF)(m,{type:"danger",onClick:i.closePanel},{default:(0,l.k6)(()=>[...a[1]||(a[1]=[(0,l.eW)("取消",-1)])]),_:1},8,["onClick"]),(0,l.bF)(m,{type:"success",onClick:i.checkValidate},{default:(0,l.k6)(()=>[...a[2]||(a[2]=[(0,l.Lk)("span",null,"儲存",-1)])]),_:1},8,["onClick"])])])}var d=t(90144),s=t(7118),c=t(78626),u=t(51219),p=t(71886),m={name:"EditIframe",props:{configProps:{type:Object,default:null}},setup(e,{emit:a}){const t=(0,d.ref)(!1),l=(0,d.ref)(null),{info:o}=e.configProps??{},n=(0,d.reactive)({src:o.parameter.src}),r=(0,s.Q4)(n),i=()=>{l.value.validate(e=>{e&&m()})},m=async()=>{const e=(0,c.cloneDeep)(o);Object.assign(e,{parameter:{src:n.src},refreshApi:{time:0,isEnabled:!1}});try{let t,l="資料更新成功";e.id?t=await p.A.updatePartOf(e,e.id):(t=await p.A.addItem(e),l="資料新增成功"),(0,u.nk)({type:"success",message:l}),a("event-emit",{name:"refresh-page",props:t}),f()}catch{}},f=()=>{a("close")};return{closePanel:f,loading:t,editForm:l,rules:r,formData:n,checkValidate:i}}},f=t(71241);const b=(0,f.A)(m,[["render",i]]);var g=b}}]);