(self["webpackChunkcontrol_center"]=self["webpackChunkcontrol_center"]||[]).push([[3041],{47666:function(e,n,t){"use strict";t.r(n);var o=t(31601),l=t.n(o),i=t(76314),a=t.n(i),p=a()(l());p.push([e.id,'.panel{position:fixed;top:var(--top);left:var(--left);z-index:var(--zIndex);background-color:var(--panel_conten_bgc);transform:translate(-50%,-50%);width:var(--width);height:var(--height);min-width:600px;display:flex;flex-direction:column;overflow:hidden;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.25);padding:0 0 50px}@media(max-width:1200px){.panel{min-width:unset}}.panel.animateTime{transition:all .3s ease}.panel.mini{transform:translate(calc(-50vw - 100%),50vh) scale(0);opacity:0}.panel.max{width:100%;height:100%;top:50%;left:50%}.panel .panel-header{display:flex;justify-content:space-between;color:var(--panel_header_word_color);cursor:move;background-color:transparent;padding:25px 20px 15px 20px}@media(max-width:1200px){.panel .panel-header{padding:15px 10px 15px 10px}}.panel .panel-header .panel-title{margin:0 5px 0 8px;font-size:20px;font-weight:700;color:#233647;line-height:1;display:flex;justify-content:center;align-items:center}.panel .panel-header .btns{display:flex;align-items:center}.panel .panel-header .btns .el-button{background-color:transparent;border:none;font-size:26px;padding:0;transition:background-color .2s ease;display:flex;justify-content:center;align-items:center;border-radius:3px;width:40px;height:40px;color:#909399;font-weight:400;font-size:16px}.panel .panel-header .btns .el-button:hover{background-color:#f1f1f1}.panel .panel-header .btns .el-button+.el-button{margin-left:0}.panel .panel-header .btns .el-button .icon-window-maximize{font-size:20px}.panel .panel-header .btns .el-button svg{height:20px;width:20px;margin:0 4px}.panel .panel-content{overflow-y:auto;flex:1}@media(max-width:1024px){.panel .panelContent{min-height:100%;display:flex;flex-direction:column;justify-content:space-between}}.panel .panelContent.el-loading-parent--relative{position:static!important}.panel .panelContent .contentWrapper{position:relative;z-index:1;padding:0 20px 20px;margin:0}@media(max-width:600px){.panel .panelContent .contentWrapper{padding:0 5vw 20px}}.panel .panelContent .contentWrapper .el-form:not(.el-form--label-top) .el-form-item{display:flex}.panel .panelContent .contentWrapper .el-form:not(.el-form--label-top) .el-form-item__label{padding:0 5px 0 0;width:130px;display:flex;align-items:center;justify-content:flex-end}.panel .panelContent .contentWrapper .el-form:not(.el-form--label-top) .el-form-item__label:after{content:"：";font-weight:700}.panel .panelContent .contentWrapper .el-form:not(.el-form--label-top) .el-form-item__content{flex:1}.panel .panelContent .contentWrapper .row{justify-content:space-between}.panel .panelContent .contentWrapper .row>.el-form-item:not(:last-child){margin-right:15px}@media(max-width:600px){.panel .panelContent .contentWrapper .row>.el-form-item:not(:last-child){margin-right:10px}}.panel .panelContent .contentWrapper .el-form-item{flex:1}.panel .panelContent .contentWrapper .el-form-item__content .el-radio__label,.panel .panelContent .contentWrapper .el-form-item__label{color:var(--panel_content_word_color)}.panel .panelContent .contentWrapper .el-form-item__content .el-radio.is-checked .el-radio__inner{background-color:#409eff;border-color:#409eff}.panel .panelContent .contentWrapper .el-form-item__content .el-rate{height:100%;display:flex;align-items:center;padding-bottom:5px}.panel .panelContent .contentWrapper .el-form-item__content .el-rate__icon{margin-right:0;font-size:28px}.panel .panelContent .contentWrapper .el-form-item__content .el-rate__icon.hover{transform:scale(1)}.panel .panelContent .contentWrapper .el-form-item__content .el-switch__label:not(.is-active){color:var(--panel_content_word_color)}.panel .panelContent .contentWrapper .el-form-item__content .el-select{width:100%}.panel .panelContent .contentWrapper .el-form-item__content .el-input__inner,.panel .panelContent .contentWrapper .el-form-item__content .el-textarea__inner{color:#606266}.panel .panelContent .contentWrapper .el-form-item__content .el-checkbox__inner,.panel .panelContent .contentWrapper .el-form-item__content .el-checkbox__label{color:var(--panel_content_word_color)}.panel .panelContent .buttonWrapper{position:absolute;bottom:0;left:0;width:100%;height:auto;display:flex;justify-content:center;align-items:center;box-shadow:0 -2px 8px 0 rgba(0,0,0,.2);z-index:1;background-color:var(--panel_conten_bgc);padding:10px 0}.panel .panelContent .buttonWrapper .el-checkbox{margin-left:10px}.panel .panelContent .buttonWrapper .el-button{font-size:14px;min-height:unset;padding:0 1rem}.panel .panelContent .buttonWrapper .el-button.disabled{color:#fff;background-color:#b3e19d;border-color:#b3e19d;cursor:not-allowed}.panel .previewImg{display:flex;justify-content:center;align-items:center;width:300px;height:145px;border:1px solid #ccc;border-radius:5px;padding:5px;margin:10px 0 0}.mini-panel-container{position:fixed;bottom:0;left:0;display:flex;z-index:999}.mini-panel-container .panel-maximize{width:200px;background-color:var(--panel_header_bgc);padding:.4rem .4rem .4rem .6rem;box-shadow:0 14px 28px rgba(0,0,0,.25),0 10px 10px rgba(0,0,0,.22),0 -3px 8px rgba(0,0,0,.2);display:flex;justify-content:space-between;align-items:center;margin:0 1px}.mini-panel-container .panel-maximize p{color:#fff;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mini-panel-container .panel-maximize .btns{margin-left:8px;display:flex;align-items:center}.mini-panel-container .panel-maximize .btns .el-button{background-color:transparent;border:none;font-size:26px;padding:0;transition:background-color .2s ease;display:flex;justify-content:center;align-items:center;border-radius:3px;width:40px;height:40px;color:#909399;font-weight:400;font-size:16px}.mini-panel-container .panel-maximize .btns .el-button:hover{background-color:#f1f1f1}.mini-panel-container .panel-maximize .btns .el-button .icon-window-maximize{font-size:20px}.mini-panel-container .panel-maximize .btns .el-button svg{height:20px;width:20px;margin:0 4px}.mini-panel-container .panel-maximize .btns .el-button+.el-button{margin-left:0}',""]),n["default"]=p},55266:function(e,n,t){"use strict";t.d(n,{A:function(){return U}});var o=t(56768);const l={class:"mini-panel-container"};function i(e,n,t,i,a,p){const r=(0,o.g2)("PanelItem"),s=(0,o.g2)("MiniPanel");return(0,o.uX)(),(0,o.CE)(o.FK,null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.panels,e=>((0,o.uX)(),(0,o.Wv)(r,{key:`${e.component}${e.id}`,config:e,onClose:n=>i.closePanel(e,n),onToMiniSize:n=>i.toMiniSize(e),onFocusPanel:n=>i.focusPanel(e),onEventEmit:n=>i.eventEmit(n,e.events)},null,8,["config","onClose","onToMiniSize","onFocusPanel","onEventEmit"]))),128)),(0,o.Lk)("div",l,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.miniPanels,(e,n)=>((0,o.uX)(),(0,o.Wv)(s,{key:`${e.component}${e.id}`,config:e,onClose:t=>i.closeMiniPanel(e,n),onRestore:t=>i.restore(e,n)},null,8,["config","onClose","onRestore"]))),128))])],64)}t(44114);var a=t(90144),p=t(4249),r=t(24232),s=t(45130);const c={class:"panel-header",ref:"drager"},d={class:"panel-title"},m={class:"btns"},f={key:0,focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22"},u={key:1,viewBox:"0 0 16 17",focusable:"false",xmlns:"http://www.w3.org/2000/svg"},x={class:"panel-content"};function h(e,n,t,l,i,a){const p=(0,o.g2)("el-button");return(0,o.uX)(),(0,o.Wv)(o.Im,{to:"body"},[(0,o.Lk)("div",{class:(0,r.normalizeClass)(["panel",{mini:l.miniSize,animateTime:l.animateTime,max:l.maxSize}]),ref:"panelBox",onMousedown:n[1]||(n[1]=(...e)=>l.focusPanel&&l.focusPanel(...e))},[(0,o.Lk)("div",c,[(0,o.Lk)("p",d,(0,r.toDisplayString)(t.config.options.headerTitle),1),(0,o.Lk)("div",m,[(0,o.bF)(p,{size:l.sizeMini,onClick:(0,s.D$)(l.toMiniSize,["stop"])},{default:(0,o.k6)(()=>[...n[2]||(n[2]=[(0,o.Lk)("i",{class:"el-icon-minus"},null,-1)])]),_:1},8,["size","onClick"]),(0,o.bF)(p,{size:l.sizeMini,onClick:(0,s.D$)(l.toggleMaxSize,["stop"])},{default:(0,o.k6)(()=>[l.maxSize?((0,o.uX)(),(0,o.CE)("svg",f,[...n[3]||(n[3]=[(0,o.Lk)("path",{fill:"currentColor",d:"M18.3,2H7.1C6.1,2,5.4,2.8,5.4,3.7v1.7H3.7C2.8,5.4,2,6.1,2,7.1v11.3C2,19.2,2.8,20,3.7,20h11.3c0.9,0,1.7-0.8,1.7-1.7v-1.7 h1.7c0.9,0,1.7-0.8,1.7-1.7V3.7C20,2.8,19.2,2,18.3,2z M14.9,18.3H3.7V11h11.3V18.3z M18.3,14.9h-1.7V7.1c0-0.9-0.8-1.7-1.7-1.7H7.1 V3.7h11.3V14.9z"},null,-1)])])):((0,o.uX)(),(0,o.CE)("svg",u,[...n[4]||(n[4]=[(0,o.Lk)("path",{d:"M2.85714 5.95455H13.1429V5.13636C13.1429 4.91937 13.0526 4.71126 12.8918 4.55782C12.7311 4.40438 12.513 4.31818 12.2857 4.31818H3.71429C3.48696 4.31818 3.26894 4.40438 3.10819 4.55782C2.94745 4.71126 2.85714 4.91937 2.85714 5.13636V5.95455ZM2.85714 6.77273V10.8636C2.85714 11.0806 2.94745 11.2887 3.10819 11.4422C3.26894 11.5956 3.48696 11.6818 3.71429 11.6818H12.2857C12.513 11.6818 12.7311 11.5956 12.8918 11.4422C13.0526 11.2887 13.1429 11.0806 13.1429 10.8636V6.77273H2.85714ZM3.71429 3.5H12.2857C12.7404 3.5 13.1764 3.6724 13.4979 3.97928C13.8194 4.28616 14 4.70237 14 5.13636V10.8636C14 11.2976 13.8194 11.7138 13.4979 12.0207C13.1764 12.3276 12.7404 12.5 12.2857 12.5H3.71429C3.25963 12.5 2.82359 12.3276 2.5021 12.0207C2.18061 11.7138 2 11.2976 2 10.8636V5.13636C2 4.70237 2.18061 4.28616 2.5021 3.97928C2.82359 3.6724 3.25963 3.5 3.71429 3.5Z",fill:"currentColor"},null,-1)])]))]),_:1},8,["size","onClick"]),(0,o.bF)(p,{size:l.sizeMini,onClick:(0,s.D$)(l.closePanel,["stop"])},{default:(0,o.k6)(()=>[...n[5]||(n[5]=[(0,o.Lk)("i",{class:"el-icon-close"},null,-1)])]),_:1},8,["size","onClick"])])],512),(0,o.Lk)("div",x,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(l.getDynamicComponent),{ref:"componentRef",configProps:t.config.props,onClose:l.closePanel,onEventEmit:n[0]||(n[0]=e=>l.eventEmit(e))},null,40,["configProps","onClose"]))])],34)])}var v=t(78626);function g(e,n){const{x:t,y:o}=e,l=(0,v.cloneDeep)(e),i=o>=n.value.top,a=t<=n.value.right,p=o<=n.value.bottom,r=t>=n.value.left;return i||(l.y=n.value.top),p||(l.y=n.value.bottom),r||(l.x=n.value.left),a||(l.x=n.value.right),{bool:i&&a&&p&&r,x:l.x,y:l.y}}function b(e,n,t){const l=(0,a.ref)(!1),i=(0,a.ref)(0),p=(0,a.ref)(0),r=(0,a.reactive)({X:0,Y:0}),s=(0,a.reactive)({X:0,Y:0}),c=(0,a.reactive)({X:0,Y:0}),d=e=>{r.X=e.clientX,r.Y=e.clientY,l.value=!0},m=e=>{if(l.value){const n=e.clientX,o=e.clientY;if(s.X=c.X+(n-r.X),s.Y=c.Y+(o-r.Y),window.getSelection().removeAllRanges(),t){const e=g({x:s.X,y:s.Y},t);e.bool?(i.value=s.X,p.value=s.Y):(i.value=e.x,p.value=e.y)}else i.value=s.X,p.value=s.Y}},f=()=>{l.value=!1,r.X=0,r.Y=0,c.X=i.value,c.Y=p.value},u=e=>{const{offsetX:t,offsetY:o}=e||n;i.value=t,p.value=o,c.X=t,c.Y=o};return u(),(0,o.sV)(()=>{e.value.addEventListener("mousedown",d),window.addEventListener("mousemove",m),window.addEventListener("mouseup",f)}),(0,o.xo)(()=>{e.value.removeEventListener("mousedown",d),window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",f)}),{offsetX:i,offsetY:p,reset:u}}const w=t(91625).version,C=w.indexOf("beta")>-1?"mini":"small";var _={name:"PanelItem",props:{config:{type:Object,default:null}},emits:["close","toMiniSize","focusPanel","eventEmit"],setup(e,{emit:n}){const l=(0,a.ref)(null),i=window.innerHeight,p=window.innerWidth,{contentSize:r,position:s}=e?e.config.options:null,c=(0,o.EW)(()=>!!e&&e.config.miniSize),d=(0,o.EW)(()=>e?e.config.options.order:0),m=(0,a.ref)(!1),f=(0,a.ref)(!1),u=(0,a.ref)(null),x=(0,a.ref)(null),h=(0,o.EW)(()=>({top:M.value/2-i/2,right:p/2-W.value/2,bottom:i/2-M.value/2,left:W.value/2-p/2})),{offsetX:g,offsetY:w}=b(x,s,h),_=(0,o.EW)(()=>{const n=e?e.config.component:"";return(0,o.$V)({loader:"string"===typeof n?()=>t(92523)(`./${n}.vue`):n})}),z=(e,n)=>{const t=u.value.style,o="--"+e;t.removeProperty(o),t.setProperty(o,n)},k=e=>{n("eventEmit",e)},y=()=>{n("focusPanel")},P=()=>{n("close",l.value)},E=(0,v.debounce)(()=>{n("toMiniSize")},300,{leading:!0,trailing:!1}),W=(0,o.EW)(()=>u.value?u.value.offsetWidth:0),M=(0,o.EW)(()=>u.value?u.value.offsetHeight:0),S=(0,v.debounce)(()=>{m.value=!m.value},300,{leading:!0,trailing:!1}),L=()=>{f.value=!0,setTimeout(()=>{f.value=!1},301)};return(0,o.wB)(c,L),(0,o.wB)(m,L),(0,o.wB)(d,e=>{z("zIndex",999+e)}),(0,o.wB)(g,e=>{window.innerWidth>1200?z("left",`calc(50% + ${e}px)`):z("left","50%")}),(0,o.wB)(w,e=>{window.innerWidth>1200?z("top",`calc(50% + ${e}px)`):z("top","50%")}),(0,o.sV)(()=>{z("width",r.width),z("height",r.height),z("zIndex",999+d.value),window.innerWidth>1200?(z("left",`calc(50% + ${g.value}px)`),z("top",`calc(50% + ${w.value}px)`)):(z("left","50%"),z("top","50%"))}),{drager:x,panelBox:u,closePanel:P,toggleMaxSize:S,maxSize:m,miniSize:c,toMiniSize:E,sizeMini:C,animateTime:f,focusPanel:y,getDynamicComponent:_,eventEmit:k,componentRef:l}}},z=t(71241);const k=(0,z.A)(_,[["render",h]]);var y=k;const P={class:"panel-maximize"},E={class:"btns"};function W(e,n,t,l,i,a){const p=(0,o.g2)("el-button");return(0,o.uX)(),(0,o.CE)("div",P,[(0,o.Lk)("p",null,(0,r.toDisplayString)(t.config.options.headerTitle),1),(0,o.Lk)("div",E,[(0,o.bF)(p,{size:l.sizeMini,onClick:l.restore},{default:(0,o.k6)(()=>[...n[0]||(n[0]=[(0,o.Lk)("svg",{focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22"},[(0,o.Lk)("path",{fill:"currentColor",d:"M18.3,2H7.1C6.1,2,5.4,2.8,5.4,3.7v1.7H3.7C2.8,5.4,2,6.1,2,7.1v11.3C2,19.2,2.8,20,3.7,20h11.3c0.9,0,1.7-0.8,1.7-1.7v-1.7 h1.7c0.9,0,1.7-0.8,1.7-1.7V3.7C20,2.8,19.2,2,18.3,2z M14.9,18.3H3.7V11h11.3V18.3z M18.3,14.9h-1.7V7.1c0-0.9-0.8-1.7-1.7-1.7H7.1 V3.7h11.3V14.9z"})],-1)])]),_:1},8,["size","onClick"]),(0,o.bF)(p,{size:l.sizeMini,onClick:l.closePanel},{default:(0,o.k6)(()=>[...n[1]||(n[1]=[(0,o.Lk)("i",{class:"el-icon-close"},null,-1)])]),_:1},8,["size","onClick"])])])}const M=t(91625).version,S=M.indexOf("beta")>-1?"mini":"small";var L={name:"MiniPanel",props:{config:{type:Object,default:null}},setup(e,{emit:n}){const t=()=>{n("close")},o=()=>{n("restore")};return{closePanel:t,restore:o,sizeMini:S}}};const X=(0,z.A)(L,[["render",W]]);var V=X,Y=(t(18111),t(7588),t(51219));const A="ADD_PANEL",T="UPSATE_PANEL",H="CLOSE_PANEL",I="SET_PANEL_COMPONENTS",j="CLEAR_ALL_PANELS",$="UPDATE_ORDER",D={panels:[]},O={[A]:(e,n)=>{const{component:t,id:o,props:l,events:i,options:a}=n,p=e.panels.findIndex(e=>e.component===t&&e.id===o);if(-1===p){const n={component:t,id:o,props:l,events:i,show:!0,options:{closeOnEscape:!0,headerTitle:a.headerTitle,container:"window",position:{offsetX:e.panels.length?20*e.panels.length:0,offsetY:e.panels.length?20*e.panels.length:0},order:e.panels.length,contentSize:a.contentSize}};e.panels.push(n)}else Y.nk.error("相同彈窗已開啟")},[H]:(e,n)=>{e.panels.splice(n,1)},[T]:(e,n)=>{const t=e.panels.findIndex(e=>e.component===n.component&&e.id===n.id);Object.keys(n).forEach(o=>{e.panels[t][o]=n[o]})},[I](e,n){e.availablePanels=n},[j](e){e.panels=[]},[$](e,n){const t=e.panels.findIndex(e=>e.component===n.component&&e.id===n.id);e.panels[t].options.order=e.panels.length;const o=(0,v.cloneDeep)(e.panels);o.sort((e,n)=>e.options.order-n.options.order),o.forEach((n,t)=>{const o=e.panels.findIndex(e=>e.component===n.component&&e.id===n.id);e.panels[o].options.order=t})}},B={addPanel({commit:e},{settings:n,props:t={},events:o=null}){const l={parent:window.location.pathname.replace("/",""),...t},{headerTitle:i,contentSize:a,component:p,id:r}=n,s={XS:{width:"380px",height:"140px"},S:{width:"770px",height:"140px"},M:{width:"770px",height:"280px"},L:{width:"960px",height:"535px"},XL:{width:"960px",height:"700px"}},c={options:{headerTitle:i,contentSize:s[a]||a||{width:"960px",height:"470px"}},component:p,id:r,props:l,events:o};e(A,c)},updatePanel({commit:e},n){e(T,n)},async closePanel({commit:e},n){await(0,o.dY)();const t=D.panels.findIndex(e=>e.component===n.component&&e.id===n.id);-1!==t&&e(H,t)},clearAllPanels({commit:e}){e(j)},updateOrder({commit:e},n){e($,n)}};var F={namespaced:!0,state:D,mutations:O,actions:B},R=(t(70637),{name:"PanelGroup",components:{PanelItem:y,MiniPanel:V},setup(){const e=(0,p.Pj)();e.state.panels||e.registerModule("panels",F);const n=(0,o.EW)(()=>e.state.panels.panels),t=(0,a.ref)([]),l=async(n,t)=>{try{n.events&&n.events.close&&await n.events.close(n,t),e.dispatch("panels/closePanel",n)}catch{}},i=(e,n)=>{t.value.splice(n,1),l(e)},r=n=>{0!==n.options.order&&e.dispatch("panels/updateOrder",n)},s=(e,n)=>{const{name:t,props:o}=e;n[t](o)},c=(n,o)=>{t.value.splice(o,1);const l=n;l.miniSize=!1,e.dispatch("panels/updatePanel",n),0!==n.options.order&&e.dispatch("panels/updateOrder",n)},d=n=>{t.value.push(n);const o=n;o.miniSize=!0,e.dispatch("panels/updatePanel",n)};return{panels:n,miniPanels:t,closePanel:l,closeMiniPanel:i,eventEmit:s,restore:c,toMiniSize:d,focusPanel:r}}});const N=(0,z.A)(R,[["render",i]]);var K=N;const Z=function(e){e.component("Panels",K)};var U={install:Z}},70637:function(e,n,t){var o=t(47666);o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);var l=t(68459).A;l("409b8a6e",o,!0,{sourceMap:!1,shadowMode:!1})}}]);