(function(e){function t(t){for(var r,a,s=t[0],l=t[1],i=t[2],b=0,u=[];b<s.length;b++)a=s[b],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&u.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);d&&d(t);while(u.length)u.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={main:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/i18n_transformer/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var d=l;c.push(["cd49","chunk-vendors"]),n()})({"1e17":function(e,t,n){"use strict";n("7ea2")},"2d56":function(e,t,n){"use strict";n("482f")},"482f":function(e,t,n){},"7ea2":function(e,t,n){},c30b:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);var r=n("3fd4"),o=(n("7dd6"),n("7a23"));function c(e,t,n,r,c,a){const s=Object(o["M"])("Main");return Object(o["D"])(),Object(o["i"])(s)}const a=Object(o["fb"])("data-v-38be9a50"),s=a((e,t,n,r,c,a)=>{const s=Object(o["M"])("Upload"),l=Object(o["M"])("Table"),i=Object(o["M"])("DownLoad");return Object(o["D"])(),Object(o["i"])(o["b"],null,[Object(o["m"])(s),e.jsonText?(Object(o["D"])(),Object(o["i"])(o["b"],{key:0},[Object(o["m"])(l),Object(o["m"])(i)],64)):Object(o["j"])("",!0)],64)});var l=n("5502");const i=Object(o["fb"])("data-v-2db2a8d2");Object(o["G"])("data-v-2db2a8d2");const d={class:"downLoadBox"},b=Object(o["l"])("下載 Json 檔"),u={key:0},j=Object(o["m"])("p",null,"請確認無誤後再產生json檔",-1);Object(o["E"])();const p=i((e,t,n,r,c,a)=>{const s=Object(o["M"])("el-button"),l=Object(o["M"])("el-dialog");return Object(o["D"])(),Object(o["i"])("div",d,[Object(o["m"])(s,{type:"primary",icon:"el-icon-download",onClick:e.downLoadFile},{default:i(()=>[b]),_:1},8,["onClick"]),Object(o["m"])(l,{modelValue:e.showError,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showError=t),width:"250px","lock-scroll":!1,"show-close":!1,"before-close":e.beforeClose,title:e.i18nError.length>0?`[${e.i18nError.join("、")}]：以上項目重複定義`:"i18n參數未填寫"},{default:i(()=>[e.i18nError.length>0?(Object(o["D"])(),Object(o["i"])("span",u,"(表格中反紅處)")):Object(o["j"])("",!0),j]),_:1},8,["modelValue","before-close","title"])])});n("13d5"),n("0643"),n("4e3e"),n("9d4a");var f=n("c4e3"),O=n.n(f),v=Object(o["n"])({name:"DownLoad",setup(){const e=Object(l["b"])(),t=Object(o["g"])(()=>e.state.hasError),n=Object(o["g"])(()=>e.state.jsonText),r=Object(o["g"])(()=>e.state.i18nError),c=Object(o["I"])(!1),a=Object(o["g"])(()=>0!==r.value.length&&c.value||t.value&&c.value),s=Object(o["I"])([]),i=()=>{c.value=!1},d=()=>{c.value=!0,n.value.csvHead.forEach((t,r)=>{const o=/([(][a-zA-Z])\w+/;if(o.test(t)){const o=t.split("(")[1].replace(")",""),c={},a=n.value.csvHead.findIndex(e=>e.indexOf("i18n")>-1);if(a<0)return e.dispatch("setHasError",!0),!1;n.value.csvBody.forEach(t=>{const n=t[a].split(".");n.reduce((o,c,a,s)=>{const l=/object|undefined/,i=s.slice(0,a+1);if(!l.test(typeof o))return e.dispatch("setI18nError",i.join(".")),e.dispatch("setHasError",!0),!1;if(a!==n.length-1){var d;o[c]=null!==(d=o[c])&&void 0!==d?d:{}}else{if(o[c])return e.dispatch("setI18nError",i.join(".")),e.dispatch("setHasError",!0),!1;o[c]=t[r]}return o[c]},c)}),s.value.push({fileName:o,fileData:JSON.stringify(c)})}}),t.value||b()},b=()=>{const e=new O.a;s.value.forEach(t=>{const n=e.folder(t.fileName);n&&n.file("index.json",t.fileData)}),e.generateAsync({type:"base64"}).then(e=>{u(e)})},u=e=>{var t=document.createElement("a");t.setAttribute("href","data:application/zip;base64,"+e),t.setAttribute("download","i18n"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)};return{showError:a,i18nError:r,downLoadFile:d,beforeClose:i}}}),m=(n("2d56"),n("6b0d")),h=n.n(m);const E=h()(v,[["render",p],["__scopeId","data-v-2db2a8d2"]]);var y=E;const w=Object(o["fb"])("data-v-2d83df2e");Object(o["G"])("data-v-2d83df2e");const x={class:"previews"},g=Object(o["m"])("h2",null,"預覽",-1);Object(o["E"])();const T=w((e,t,n,r,c,a)=>{const s=Object(o["M"])("el-table-column"),l=Object(o["M"])("el-table");return Object(o["D"])(),Object(o["i"])("div",x,[g,Object(o["m"])(l,{data:e.tableData,border:""},{default:w(()=>[(Object(o["D"])(!0),Object(o["i"])(o["b"],null,Object(o["K"])(e.jsonText.csvHead,t=>(Object(o["D"])(),Object(o["i"])(s,{prop:t,label:t},Object(o["k"])({_:2},[t.indexOf("i18n")>-1?{name:"default",fn:w(n=>[Object(o["m"])("div",{class:e.errorCheck(n.row,t)},Object(o["Q"])(n.row[t]),3)])}:void 0]),1032,["prop","label"]))),256))]),_:1},8,["data"])])});var _=Object(o["n"])({name:"Table",setup(){const e=Object(l["b"])(),t=Object(o["g"])(()=>e.state.jsonText),n=Object(o["g"])(()=>e.state.i18nError),r=Object(o["g"])(()=>{const e=[],n=t.value;return n.csvBody.forEach(t=>{const r={};t.forEach((e,t)=>{const o=n.csvHead[t];r[o]=e}),e.push(r)}),e}),c=(e,t)=>n.value.indexOf(e[t])>-1?"error":"";return{jsonText:t,tableData:r,i18nError:n,errorCheck:c}}});n("1e17");const D=h()(_,[["render",T],["__scopeId","data-v-2d83df2e"]]);var M=D;const k={class:"uploadBox"},H=Object(o["m"])("i",{class:"el-icon-upload"},null,-1),S=Object(o["m"])("div",{class:"el-upload__text"},[Object(o["l"])("将文件拖到此处，或"),Object(o["m"])("em",null,"点击上传")],-1);function I(e,t,n,r,c,a){const s=Object(o["M"])("el-upload");return Object(o["D"])(),Object(o["i"])("div",k,[Object(o["m"])(s,{drag:"",action:"","http-request":e.uploadAction,"before-upload":e.beforeUpload,"show-file-list":!1},{default:Object(o["bb"])(()=>[H,S]),_:1},8,["http-request","before-upload"])])}var A=n("369b"),C=n.n(A),J=Object(o["n"])({name:"Upload",setup(){const e=Object(l["b"])(),t=Object(o["H"])({csvHead:[],csvBody:[],csvName:"",lang:1}),n=t=>{const n=/text\/csv/,r=n.test(t.type);if(!r)return alert("上傳的圖片格式僅能為*.csv"),!1;e.dispatch("reset")},r=async n=>{const r=n.file;t.csvName=r.name,C.a.parse(r,{skipEmptyLines:!0,complete:e=>{t.csvHead=[...e.data[0]],e.data.shift(),t.csvBody=null===e||void 0===e?void 0:e.data}}),e.dispatch("setJsonText",t)};return{beforeUpload:n,uploadAction:r}}});const L=h()(J,[["render",I]]);var N=L,P=Object(o["n"])({name:"Index",components:{Upload:N,Table:M,DownLoad:y},setup(){const e=Object(l["b"])(),t=Object(o["g"])(()=>e.state.jsonText);return{jsonText:t}}});n("e07a");const R=h()(P,[["render",s],["__scopeId","data-v-38be9a50"]]);var B=R,U=Object(o["n"])({name:"App",components:{Main:B}});const V=h()(U,[["render",c]]);var q=V;const z="SET_JSONTEXT",F="SET_I18NERROR",G="SET_HASERROR",K="RESET",Q=Object(l["a"])({state:{jsonText:"",i18nError:[],hasError:!1},mutations:{[z](e,t){e.jsonText=t},[F](e,t){e.i18nError.indexOf(t)<0&&e.i18nError.push(t)},[G](e,t){e.hasError=t},[K](e){e.jsonText="",e.i18nError=[],e.hasError=!1}},actions:{setJsonText(e,t){e.commit(z,t)},setI18nError(e,t){e.commit(F,t)},setHasError(e,t){e.commit(G,t)},reset(e){e.commit(K)}}});var X=Q;n("c30b");Object(o["h"])(q).use(X).use(r["a"]).mount("#app")},e07a:function(e,t,n){"use strict";n("f601")},f601:function(e,t,n){}});